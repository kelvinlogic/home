!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"]})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$log","$parse","gridUtil","uiGridConstants",function(e,i,t,r,n){var o={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(i,t,r,o){function l(){var e=i.col.compiledElementFn;e(i,function(e){t.append(e)})}if(o)l();else{var a=i.col.cellTemplate.replace(n.COL_FIELD,"grid.getCellValue(row, col)"),d=e(a)(i);t.append(d)}},post:function(e,i){if(i.addClass(e.col.getColClass(!1)),e.col.cellClass){var t=i;t.addClass(angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass)}}}}};return o}]),function(){angular.module("ui.grid").directive("uiGridColumnMenu",["$log","$timeout","$window","$document","$injector","gridUtil","uiGridConstants","i18nService",function(e,i,t,r,n,o,l,a){var d={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(d,s,c,u){function g(){d.$apply(d.hideMenu),r.off("click",g)}function p(){d.$apply(d.hideMenu)}o.enableAnimations(s),d.grid=u.grid;var f=this;u.columnMenuScope=d,f.shown=d.menuShown=!1,d.asc=l.ASC,d.desc=l.DESC,d.menu=s[0].querySelectorAll(".ui-grid-menu"),d.inner=s[0].querySelectorAll(".ui-grid-menu-inner"),d.sortable=function(){return u.grid.options.enableSorting&&"undefined"!=typeof d.col&&d.col&&d.col.enableSorting?!0:!1},d.filterable=function(){return u.grid.options.enableFiltering&&"undefined"!=typeof d.col&&d.col&&d.col.enableFiltering?!0:!1};var h=[{title:a.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),d.sortColumn(e,l.ASC)},shown:function(){return d.sortable()},active:function(){return"undefined"!=typeof d.col&&"undefined"!=typeof d.col.sort&&"undefined"!=typeof d.col.sort.direction&&d.col.sort.direction===l.ASC}},{title:a.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),d.sortColumn(e,l.DESC)},shown:function(){return d.sortable()},active:function(){return"undefined"!=typeof d.col&&"undefined"!=typeof d.col.sort&&"undefined"!=typeof d.col.sort.direction&&d.col.sort.direction===l.DESC}},{title:a.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),d.unsortColumn()},shown:function(){return d.sortable()&&"undefined"!=typeof d.col&&"undefined"!=typeof d.col.sort&&"undefined"!=typeof d.col.sort.direction&&null!==d.col.sort.direction}},{title:a.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),d.hideColumn()}}];d.menuItems=h,d.$watch("col.menuItems",function(e){"undefined"!=typeof e&&e&&angular.isArray(e)?(e.forEach(function(e){"undefined"!=typeof e.context&&e.context||(e.context={}),e.context.col=d.col}),d.menuItems=h.concat(e)):d.menuItems=h});var m;try{m=n.get("$animate")}catch(v){e.info("$animate service not found (ngAnimate not add as a dependency?), menu animations will not occur")}d.showMenu=function(e,t){function n(){i(function(){h&&m?(m.removeClass(d.inner,"ng-hide"),f.shown=d.menuShown=!0,d.$broadcast("show-menu")):angular.element(d.inner).hasClass("ng-hide")&&angular.element(d.inner).removeClass("ng-hide");var i=e.renderContainer?e.renderContainer:"body",n=(e.grid.renderContainers[i],o.closestElm(t,".ui-grid-render-container")),c=n.offsetLeft-d.grid.element[0].offsetLeft,v=n.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,w=o.elementWidth(d.menu,!0),C=parseInt(angular.element(d.menu).css("padding-right"),10);s.css("left",l+c-v+p-w+C+"px"),s.css("top",a+u+"px"),r.on("click",g)})}f.col=d.col=e,r.off("click",g);var l=t[0].offsetLeft,a=t[0].offsetTop,c=0;e.grid.options.offsetLeft&&(c=e.grid.options.offsetLeft);var u=o.elementHeight(t,!0),p=o.elementWidth(t,!0),h=!1;d.menuShown&&m?(m.addClass(d.inner,"ng-hide",n),h=!0):(f.shown=d.menuShown=!0,d.$broadcast("show-menu"),n())},d.hideMenu=function(){delete f.col,delete d.col,f.shown=d.menuShown=!1,d.$broadcast("hide-menu")},angular.element(t).bind("resize",p),d.$on("$destroy",d.$on(l.events.GRID_SCROLL,function(){d.hideMenu()})),d.$on("$destroy",d.$on(l.events.ITEM_DRAGGING,function(){d.hideMenu()})),d.$on("$destroy",function(){angular.element(t).off("resize",p),r.off("click",g)}),d.sortColumn=function(e,i){e.stopPropagation(),u.grid.sortColumn(d.col,i,!0).then(function(){u.grid.refresh(),d.hideMenu()})},d.unsortColumn=function(){d.col.unsort(),u.grid.refresh(),d.hideMenu()},d.hideColumn=function(){d.col.colDef.visible=!1,u.grid.refresh(),d.hideMenu()}},controller:["$scope",function(e){var i=this;e.$watch("menuItems",function(e){i.menuItems=e})}]};return d}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$log","$timeout","gridUtil","$compile",function(e,i,t,r){var n={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,i){function n(n){t.getTemplate(n).then(function(t){var n=r(t),o=n(e);i.append(o)})}n(e.col.footerCellTemplate?e.col.footerCellTemplate:"ui-grid/uiGridFooterCell")},post:function(e,i,t,r){e.grid=r.grid,i.addClass(e.col.getColClass(!1))}}}};return n}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,r,n){var o="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,i,r,l){var a=l[0],d=l[1];e.grid=a.grid,e.colContainer=d.colContainer,d.footer=i;var s=e.grid.options.footerTemplate?e.grid.options.footerTemplate:o;n.getTemplate(s).then(function(r){var n=angular.element(r),o=t(n)(e);if(i.append(o),d){var l=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(d.footerViewport=l)}})},post:function(i,t,r,o){var l=o[0],a=o[1];e.debug("ui-grid-footer link");l.grid;n.disableAnimations(t),a.footer=t;var d=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];d&&(a.footerViewport=d)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,i,t){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(i,n){var o=i.grid.options.groupPanelTemplate||r;t.getTemplate(o).then(function(t){var r=angular.element(t),o=e(r)(i);n.append(o)})},post:function(e,i){i.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$log","$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,i,t,r,n,o,l){var a=500,d={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:"?^uiGrid",replace:!0,compile:function(){return{pre:function(e,t){var r=i(e.col.headerCellTemplate)(e);t.append(r)},post:function(e,i,r,n){function o(i){var t=!1;i.shiftKey&&(t=!0),n.grid.sortColumn(e.col,t).then(function(){n.columnMenuScope&&n.columnMenuScope.hideMenu(),n.grid.refresh()})}e.grid=n.grid,e.grid.api.core.raise.filterChanged||e.grid.api.registerEvent("core","filterChanged"),i.addClass(e.col.getColClass(!1)),e.menuShown=!1,e.asc=l.ASC,e.desc=l.DESC;var d=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")));e.sortable=n.grid.options.enableSorting&&e.col.enableSorting?!0:!1,e.filterable=n.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1;var s,c=0;if(d.on("mousedown",function(r){"undefined"!=typeof r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(c=(new Date).getTime(),s=t(function(){},a),s.then(function(){n.columnMenuScope.showMenu(e.col,i)}))}),d.on("mouseup",function(){t.cancel(s)}),e.toggleMenu=function(t){t.stopPropagation(),n.columnMenuScope.menuShown&&n.columnMenuScope.col===e.col?n.columnMenuScope.hideMenu():n.columnMenuScope.showMenu(e.col,i)},e.sortable&&(d.on("click",function(e){e.stopPropagation(),t.cancel(s);var i=(new Date).getTime(),r=i-c;r>a||o(e)}),e.$on("$destroy",function(){t.cancel(s)})),e.filterable){var u=[];angular.forEach(e.col.filters,function(i,t){u.push(e.$watch("col.filters["+t+"].term",function(){n.grid.api.core.raise.filterChanged(),n.grid.refresh().then(function(){n.prevScrollArgs&&n.prevScrollArgs.y&&n.prevScrollArgs.y.percentage&&n.fireScrollingEvent({y:{percentage:n.prevScrollArgs.y.percentage}})})}))}),e.$on("$destroy",function(){angular.forEach(u,function(e){e()})})}}}}};return d}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,r,n){var o="ui-grid/ui-grid-header",l="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,i,r,a){var d=a[0],s=a[1];e.grid=d.grid,e.colContainer=s.colContainer,s.header=i,s.colContainer.header=i;var c;c=e.grid.options.hideHeader?l:e.grid.options.headerTemplate?e.grid.options.headerTemplate:o,n.getTemplate(c).then(function(r){var n=angular.element(r),o=t(n)(e);if(i.append(o),s){var l=i[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(s.headerViewport=l)}})},post:function(i,t,r,o){function l(){var e=[],i=[],t=0,r=d.colContainer.getViewportWidth();"undefined"!=typeof a.grid.verticalScrollbarWidth&&void 0!==a.grid.verticalScrollbarWidth&&a.grid.verticalScrollbarWidth>0&&(r+=a.grid.verticalScrollbarWidth);var o,l=0,c=0,u="",g=d.colContainer.visibleColumnCache;g.forEach(function(r){if(r.visible){var o=!1;angular.isNumber(r.width)||(o=isNaN(r.width)?n.endsWith(r.width,"%"):!1),angular.isString(r.width)&&-1!==r.width.indexOf("*")?(t=parseInt(t+r.width.length,10),e.push(r)):o?i.push(r):angular.isNumber(r.width)&&(l=parseInt(l+r.width,10),c=parseInt(c,10)+parseInt(r.width,10),r.drawnWidth=r.width)}});var p,f,h,m=r-l;if(i.length>0){for(p=0;p<i.length;p++){f=i[p];var v=parseInt(f.width.replace(/%/g,""),10)/100;h=parseInt(v*m,10),f.colDef.minWidth&&h<f.colDef.minWidth?(h=f.colDef.minWidth,m-=h,c+=h,f.drawnWidth=h,i.splice(p,1)):f.colDef.maxWidth&&h>f.colDef.maxWidth&&(h=f.colDef.maxWidth,m-=h,c+=h,f.drawnWidth=h,i.splice(p,1))}i.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100,t=parseInt(i*m,10);c+=t,e.drawnWidth=t})}if(e.length>0){var w=parseInt(m/t,10);for(p=0;p<e.length;p++)f=e[p],h=parseInt(w*f.width.length,10),f.colDef.minWidth&&h<f.colDef.minWidth?(h=f.colDef.minWidth,m-=h,t--,c+=h,f.drawnWidth=h,o=f,e.splice(p,1)):f.colDef.maxWidth&&h>f.colDef.maxWidth&&(h=f.colDef.maxWidth,m-=h,t--,c+=h,f.drawnWidth=h,e.splice(p,1));w=parseInt(m/t,10),e.forEach(function(e){var i=parseInt(w*e.width.length,10);c+=i,e.drawnWidth=i})}var C=r-parseInt(c,10);if(C>0&&c>0&&r>c){var y=!1;if(g.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(y=!0)}),y)for(var b=function(e){C>0&&(e.drawnWidth=e.drawnWidth+1,c+=1,C--)};C>0;)g.forEach(b)}return r>c&&(c=r),g.forEach(function(e){u+=e.getColClassDefinition()}),s.verticalScrollbarWidth&&(c+=s.verticalScrollbarWidth),d.colContainer.canvasWidth=parseInt(c,10),u}var a=o[0],d=o[1];e.debug("ui-grid-header link");var s=a.grid;n.disableAnimations(t),d.header=t;var c=t[0].getElementsByClassName("ui-grid-header-viewport")[0];c&&(d.headerViewport=c),a&&a.grid.registerStyleComputation({priority:5,func:l})}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$log","$compile","$timeout","$window","$document","gridUtil",function(e,i,t,r,n,o){var l={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,i){o.enableAnimations(i),("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(r).on("resize",e.hideMenu),e.$on("hide-menu",function(){e.shown=!1}),e.$on("show-menu",function(){e.shown=!0}),e.$on("$destroy",function(){angular.element(r).off("resize",e.hideMenu)})},controller:["$scope","$element","$attrs",function(e){function i(){e.$apply(function(){r.hideMenu(),angular.element(document).off("click",i)})}var r=this;r.hideMenu=e.hideMenu=function(){e.shown=!1},r.showMenu=e.showMenu=function(){e.shown=!0,angular.element(document).off("click",i),t(function(){angular.element(document).on("click",i)})},e.$on("$destroy",function(){angular.element(document).off("click",i)})}]};return l}]).directive("uiGridMenuItem",["$log","gridUtil","$compile","i18nService",function(e,i,t,r){var n={priority:0,scope:{title:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(e,r,n,o){o[0],o[1];e.templateUrl&&i.getTemplate(e.templateUrl).then(function(i){var n=angular.element(i),o=t(n)(e);r.replaceWith(o)})},post:function(i,t,n,o){var l=o[0],a=o[1];("undefined"==typeof i.shown||null===i.shown)&&(i.shown=function(){return!0}),i.itemShown=function(){var e={};return i.context&&(e.context=i.context),"undefined"!=typeof l&&l&&(e.grid=l.grid),i.shown.call(e)},i.itemAction=function(t,r){if(e.debug("itemAction"),t.stopPropagation(),"function"==typeof i.action){var n={};i.context&&(n.context=i.context),"undefined"!=typeof l&&l&&(n.grid=l.grid),i.action.call(n,t,r),a.hideMenu()}},i.i18n=r.get()}}}};return n}])}(),function(){angular.module("ui.grid").directive("uiGridNativeScrollbar",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,i,t,r,n){var o=n.getScrollbarWidth();o=o>0?o:17;var l=n.detectBrowser();return"ie"===l&&(o+=1),{scope:{type:"@"},require:["^uiGrid","^uiGridRenderContainer"],link:function(e,i,t,l){function a(){var e=p.getViewportHeight(),i=p.getCanvasHeight(),t=f.headerHeight?f.headerHeight:h.headerHeight,r=".grid"+h.id+" .ui-grid-render-container-"+g.containerId+" .ui-grid-native-scrollbar.vertical .contents { height: "+i+"px; }";return r+="\n .grid"+h.id+" .ui-grid-render-container-"+g.containerId+" .ui-grid-native-scrollbar.vertical { height: "+e+"px; top: "+t+"px}",w=i,r}function d(){var e=f.getCanvasWidth(),i=-1*o+y;h.options.showFooter&&(i-=1);var t=".grid"+h.id+" .ui-grid-render-container-"+g.containerId+" .ui-grid-native-scrollbar.horizontal { bottom: "+i+"px; }";return t+=".grid"+h.id+" .ui-grid-render-container-"+g.containerId+" .ui-grid-native-scrollbar.horizontal .contents { width: "+e+"px; }",w=e,t}function s(){if("vertical"===e.type){h.flagScrollingVertically();var t=i[0].scrollTop,r=p.getCanvasHeight()-p.getViewportHeight();h.horizontalScrollbarHeight&&h.horizontalScrollbarHeight>0&&(r-=u.grid.horizontalScrollbarHeight);var o=t/r;o>1&&(o=1),0>o&&(o=0);var l={target:i,y:{percentage:o}};e.scrollSource?e.scrollSource=null:u.fireScrollingEvent(l),v=t}else if("horizontal"===e.type){h.flagScrollingHorizontally();var a=n.normalizeScrollLeft(i),d=f.getCanvasWidth()-f.getViewportWidth(),s=a/d,c={target:i,x:{percentage:s}};e.scrollSource?e.scrollSource=null:u.fireScrollingEvent(c),v=a}}function c(t,r){if(!r.target||r.target!==i&&!angular.element(r.target).hasClass("ui-grid-native-scrollbar"))if(e.scrollSource=r.target,"vertical"===e.type){if(r.y&&"undefined"!=typeof r.y.percentage&&void 0!==r.y.percentage){h.flagScrollingVertically();var o=p.getCanvasHeight()-p.getViewportHeight(),l=Math.max(0,r.y.percentage*o);i[0].scrollTop=l}}else if("horizontal"===e.type&&r.x&&"undefined"!=typeof r.x.percentage&&void 0!==r.x.percentage){h.flagScrollingHorizontally();var a=f.getCanvasWidth()-f.getViewportWidth(),d=Math.max(0,r.x.percentage*a);i[0].scrollLeft=n.denormalizeScrollLeft(i,d)}}var u=l[0],g=l[1],p=g.rowContainer,f=g.colContainer,h=u.grid,m=angular.element('<div class="contents">&nbsp;</div>');i.addClass("ui-grid-native-scrollbar");var v,w=0;"vertical"===e.type?(i.css("width",o+"px"),i.addClass("vertical"),h.verticalScrollbarWidth=o,f.verticalScrollbarWidth=o,v=i[0].scrollTop):"horizontal"===e.type&&(i.css("height",o+"px"),i.addClass("horizontal"),h.horizontalScrollbarHeight=o,p.horizontalScrollbarHeight=o,v=n.normalizeScrollLeft(i)),i.append(m),"vertical"===e.type?w=n.elementHeight(i):"horizontal"===e.type&&(w=n.elementWidth(i));var C=n.closestElm(i,".ui-grid"),y=n.getBorderSize(C,"bottom");"vertical"===e.type?h.registerStyleComputation({priority:6,func:a}):"horizontal"===e.type&&h.registerStyleComputation({priority:6,func:d}),e.scrollSource=null,i.on("scroll",s),i.on("$destroy",function(){i.off("scroll")});var b=e.$on(r.events.GRID_SCROLL,c);e.$on("$destroy",b)}}}])}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,i,t,r,n){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableScrollbars:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(i,t,r,n){e.debug("render container "+i.containerId+" pre-link");var o=n[0],l=n[1],a=i.grid=o.grid;if(!i.rowContainerName)throw"No row render container name specified";if(!i.colContainerName)throw"No column render container name specified";if(!a.renderContainers[i.rowContainerName])throw"Row render container '"+i.rowContainerName+"' is not registered.";if(!a.renderContainers[i.colContainerName])throw"Column render container '"+i.colContainerName+"' is not registered.";var d=i.rowContainer=a.renderContainers[i.rowContainerName],s=i.colContainer=a.renderContainers[i.colContainerName];l.containerId=i.containerId,l.rowContainer=d,l.colContainer=s},post:function(i,o,l,a){function d(e,t){if(t.y&&i.bindScrollVertical){p.prevScrollArgs=t;var r=h.getCanvasHeight()-h.getViewportHeight();f.horizontalScrollbarHeight&&f.horizontalScrollbarHeight>0&&(r+=f.horizontalScrollbarHeight);var o,l=p.viewport[0].scrollTop;if("undefined"!=typeof t.y.percentage&&void 0!==t.y.percentage)o=t.y.percentage;else{if("undefined"==typeof t.y.pixels||void 0===t.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");o=t.y.percentage=(l+t.y.pixels)/r}var a=Math.max(0,o*r);p.viewport[0].scrollTop=a,p.prevScrollArgs.y.pixels=a-l}if(t.x&&i.bindScrollHorizontal){p.prevScrollArgs=t;var d,s=m.getCanvasWidth()-m.getViewportWidth(),c=n.normalizeScrollLeft(p.viewport);if("undefined"!=typeof t.x.percentage&&void 0!==t.x.percentage)d=t.x.percentage;else{if("undefined"==typeof t.x.pixels||void 0===t.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");d=t.x.percentage=(c+t.x.pixels)/s}var u=Math.max(0,d*s);p.viewport[0].scrollLeft=n.denormalizeScrollLeft(p.viewport,u),p.prevScrollLeft=u,p.headerViewport&&(p.headerViewport.scrollLeft=n.denormalizeScrollLeft(p.headerViewport,u)),p.footerViewport&&(p.footerViewport.scrollLeft=n.denormalizeScrollLeft(p.footerViewport,u)),p.prevScrollArgs.x.pixels=u-c}}function s(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault();var i,t,r,n;r=e.targetTouches[0].screenX,n=e.targetTouches[0].screenY,i=-(r-y),t=-(n-C),E=1>t?-1:1,x=1>i?-1:1,t*=2,i*=2;var o={target:e.target};if(0!==t){var l=(b+t)/(h.getCanvasHeight()-h.getViewportHeight());l>1?l=1:0>l&&(l=0),o.y={percentage:l,pixels:t}}if(0!==i){var a=(S+i)/(m.getCanvasWidth()-m.getViewportWidth());a>1?a=1:0>a&&(a=0),o.x={percentage:a,pixels:i}}g.fireScrollingEvent(o)}function c(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),t.unbind("touchmove",s),t.unbind("touchend",c),t.unbind("touchcancel",c);{var i=p.viewport[0].scrollTop,r=p.viewport[0].scrollTop;Math.abs(i-b),Math.abs(r-S),new Date-w}}function u(){var e="",t=m.getCanvasWidth(),r=m.getViewportWidth(),n=h.getCanvasHeight(),o=h.getViewportHeight(),l=m.getHeaderViewportWidth(),a=m.getHeaderViewportWidth();return e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-canvas { width: "+t+"px; height: "+n+"px; }",e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-header-canvas { width: "+t+"px; }",e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-header-viewport { width: "+l+"px; }",e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-footer-canvas { width: "+t+"px; }",e+="\n .grid"+g.grid.id+" .ui-grid-render-container-"+i.containerId+" .ui-grid-footer-viewport { width: "+a+"px; }"}e.debug("render container "+i.containerId+" post-link");var g=a[0],p=a[1],f=g.grid,h=p.rowContainer,m=p.colContainer;o.addClass("ui-grid-render-container-"+i.containerId);var v;(i.bindScrollHorizontal||i.bindScrollVertical)&&(v=i.$on(r.events.GRID_SCROLL,d)),o.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var i=n.normalizeWheelEvent(e),t={target:o};if(0!==i.deltaY){var r=-120*i.deltaY,l=(p.viewport[0].scrollTop+r)/(h.getCanvasHeight()-h.getViewportHeight());0>l?l=0:l>1&&(l=1),t.y={percentage:l,pixels:r}}if(0!==i.deltaX){var a=-120*i.deltaX,d=n.normalizeScrollLeft(p.viewport),s=(d+a)/(m.getCanvasWidth()-m.getViewportWidth());0>s?s=0:s>1&&(s=1),t.x={percentage:s,pixels:a}}g.fireScrollingEvent(t)});var w,C=0,y=0,b=0,S=0,E=1,x=1;n.isTouchEnabled()&&o.bind("touchstart",function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),g.scrollbars.forEach(function(e){e.addClass("ui-grid-scrollbar-visible"),e.addClass("ui-grid-scrolling")}),w=new Date,C=e.targetTouches[0].screenY,y=e.targetTouches[0].screenX,b=p.viewport[0].scrollTop,S=p.viewport[0].scrollLeft,t.on("touchmove",s),t.on("touchend touchcancel",c)}),o.bind("$destroy",function(){v(),o.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){o.unbind(e)})}),g.grid.registerStyleComputation({priority:6,func:u})}}}}}]),e.controller("uiGridRenderContainer",["$scope","$log",function(e){var i=this;i.rowStyle=function(t){var r=e.grid.renderContainers[e.containerId],n={};if(!r.disableRowOffset&&0===t&&0!==i.currentTopRow){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;n["margin-top"]=o+"px"}return r.disableColumnOffset||0===e.colContainer.currentFirstColumn||(e.grid.isRTL()?n["margin-right"]=e.colContainer.columnOffset+"px":n["margin-left"]=e.colContainer.columnOffset+"px"),n},i.columnStyle=function(i){var t=e.grid.renderContainers[e.containerId];if(!t.disableColumnOffset&&0===i&&0!==e.colContainer.currentFirstColumn){var r=e.colContainer.columnOffset;return e.grid.isRTL()?{"margin-right":r+"px"}:{"margin-left":r+"px"}}return null}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["$log",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,i,t,r){var n=r[0],o=r[1],l=n.grid;e.grid=n.grid,e.colContainer=o.colContainer,l.getRowTemplateFn.then(function(t){t(e,function(e){i.replaceWith(e)})})},post:function(e,i,t,r){{var n=r[0];r[1]}e.getExternalScopes=n.getExternalScopes}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["$log","$interpolate",function(e,i){return{link:function(t,r){e.debug("ui-grid-style link");var n=i(r.text(),!0);n&&t.$watch(n,function(e){r.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["$log","gridUtil",function(e,i){return{replace:!0,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(t,r,n,o){e.debug("viewport post-link");var l=o[0],a=o[1];t.containerCtrl=a;{var d=a.rowContainer,s=a.colContainer;l.grid}t.grid=l.grid,t.rowContainer=a.rowContainer,t.colContainer=a.colContainer,a.viewport=r,r.on("scroll",function(){var e=r[0].scrollTop,t=i.normalizeScrollLeft(r);if(t!==s.prevScrollLeft){var n=(t-s.prevScrollLeft,s.getCanvasWidth()-s.getViewportWidth()),o=t/n;s.adjustScrollHorizontal(t,o)}if(e!==d.prevScrollTop){var l=(e-d.prevScrollTop,d.getCanvasHeight()-d.getViewportHeight()),a=e/l;a>1&&(a=1),0>a&&(a=0),d.adjustScrollVertical(e,a)}})}}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,i,t){e.$watch(t.uiGridVisible,function(e){i[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","$log","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,i,t,r,n,o,l,a,d,s,c,u){function g(e,i){e&&e!==i&&(f.grid.options.columnDefs=e,f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates(),f.grid.refreshCanvas(!0)}))}function p(i){var n=[];i&&(0===f.grid.columns.length&&(r.debug("loading cols in dataWatchFunction"),t.uiGridColumns||0!==f.grid.options.columnDefs.length||f.grid.buildColumnDefsFromData(i),n.push(f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates()}))),o.all(n).then(function(){f.grid.modifyRows(i).then(function(){f.grid.redrawInPlace(),e.$evalAsync(function(){f.grid.refreshCanvas(!0)})})}))}r.debug("ui-grid controller");var f=this;f.grid=d.createGrid(e.uiGrid),i.addClass("grid"+f.grid.id),f.grid.rtl="rtl"===i.css("direction"),f.getExternalScopes=e.getExternalScopes,e.grid=f.grid,t.uiGridColumns&&t.$observe("uiGridColumns",function(e){f.grid.options.columnDefs=e,f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates(),f.grid.refreshCanvas(!0)})});var h;h=angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,p):e.$parent.$watchCollection(function(){return e.uiGrid.data},p);var m=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},g);e.$on("$destroy",function(){h(),m()}),e.$watch(function(){return f.grid.styleComputations},function(){f.grid.refreshCanvas(!0)}),f.fireScrollingEvent=function(i){e.$broadcast(l.events.GRID_SCROLL,i)},f.fireEvent=function(i,t){("undefined"==typeof t||void 0===t)&&(t={}),("undefined"==typeof t.grid||void 0===t.grid)&&(t.grid=f.grid),e.$broadcast(i,t)},f.innerCompile=function(i){u(i)(e)}}]),angular.module("ui.grid").directive("uiGrid",["$log","$compile","$templateCache","gridUtil","$window",function(e,i,t,r,n){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"=",getExternalScopes:"&?externalScopes"},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(i,t,o,l){function a(){d.gridWidth=i.gridWidth=r.elementWidth(t),d.gridHeight=i.gridHeight=r.elementHeight(t),d.queueRefresh()}e.debug("ui-grid postlink");var d=l.grid;if(l.scrollbars=[],d.renderingComplete(),d.element=t,d.gridWidth=i.gridWidth=r.elementWidth(t),d.canvasWidth=l.grid.gridWidth,d.gridHeight=i.gridHeight=r.elementHeight(t),d.gridHeight<d.options.rowHeight){var s=d.options.minRowsToShow*d.options.rowHeight;t.css("height",s+"px"),d.gridHeight=i.gridHeight=r.elementHeight(t)}d.refreshCanvas();var c=angular.element('<div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div>');t.prepend(c),l.innerCompile(c);var u=angular.element('<div  ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div>');t.append(u),l.innerCompile(u),i.$watch(function(){return d.hasLeftContainer()},function(e,i){e!==i&&d.refreshCanvas(!0)}),i.$watch(function(){return d.hasRightContainer()},function(e,i){e!==i&&d.refreshCanvas(!0)}),angular.element(n).on("resize",a),t.on("$destroy",function(){angular.element(n).off("resize",a)})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["$log",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(i,t,r,n){function o(){var e="";if("left"===i.side||"right"===i.side){for(var r=l.renderContainers[i.side].visibleColumnCache,n=0,o=0;o<r.length;o++){var d=r[o];n+=d.drawnWidth}a=n,t.attr("style",null);var s=l.renderContainers.body.getViewportHeight();e+=".grid"+l.id+" .ui-grid-pinned-container-"+i.side+", .grid"+l.id+" .ui-grid-pinned-container-"+i.side+" .ui-grid-render-container-"+i.side+" .ui-grid-viewport { width: "+a+"px; height: "+s+"px; } "}return e}e.debug("ui-grid-pinned-container "+i.side+" link");var l=n.grid,a=0;t.addClass("ui-grid-pinned-container-"+i.side),l.renderContainers.body.registerViewportAdjuster(function(e){return e.width-=a,e}),l.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$log","$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,i,t,r,n,o,l,a,d,s,c,u,g,p){function f(){}var h=function(e){var i=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');i.id=e.id,delete e.id,i.options=new l,angular.extend(i.options,e),i.headerHeight=i.options.headerRowHeight,i.footerHeight=i.options.showFooter===!0?i.options.footerRowHeight:0,i.rtl=!1,i.gridHeight=0,i.gridWidth=0,i.columnBuilders=[],i.rowBuilders=[],i.rowsProcessors=[],i.columnsProcessors=[],i.styleComputations=[],i.viewportAdjusters=[],i.rowHeaderColumns=[],i.renderContainers={},i.renderContainers.body=new g("body",i),i.cellValueGetterCache={},i.getRowTemplateFn=null,i.rows=[],i.columns=[],i.isScrollingVertically=!1,i.isScrollingHorizontally=!1;var t=n.debounce(function(){i.isScrollingVertically=!1},300),r=n.debounce(function(){i.isScrollingHorizontally=!1},300);i.flagScrollingVertically=function(){i.isScrollingVertically=!0,t()},i.flagScrollingHorizontally=function(){i.isScrollingHorizontally=!0,r()},i.api=new s(i),i.api.registerMethod("core","refresh",this.refresh),i.api.registerMethod("core","refreshRows",this.refreshRows),i.api.registerEvent("core","sortChanged")};return h.prototype.isRTL=function(){return this.rtl},h.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},h.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)},h.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},h.prototype.getColumn=function(e){var i=this.columns.filter(function(i){return i.colDef.name===e
});return i.length>0?i[0]:null},h.prototype.getColDef=function(e){var i=this.options.columnDefs.filter(function(i){return i.name===e});return i.length>0?i[0]:null},h.prototype.assignTypes=function(){var i=this;i.options.columnDefs.forEach(function(t,r){if(!t.type){var o=new a(t,r,i),l=i.rows.length>0?i.rows[0]:null;l?t.type=n.guessType(i.getCellValue(l,o)):(e.log("Unable to assign type from data, so defaulting to string"),t.type="string")}})},h.prototype.addRowHeaderColumn=function(e){var i=this,t=new a(e,i.rowHeaderColumns.length+1,i);t.isRowHeader=!0,i.isRTL()?(i.createRightContainer(),t.renderContainer="right"):(i.createLeftContainer(),t.renderContainer="left"),i.columnBuilders[0](e,t,i.gridOptions).then(function(){t.enableFiltering=!1,t.enableSorting=!1,i.rowHeaderColumns.push(t)})},h.prototype.buildColumns=function(){e.debug("buildColumns");var t=this,r=[],n=t.rowHeaderColumns.length;return angular.forEach(t.rowHeaderColumns,function(e){n++,t.columns.push(e)}),t.columns.length>t.options.columnDefs.length&&t.columns.forEach(function(e,i){t.getColDef(e.name)||t.columns.splice(i,1)}),t.options.columnDefs.forEach(function(e,i){t.preprocessColDef(e);var o=t.getColumn(e.name);o?o.updateColumnDef(e,o.index):(o=new a(e,i+n,t),t.columns.push(o)),t.columnBuilders.forEach(function(i){r.push(i.call(t,e,o,t.options))})}),i.all(r)},h.prototype.preCompileCellTemplates=function(){this.columns.forEach(function(e){var i=e.cellTemplate.replace(o.COL_FIELD,"grid.getCellValue(row, col)"),r=t(i);e.compiledElementFn=r})},h.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new g("left",this,{disableColumnOffset:!0}))},h.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new g("right",this,{disableColumnOffset:!0}))},h.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},h.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},h.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");void 0===e.name&&void 0!==e.field&&(e.name=e.field)},h.prototype.newInN=function(e,i,t,r){for(var n=this,o=[],l=0;l<i.length;l++){for(var a=r?i[l][r]:i[l],d=!1,s=0;s<e.length;s++){var c=t?e[s][t]:e[s];if(n.options.rowEquality(a,c)){d=!0;break}}d||o.push(a)}return o},h.prototype.getRow=function(e){var i=this.rows.filter(function(i){return i.entity===e});return i.length>0?i[0]:null},h.prototype.modifyRows=function(e){var t,r,n=this;if(0===n.rows.length&&e.length>0){if(n.options.enableRowHashing)for(n.rowHashMap||n.createRowHashMap(),t=0;t<e.length;t++)r=e[t],n.rowHashMap.put(r,{i:t,entity:r});n.addRows(e),n.assignTypes()}else if(e.length>0){var o,l,a;if(n.options.enableRowHashing){o=[],a=[];var d={};l=[],n.rowHashMap||n.createRowHashMap();var s=n.rowHashMap;for(t=0;t<e.length;t++){r=e[t];var c=!1;n.options.getRowIdentity(r)||(c=!0);var u=s.get(r);u?u.row&&(d[n.options.rowIdentity(r)]=!0):(s.put(r,{i:t,entity:r}),c?a.push(r):o.push(r))}for(t=0;t<n.rows.length;t++){var g=n.rows[t],p=n.options.rowIdentity(g.entity);d[p]||l.push(g)}}var f=o||[],h=a||e;f=f.concat(n.newInN(n.rows,h,"entity")),n.addRows(f);var m=n.getDeletedRows(l||n.rows,e);for(t=0;t<m.length;t++)n.options.enableRowHashing&&n.rowHashMap.remove(m[t].entity),n.rows.splice(n.rows.indexOf(m[t]),1)}else n.createRowHashMap(),n.rows.length=0;var v=i.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),w=i.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return i.all([v,w])},h.prototype.getDeletedRows=function(e,i){var t=this,r=e.filter(function(e){return!i.some(function(i){return t.options.rowEquality(i,e.entity)})});return r},h.prototype.addRows=function(e){for(var i=this,t=i.rows.length,r=0;r<e.length;r++){var n=i.processRowBuilders(new d(e[r],r+t,i));if(i.options.enableRowHashing){var o=i.rowHashMap.get(n.entity);o&&(o.row=n)}i.rows.push(n)}},h.prototype.processRowBuilders=function(e){var i=this;return i.rowBuilders.forEach(function(t){t.call(i,e,i.gridOptions)}),e},h.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},h.prototype.registerRowsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push(e)},h.prototype.removeRowsProcessor=function(e){var i=this.rowsProcessors.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.rowsProcessors.splice(i,1)},h.prototype.processRowsProcessors=function(e){function t(e,n){var l=r.rowsProcessors[e];return i.when(l.call(r,n,r.columns)).then(function(i){if(!i)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(i))throw"Processor at index "+e+" did not return an array";return e++,e<=r.rowsProcessors.length-1?t(e,i):void o.resolve(i)})}var r=this,n=e.slice(0);if(0===r.rowsProcessors.length)return i.when(n);var o=i.defer();return t(0,n),o.promise},h.prototype.setVisibleRows=function(e){var i=this;for(var t in i.renderContainers){var r=i.renderContainers[t];r.visibleRowCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?i.renderContainers[o.renderContainer].visibleRowCache.push(o):i.renderContainers.body.visibleRowCache.push(o))}},h.prototype.registerColumnsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push(e)},h.prototype.removeColumnsProcessor=function(e){var i=this.columnsProcessors.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.columnsProcessors.splice(i,1)},h.prototype.processColumnsProcessors=function(e){function t(e,l){var a=r.columnsProcessors[e];return i.when(a.call(r,l,r.rows)).then(function(i){if(!i)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(i))throw"Processor at index "+e+" did not return an array";return e++,e<=r.columnsProcessors.length-1?t(e,n):void o.resolve(n)})}var r=this,n=e.slice(0);if(0===r.columnsProcessors.length)return i.when(n);var o=i.defer();return t(0,n),o.promise},h.prototype.setVisibleColumns=function(e){var i=this;for(var t in i.renderContainers){var r=i.renderContainers[t];r.visibleColumnCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?i.renderContainers[o.renderContainer].visibleColumnCache.push(o):i.renderContainers.body.visibleColumnCache.push(o))}},h.prototype.handleWindowResize=function(){var e=this;e.gridWidth=n.elementWidth(e.element),e.gridHeight=n.elementHeight(e.element),e.queueRefresh()},h.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},h.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,i){return null===e.priority?1:null===i.priority?-1:null===e.priority&&null===i.priority?0:e.priority-i.priority}).forEach(function(i){var t=i.func.call(e);angular.isString(t)&&(e.customStyles+="\n"+t)})},h.prototype.minColumnsToRender=function(){var e=this,i=this.getViewportWidth(),t=0,r=0;return e.columns.forEach(function(n,o){if(i>r)r+=n.drawnWidth,t++;else{for(var l=0,a=o;a>=o-t;a--)l+=e.columns[a].drawnWidth;i>l&&t++}}),t},h.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return"undefined"!=typeof this.horizontalScrollbarHeight&&void 0!==this.horizontalScrollbarHeight&&this.horizontalScrollbarHeight>0&&(e+=this.horizontalScrollbarHeight),e},h.prototype.getViewportHeight=function(){var e=this,i=this.gridHeight-this.headerHeight-this.footerHeight;"undefined"!=typeof this.horizontalScrollbarHeight&&void 0!==this.horizontalScrollbarHeight&&this.horizontalScrollbarHeight>0&&(i-=this.horizontalScrollbarHeight);var t=e.getViewportAdjustment();return i+=t.height},h.prototype.getViewportWidth=function(){var e=this,i=this.gridWidth;"undefined"!=typeof this.verticalScrollbarWidth&&void 0!==this.verticalScrollbarWidth&&this.verticalScrollbarWidth>0&&(i-=this.verticalScrollbarWidth);var t=e.getViewportAdjustment();return i+=t.width},h.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return"undefined"!=typeof this.verticalScrollbarWidth&&void 0!==this.verticalScrollbarWidth&&this.verticalScrollbarWidth>0&&(e+=this.verticalScrollbarWidth),e},h.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},h.prototype.removeViewportAdjuster=function(e){var i=this.viewportAdjusters.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.viewportAdjusters.splice(i,1)},h.prototype.getViewportAdjustment=function(){var e=this,i={height:0,width:0};return e.viewportAdjusters.forEach(function(e){i=e.call(this,i)}),i},h.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},h.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},h.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},h.prototype.searchRows=function(e){return u.search(this,e,this.columns)},h.prototype.sortByColumn=function(e){return c.sort(this,e,this.columns)},h.prototype.getCellValue=function(e,i){var t=this;return t.cellValueGetterCache[i.colDef.name]||(t.cellValueGetterCache[i.colDef.name]=r(e.getEntityQualifiedColField(i))),t.cellValueGetterCache[i.colDef.name](e)},h.prototype.getNextColumnSortPriority=function(){var e=this,i=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>i&&(i=e.sort.priority)}),i+1},h.prototype.resetColumnSorting=function(e){var i=this;i.columns.forEach(function(i){i!==e&&(i.sort={})})},h.prototype.getColumnSorting=function(){var e,i=this,t=[];return e=i.columns.slice(0),e.sort(c.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===o.ASC||e.sort.direction===o.DESC)&&t.push(e)}),t},h.prototype.sortColumn=function(e,t,r){var n=this,l=null;if("undefined"==typeof e||!e)throw new Error("No column parameter provided");return"boolean"==typeof t?r=t:l=t,r?e.sort.priority=n.getNextColumnSortPriority():(n.resetColumnSorting(e),e.sort.priority=0),e.sort.direction=l?l:e.sort.direction&&e.sort.direction===o.ASC?o.DESC:e.sort.direction&&e.sort.direction===o.DESC?null:o.ASC,n.api.core.raise.sortChanged(n,n.getColumnSorting()),i.when(e)},h.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},h.prototype.createRowHashMap=function(){var e=this,i=new f;i.grid=e,e.rowHashMap=i},h.prototype.refresh=function(){e.debug("grid refresh");var t=this,r=t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e)}),n=t.processColumnsProcessors(t.columns).then(function(e){t.setVisibleColumns(e)});return i.all([r,n]).then(function(){t.redrawInPlace(),t.refreshCanvas(!0)})},h.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(i){e.setVisibleRows(i),e.redrawRows(),e.refreshCanvas()})},h.prototype.refreshCanvas=function(e){var t=this;e&&t.buildStyles();var r=i.defer(),o=[];for(var l in t.renderContainers)if(t.renderContainers.hasOwnProperty(l)){var a=t.renderContainers[l];a.header&&o.push(a)}return p(o.length>0?function(){for(var i=!1,l=0;l<o.length;l++){var a=o[l];if(a.header){var d=a.headerHeight,s=n.outerElementHeight(a.header);a.headerHeight=s,d!==s&&(i=!0)}}e&&i&&t.buildStyles(),r.resolve()}:function(){r.resolve()}),r.promise},h.prototype.redrawInPlace=function(){var e=this;for(var i in e.renderContainers){var t=e.renderContainers[i];t.adjustRows(t.prevScrollTop,null),t.adjustColumns(t.prevScrollLeft,null)}},f.prototype={put:function(e,i){this[this.grid.options.rowIdentity(e)]=i},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var i=this[e=this.grid.options.rowIdentity(e)];return delete this[e],i}},h}])}(),function(){angular.module("ui.grid").factory("GridApi",["$log","$q","$rootScope","gridUtil","uiGridConstants",function(e,i,t,r){function n(e,i,t,r){return e.$on(i,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),t.apply(r.api,e)})}var o=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete")};return o.prototype.suppressEvents=function(e,i){var t=this,r=angular.isArray(e)?e:[e],o=[];r.forEach(function(e){o=t.listeners.filter(function(i){return e===i.handler})}),o.forEach(function(e){e.dereg()}),i(),o.forEach(function(e){e.dereg=n(e.scope,e.eventId,e.handler,t.grid)})},o.prototype.registerEvent=function(i,r){var o=this;o[i]||(o[i]={});var l=o[i];l.on||(l.on={},l.raise={});var a=o.grid.id+i+r;e.log("Creating raise event method "+i+".raise."+r),l.raise[r]=function(){t.$broadcast.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},e.log("Creating on event method "+i+".on."+r),l.on[r]=function(e,i){var t=n(e,a,i,o.grid),r={handler:i,dereg:t,eventId:a,scope:e};o.listeners.push(r),e.$on("$destroy",function(){r.dereg=null,r.handler=null,r.eventId=null,r.scope=null})}},o.prototype.registerEventsFromObject=function(e){var i=this,t=[];angular.forEach(e,function(e,i){var r={name:i,events:[]};angular.forEach(e,function(e,i){r.events.push(i)}),t.push(r)}),t.forEach(function(e){e.events.forEach(function(t){i.registerEvent(e.name,t)})})},o.prototype.registerMethod=function(e,i,t,n){this[e]||(this[e]={});var o=this[e];o[i]=r.createBoundedWrapper(n||this.grid,t)},o.prototype.registerMethodsFromObject=function(e,i){var t=this,r=[];angular.forEach(e,function(e,i){var t={name:i,methods:[]};angular.forEach(e,function(e,i){t.methods.push({name:i,fn:e})}),r.push(t)}),r.forEach(function(e){e.methods.forEach(function(r){t.registerMethod(e.name,r.name,r.fn,i)})})},o}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants",function(e,i){function t(e,i,t){var r=this;r.grid=t,e.index=i,r.updateColumnDef(e)}return t.prototype.setPropertyOrDefault=function(e,i,t){var r=this;r[i]="undefined"!=typeof e[i]&&e[i]?e[i]:"undefined"!=typeof r[i]?r[i]:t?t:{}},t.prototype.updateColumnDef=function(i,r){var n=this;if(n.colDef=i,n.index="undefined"==typeof r?i.index:r,void 0===i.name)throw new Error("colDef.name is required for column at index "+n.index);var o="Cannot parse column width '"+i.width+"' for column named '"+i.name+"'";if(e.isNullOrUndefined(i.width))n.width="*";else if(angular.isNumber(i.width))n.width=i.width;else if(e.endsWith(i.width,"%")){var l=i.width.replace(/%/g,""),a=parseInt(l,10);if(isNaN(a))throw new Error(o);n.width=i.width}else if(i.width.match(/^(\d+)$/))n.width=parseInt(i.width.match(/^(\d+)$/)[1],10);else if(!i.width.match(/^\*+$/))throw new Error(o);t.prototype.unsort=function(){this.sort={}},n.minWidth=i.minWidth?i.minWidth:50,n.maxWidth=i.maxWidth?i.maxWidth:9e3,n.field=void 0===i.field?i.name:i.field,n.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,n.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,n.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,n.cellClass=i.cellClass,n.cellFilter=i.cellFilter?i.cellFilter:"",n.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",n.visible=e.isNullOrUndefined(i.visible)||i.visible,n.headerClass=i.headerClass,n.visible=!0,n.enableSorting="undefined"!=typeof i.enableSorting?i.enableSorting:!0,n.sortingAlgorithm=i.sortingAlgorithm,n.enableFiltering="undefined"!=typeof i.enableFiltering?i.enableFiltering:!0,n.setPropertyOrDefault(i,"menuItems",[]),n.setPropertyOrDefault(i,"sort");var d=[];i.filter?d.push(i.filter):n.enableFiltering&&n.grid.options.enableFiltering&&d.push({}),n.setPropertyOrDefault(i,"filter"),n.setPropertyOrDefault(i,"filters",d)},t.prototype.getColClass=function(e){var t=i.COL_CLASS_PREFIX+this.index;return e?"."+t:t},t.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { width: "+this.drawnWidth+"px; }"},t.prototype.getRenderContainer=function(){var e=this,i=e.renderContainer;return(null===i||""===i||void 0===i)&&(i="body"),e.grid.renderContainers[i]},t.prototype.showColumn=function(){this.colDef.visible=!0},t.prototype.hideColumn=function(){this.colDef.visible=!1},t.prototype.getAggregationValue=function(){var e=this,t=0,r=e.grid.getVisibleRows(),n=[];return angular.forEach(r,function(i){var t=e.grid.getCellValue(i,e);angular.isNumber(t)&&n.push(t)}),angular.isFunction(e.aggregationType)?e.aggregationType(r,e):e.aggregationType===i.aggregationTypes.count?"total rows: "+e.grid.getVisibleRowCount():e.aggregationType===i.aggregationTypes.sum?(angular.forEach(n,function(e){t+=e}),"total: "+t):e.aggregationType===i.aggregationTypes.avg?(angular.forEach(n,function(e){t+=e}),t/=n.length,"avg: "+t):e.aggregationType===i.aggregationTypes.min?"min: "+Math.min.apply(null,n):e.aggregationType===i.aggregationTypes.max?"max: "+Math.max.apply(null,n):null},t}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil",function(e){function i(){this.onRegisterApi=angular.noop(),this.data=[],this.columnDefs=[],this.excludeProperties=["$$hashKey"],this.enableRowHashing=!0,this.rowIdentity=function(i){return e.hashKey(i)},this.getRowIdentity=function(e){return e.$$hashKey},this.headerRowHeight=30,this.rowHeight=30,this.maxVisibleRowCount=200,this.minRowsToShow=10,this.showFooter=!1,this.footerRowHeight=30,this.columnWidth=50,this.maxVisibleColumnCount=200,this.virtualizationThreshold=20,this.columnVirtualizationThreshold=10,this.excessRows=4,this.scrollThreshold=4,this.excessColumns=4,this.horizontalScrollThreshold=2,this.enableSorting=!0,this.enableFiltering=!1,this.enableColumnMenu=!0,this.enableScrollbars=!0,this.minimumColumnSize=10,this.rowEquality=function(e,i){return e===i},this.headerTemplate=null,this.footerTemplate=null,this.rowTemplate="ui-grid/ui-grid-row"}return i}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["$log","gridUtil",function(e,i){function t(e,i,t){var r=this;r.name=e,r.grid=i,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],t&&angular.isObject(t)&&angular.extend(r,t),i.registerStyleComputation({priority:5,func:function(){return r.columnStyles}})}return t.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},t.prototype.minRowsToRender=function(){for(var e=this,i=0,t=0,r=e.getViewportHeight(),n=e.visibleRowCache.length-1;r>t&&n>=0;n--)t+=e.visibleRowCache[n].height,i++;return i},t.prototype.minColumnsToRender=function(){for(var e=this,i=this.getViewportWidth(),t=0,r=0,n=0;n<e.visibleColumnCache.length;n++){var o=e.visibleColumnCache[n];if(i>r)r+=o.drawnWidth,t++;else{for(var l=0,a=n;a>=n-t;a--)l+=e.visibleColumnCache[a].drawnWidth;i>l&&t++}}return t},t.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},t.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},t.prototype.removeViewportAdjuster=function(e){var i=this.viewportAdjusters.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.viewportAdjusters.splice(i,1)},t.prototype.getViewportAdjustment=function(){var e=this,i={height:0,width:0};return e.viewportAdjusters.forEach(function(e){i=e.call(this,i)}),i},t.prototype.getViewportHeight=function(){var e=this,i=e.headerHeight?e.headerHeight:e.grid.headerHeight,t=e.grid.gridHeight-i-e.grid.footerHeight;"undefined"!=typeof e.horizontalScrollbarHeight&&void 0!==e.horizontalScrollbarHeight&&e.horizontalScrollbarHeight>0&&(t-=e.horizontalScrollbarHeight);var r=e.getViewportAdjustment();return t+=r.height},t.prototype.getViewportWidth=function(){var e=this,i=e.grid.gridWidth;"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(i-=e.grid.verticalScrollbarWidth);var t=e.getViewportAdjustment();return i+=t.width},t.prototype.getHeaderViewportWidth=function(){var e=this,i=this.getViewportWidth();return"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(i+=e.grid.verticalScrollbarWidth),i},t.prototype.getCanvasHeight=function(){var e=this,i=0;return e.visibleRowCache.forEach(function(e){i+=e.height}),"undefined"!=typeof e.grid.horizontalScrollbarHeight&&void 0!==e.grid.horizontalScrollbarHeight&&e.grid.horizontalScrollbarHeight>0&&(i-=e.grid.horizontalScrollbarHeight),i},t.prototype.getCanvasWidth=function(){var e=this,i=e.canvasWidth;return"undefined"!=typeof e.verticalScrollbarWidth&&void 0!==e.verticalScrollbarWidth&&e.verticalScrollbarWidth>0&&(i-=e.verticalScrollbarWidth),i},t.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var i=0;i<e.length;i++)this.renderedRows[i]=e[i]},t.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var i=0;i<e.length;i++)this.renderedColumns[i]=e[i];this.updateColumnOffset()},t.prototype.updateColumnOffset=function(){for(var e=0,i=0;i<this.currentFirstColumn;i++)e+=this.visibleColumnCache[i].drawnWidth;this.columnOffset=e},t.prototype.adjustScrollVertical=function(e,i,t){(this.prevScrollTop!==e||t)&&(e=this.getCanvasHeight()*i,this.adjustRows(e,i),this.prevScrollTop=e,this.prevScrolltopPercentage=i,this.grid.queueRefresh())},t.prototype.adjustScrollHorizontal=function(e,i,t){(this.prevScrollLeft!==e||t)&&(e=this.getCanvasWidth()*i,this.adjustColumns(e,i),this.prevScrollLeft=e,this.prevScrollleftPercentage=i,this.grid.queueRefresh())},t.prototype.adjustRows=function(e,i){var t=this,r=t.minRowsToRender(),n=t.visibleRowCache,o=n.length-r;t.maxRowIndex=o;t.prevRowScrollIndex;"undefined"!=typeof i&&null!==i||!e||(i=e/t.getCanvasHeight());var l=Math.ceil(Math.min(o,o*i));l>o&&(l=o);var a=[];if(n.length>t.grid.options.virtualizationThreshold){if(t.prevScrollTop<e&&l<t.prevRowScrollIndex+t.grid.options.scrollThreshold&&o>l)return;if(t.prevScrollTop>e&&l>t.prevRowScrollIndex-t.grid.options.scrollThreshold&&o>l)return;var d=Math.max(0,l-t.grid.options.excessRows),s=Math.min(n.length,l+r+t.grid.options.excessRows);a=[d,s]}else{var c=t.visibleRowCache.length;a=[0,Math.max(c,r+t.grid.options.excessRows)]}t.updateViewableRowRange(a),t.prevRowScrollIndex=l},t.prototype.adjustColumns=function(e,i){var t=this,r=t.minColumnsToRender(),n=t.visibleColumnCache,o=n.length-r;"undefined"!=typeof i&&null!==i||!e||(i=e/t.getCanvasWidth());var l=Math.ceil(Math.min(o,o*i));l>o&&(l=o);var a=[];if(n.length>t.grid.options.columnVirtualizationThreshold&&t.getCanvasWidth()>t.getViewportWidth()){if(t.prevScrollLeft<e&&l<t.prevColumnScrollIndex+t.grid.options.horizontalScrollThreshold&&o>l)return;if(t.prevScrollLeft>e&&l>t.prevColumnScrollIndex-t.grid.options.horizontalScrollThreshold&&o>l)return;var d=Math.max(0,l-t.grid.options.excessColumns),s=Math.min(n.length,l+r+t.grid.options.excessColumns);a=[d,s]}else{var c=t.visibleColumnCache.length;a=[0,Math.max(c,r+t.grid.options.excessColumns)]}t.updateViewableColumnRange(a),t.prevColumnScrollIndex=l},t.prototype.updateViewableRowRange=function(e){var i=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(i)},t.prototype.updateViewableColumnRange=function(e){var i=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(i)},t.prototype.rowStyle=function(e){var i=this,t={};if(0===e&&0!==i.currentTopRow){var r=i.currentTopRow*i.grid.options.rowHeight;t["margin-top"]=r+"px"}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?t["margin-right"]=i.columnOffset+"px":t["margin-left"]=i.columnOffset+"px"),t},t.prototype.columnStyle=function(e){var i=this;if(0===e&&0!==i.currentFirstColumn){var t=i.columnOffset;return i.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},t.prototype.updateColumnWidths=function(){var e=this,t=[],r=[],n=0,o=e.getViewportWidth();"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(o+=e.grid.verticalScrollbarWidth);var l,a=0,d=0,s="",c=e.visibleColumnCache;c.forEach(function(e){if(e.visible){var o=!1;angular.isNumber(e.width)||(o=isNaN(e.width)?i.endsWith(e.width,"%"):!1),angular.isString(e.width)&&-1!==e.width.indexOf("*")?(n=parseInt(n+e.width.length,10),t.push(e)):o?r.push(e):angular.isNumber(e.width)&&(a=parseInt(a+e.width,10),d=parseInt(d,10)+parseInt(e.width,10),e.drawnWidth=e.width)}});var u,g,p,f=o-a;if(r.length>0){for(u=0;u<r.length;u++){g=r[u];var h=parseInt(g.width.replace(/%/g,""),10)/100;p=parseInt(h*f,10),g.colDef.minWidth&&p<g.colDef.minWidth?(p=g.colDef.minWidth,f-=p,d+=p,g.drawnWidth=p,r.splice(u,1)):g.colDef.maxWidth&&p>g.colDef.maxWidth&&(p=g.colDef.maxWidth,f-=p,d+=p,g.drawnWidth=p,r.splice(u,1))}r.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100,t=parseInt(i*f,10);d+=t,e.drawnWidth=t})}if(t.length>0){var m=parseInt(f/n,10);for(u=0;u<t.length;u++)g=t[u],p=parseInt(m*g.width.length,10),g.colDef.minWidth&&p<g.colDef.minWidth?(p=g.colDef.minWidth,f-=p,n--,d+=p,g.drawnWidth=p,l=g,t.splice(u,1)):g.colDef.maxWidth&&p>g.colDef.maxWidth&&(p=g.colDef.maxWidth,f-=p,n--,d+=p,g.drawnWidth=p,t.splice(u,1));m=parseInt(f/n,10),t.forEach(function(e){var i=parseInt(m*e.width.length,10);d+=i,e.drawnWidth=i})}var v=o-parseInt(d,10);if(v>0&&d>0&&o>d){var w=!1;if(c.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(w=!0)}),w)for(var C=function(e){v>0&&(e.drawnWidth=e.drawnWidth+1,d+=1,v--)};v>0;)c.forEach(C)}o>d&&(d=o),c.forEach(function(e){s+=e.getColClassDefinition()}),e.grid.verticalScrollbarWidth&&(d+=e.grid.verticalScrollbarWidth),e.canvasWidth=parseInt(d,10),this.columnStyles=s},t}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function i(i,t,r){this.grid=r,this.entity=i,this.index=t,this.uid=e.nextUid(),this.visible=!0,this.height=r.options.rowHeight,this.grid.api.core.setRowInvisible||this.grid.api.registerMethod("core","setRowInvisible",this.setRowInvisible),this.grid.api.core.clearRowInvisible||this.grid.api.registerMethod("core","clearRowInvisible",this.clearRowInvisible),this.grid.api.core.getVisibleRows||this.grid.api.registerMethod("core","getVisibleRows",this.getVisibleRows),this.grid.api.core.raise.rowsVisibleChanged||this.grid.api.registerEvent("core","rowsVisibleChanged")}return i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},i.prototype.getEntityQualifiedColField=function(i){return e.preEval("entity."+i.field)},i.prototype.setRowInvisible=function(e){null!==e&&(e.forceInvisible=!0,e.visible&&(e.visible=!1,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},i.prototype.clearRowInvisible=function(e){null!==e&&(e.forceInvisible=!1,e.visible||(e.visible=!0,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},i.prototype.getVisibleRows=function(e){return e.rows.filter(function(e){return e.visible})},i}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","$log","Grid","GridColumn","GridRow",function(e,i,t,r,n,o,l){var a={createGrid:function(r){r="undefined"!=typeof r?r:{},r.id=e.newId();var n=new l(r);if(n.options.rowTemplate){var o=i.defer();n.getRowTemplateFn=o.promise,e.getTemplate(n.options.rowTemplate).then(function(e){var i=t(e);o.resolve(i)},function(){throw new Error("Couldn't fetch/use row template '"+n.options.rowTemplate+"'")})}return n.registerColumnBuilder(a.defaultColumnBuilder),n.registerRowsProcessor(function(e){return e.forEach(function(e){e.visible=!e.forceInvisible}),e}),n.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e}),n.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e}),n.options.enableFiltering&&n.registerRowsProcessor(n.searchRows),n.registerRowsProcessor(n.options.externalSort&&angular.isFunction(n.options.externalSort)?n.options.externalSort:n.sortByColumn),n},defaultColumnBuilder:function(t,r){var o=[];return t.headerCellTemplate||(t.headerCellTemplate="ui-grid/uiGridHeaderCell"),t.cellTemplate||(t.cellTemplate="ui-grid/uiGridCell"),o.push(e.getTemplate(t.cellTemplate).then(function(e){r.cellTemplate=e.replace(n.CUSTOM_FILTERS,r.cellFilter?"|"+r.cellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+t.cellTemplate+"'")})),o.push(e.getTemplate(t.headerCellTemplate).then(function(e){r.headerCellTemplate=e.replace(n.CUSTOM_FILTERS,r.headerCellFilter?"|"+r.headerCellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+t.headerCellTemplate+"'")})),i.all(o)}};return a}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function i(){var e=function(i,t){return i&&e.cache[i]?e.cache[i]:i&&t?(e.cache[i]=t,e.cache[i]):void 0};return e.cache={},e.clear=function(){e.cache={}},e}var t=angular.module("ui.grid");t.service("rowSearcher",["$log","uiGridConstants",function(t,r){var n=r.filter.STARTS_WITH,o={};return o.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var i=e.term;return"string"==typeof i&&(i=i.trim()),i},o.stripTerm=function(i){var t=o.getTerm(i);return"string"==typeof t?e(t.replace(/(^\*|\*$)/g,"")):t},o.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return n;var i=o.getTerm(e);if(/\*/.test(i)){var t="";e.flags&&e.flags.caseSensitive||(t+="i");var r=i.replace(/(\\)?\*/g,function(e,i){return i?e:"[\\s\\S]*?"});return new RegExp("^"+r+"$",t)}return n},o.runColumnFilter=function(e,i,t,n,l,a){var d=typeof a.condition;"undefined"!==d&&a.condition||(a.condition=r.filter.CONTAINS);var s=o.stripTerm(a);if(null===s||void 0===s||""===s)return!0;var c=e.getCellValue(i,t),u="";a.flags&&a.flags.caseSensitive||(u+="i");var g=t.field+l;if(a.condition instanceof RegExp){if(!a.condition.test(c))return!1}else{if("function"===d)return a.condition(s,c,i,t);if(a.condition===r.filter.STARTS_WITH){var p=n(g)?n(g):n(g,new RegExp("^"+s,u));if(!p.test(c))return!1}else if(a.condition===r.filter.ENDS_WITH){var f=n(g)?n(g):n(g,new RegExp(s+"$",u));if(!f.test(c))return!1}else if(a.condition===r.filter.CONTAINS){var h=n(g)?n(g):n(g,new RegExp(s,u));if(!h.test(c))return!1}else if(a.condition===r.filter.EXACT){var m=n(g)?n(g):n(g,new RegExp("^"+s+"$",u));if(!m.test(c))return!1}else if(a.condition===r.filter.GREATER_THAN){if(s>=c)return!1}else if(a.condition===r.filter.GREATER_THAN_OR_EQUAL){if(s>c)return!1}else if(a.condition===r.filter.LESS_THAN){if(c>=s)return!1}else if(a.condition===r.filter.LESS_THAN_OR_EQUAL){if(c>s)return!1}else if(a.condition===r.filter.NOT_EQUAL&&!angular.equals(c,s))return!1}return!0},o.searchColumn=function(e,i,t,r){var n=[];if(e.options.useExternalFiltering)return!0;if(!("undefined"!=typeof t.filters&&t.filters&&t.filters.length>0))return!0;n=t.filters;for(var l in n){var a=n[l];if(!a.condition){var d="cond-"+t.field+"-"+a.term,s=r(d)?r(d):r(d,o.guessCondition(a));a={term:a.term,condition:s,flags:angular.extend({caseSensitive:!1},a.flags)}}var c=o.runColumnFilter(e,i,t,r,l,a);if(!c)return!1}return!0},o.search=function(e,t,r){if(t){var n=new i,l=[];return r.forEach(function(e){"undefined"!=typeof e.filters&&e.filters.length>0?l.push(e):"undefined"!=typeof e.filter&&e.filter&&"undefined"!=typeof e.filter.term&&e.filter.term&&l.push(e)}),l.length>0&&(l.forEach(function(i){t.forEach(function(t){(t.forceInvisible||!o.searchColumn(e,t,i,n))&&(t.visible=!1)})}),e.api.core.raise.rowsVisibleChanged()),n.clear(),t
}},o}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,i){var t="("+i.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",r=(new RegExp("^[-+]?"+t+"[\\d,.]+"+t+"%?$"),{colSortFnCache:[]});return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+e)}},r.basicSort=function(e,i){return e===i?0:i>e?-1:1},r.sortNumber=function(e,i){return e-i},r.sortNumberStr=function(e,i){var t,r,n=!1,o=!1;return t=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(t)&&(n=!0),r=parseFloat(i.replace(/[^0-9.-]/g,"")),isNaN(r)&&(o=!0),n&&o?0:n?1:o?-1:t-r},r.sortAlpha=function(e,i){var t=e.toLowerCase(),r=i.toLowerCase();return t===r?0:r>t?-1:1},r.sortDate=function(e,i){var t=e.getTime(),r=i.getTime();return t===r?0:r>t?-1:1},r.sortBool=function(e,i){return e&&i?0:e||i?e?1:-1:0},r.getSortFn=function(e,i){var t;return r.colSortFnCache[i.colDef.name]?t=r.colSortFnCache[i.colDef.name]:void 0!==i.sortingAlgorithm?(t=i.sortingAlgorithm,r.colSortFnCache[i.colDef.name]=i.sortingAlgorithm):(t=r.guessSortFn(i.colDef.type),t?r.colSortFnCache[i.colDef.name]=t:t=r.sortAlpha),t},r.prioritySort=function(e,i){return void 0!==e.sort.priority&&void 0!==i.sort.priority?e.sort.priority<i.sort.priority?-1:e.sort.priority===i.sort.priority?0:1:e.sort.priority?-1:i.sort.priority?1:0},r.sort=function(e,t,n){if(t){if(e.options.useExternalSorting)return t;var o=[];if(n.forEach(function(e){e.sort&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&o.push(e)}),o=o.sort(r.prioritySort),0===o.length)return t;var l,a,d=t.slice(0);return t.sort(function(t,n){for(var s,c=0,u=0;0===c&&u<o.length;){l=o[u],a=o[u].sort.direction,s=r.getSortFn(e,l,d);var g=e.getCellValue(t,l),p=e.getCellValue(n,l);!g&&0!==g||!p&&0!==p?p||g?g?p||(c=-1):c=1:c=0:c=s(g,p),u++}return a===i.ASC?c:0-c})}},r}])}(),function(){function e(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}function i(e,i,t,r,n){for(var o=t===(r?"border":"content")?4:"width"===i?1:0,l=0,a=["Top","Right","Bottom","Left"];4>o;o+=2){var d=a[o];if("margin"===t){var s=parseFloat(n[t+d]);isNaN(s)||(l+=s)}if(r){if("content"===t){var c=parseFloat(n["padding"+d]);isNaN(c)||(l-=c)}if("margin"!==t){var u=parseFloat(n["border"+d+"Width"]);isNaN(u)||(l-=u)}}else{var g=parseFloat(n["padding"+d]);if(isNaN(g)||(l+=g),"padding"!==t){var p=parseFloat(n["border"+d+"Width"]);isNaN(p)||(l+=p)}}}return l}function t(t,r,o){var l=!0,a="width"===r?t.offsetWidth:t.offsetHeight,d=e(t),s="border-box"===d.boxSizing;if(0>=a||null==a){if(a=d[r],(0>a||null==a)&&(a=t.style[r]),n.test(a))return a;l=s&&!0,a=parseFloat(a)||0}var c=a+i(t,r,o||(s?"border":"content"),l,d);return c}var r=angular.module("ui.grid"),n=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),o=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},a=["0","0","0"],d="uiGrid-";r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","uiGridConstants",function(i,r,n,s,c,u,g,p,f){var h={createBoundedWrapper:function(e,i){return function(){return i.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,i){var t=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(i)&&(i=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===i.indexOf(r)&&t.push({name:r})}),t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(c.get(e))return p.when(c.get(e));if(e.hasOwnProperty("then"))return e;try{if(angular.element(e).length>0)return p.when(e)}catch(t){}return i.debug("Fetching url",e),s({method:"GET",url:e}).then(function(i){var t=i.data.trim();return c.put(e,t),t},function(i){throw new Error("Could not get template "+e+": "+i)})},guessType:function(e){var i=typeof e;switch(i){case"number":case"boolean":case"string":return i;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var t=document.createElement("div");t.style.width="100%",e.appendChild(t);var r=t.offsetWidth;return e.parentNode.removeChild(e),i-r},swap:function(e,i,t,r){var n,o,l={};for(o in i)l[o]=e.style[o],e.style[o]=i[o];n=t.apply(e,r||[]);for(o in i)e.style[o]=l[o];return n},fakeElement:function(e,i,t){var r,n,o=angular.element(e).clone()[0];for(n in i)o.style[n]=i[n];return angular.element(document.body).append(o),r=t.call(o,o),angular.element(o).remove(),r},normalizeWheelEvent:function(e){var i,t,r,n=e||window.event,o=([].slice.call(arguments,1),0),l=0,a=0,d=0,s=0;return n.originalEvent&&(n=n.originalEvent),n.wheelDelta&&(o=n.wheelDelta),n.detail&&(o=-1*n.detail),a=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,l=-1*o),n.deltaY&&(a=-1*n.deltaY,o=a),n.deltaX&&(l=n.deltaX,o=-1*l),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(l=n.wheelDeltaX),d=Math.abs(o),(!i||i>d)&&(i=d),s=Math.max(Math.abs(a),Math.abs(l)),(!t||t>s)&&(t=s),r=o>0?"floor":"ceil",o=Math[r](o/i),l=Math[r](l/t),a=Math[r](a/t),{delta:o,deltaX:l,deltaY:a}},isTouchEnabled:function(){var e;return("ontouchstart"in r||r.DocumentTouch&&n instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,i){return e&&i&&"string"==typeof e?-1!==e.indexOf(i,e.length-i.length):!1},requestAnimationFrame:r.requestAnimationFrame&&r.requestAnimationFrame.bind(r)||r.webkitRequestAnimationFrame&&r.webkitRequestAnimationFrame.bind(r)||function(e){return u(e,10,!1)},numericAndNullSort:function(e,i){return null===e?1:null===i?-1:null===e&&null===i?0:e-i},disableAnimations:function(e){var i;try{i=g.get("$animate"),i.enabled(!1,e)}catch(t){}},enableAnimations:function(e){var i;try{i=g.get("$animate"),i.enabled(!0,e)}catch(t){}},nextUid:function(){for(var e,i=a.length;i;){if(i--,e=a[i].charCodeAt(0),57===e)return a[i]="A",d+a.join("");if(90!==e)return a[i]=String.fromCharCode(e+1),d+a.join("");a[i]="0"}return a.unshift("0"),d+a.join("")},hashKey:function(e){var i,t=typeof e;return"object"===t&&null!==e?"function"==typeof(i=e.$$hashKey)?i=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?i=e.$$hashKey:void 0===i&&(i=e.$$hashKey=h.nextUid()):i=e,t+":"+i}};return["width","height"].forEach(function(i){var r=angular.uppercase(i.charAt(0))+i.substr(1);h["element"+r]=function(r,n){var a=r;if("undefined"!=typeof a.length&&a.length&&(a=r[0]),a){var d=e(a);return 0===a.offsetWidth&&o.test(d.display)?h.fakeElement(a,l,function(e){return t(e,i,n)}):t(a,i,n)}return null},h["outerElement"+r]=function(e,i){return e?h["element"+r].call(this,e,i?"margin":"border"):null}}),h.closestElm=function(e,i){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var t;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(t=e,!0):!1});for(var r;null!==e;){if(r=e.parentElement,null!==r&&r[t](i))return r;e=r}return null},h.type=function(e){var i=Function.prototype.toString.call(e.constructor);return i.match(/function (.*?)\(/)[1]},h.getBorderSize=function(i,t){"undefined"!=typeof i.length&&i.length&&(i=i[0]);var r=e(i);t=t?"border-"+t:"border";var n=parseInt(r[t],10);return isNaN(n)?0:n},h.detectBrowser=function(){var e=r.navigator.userAgent,i={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var t in i)if(i[t].test(e))return t;return"unknown"},h.normalizeScrollLeft=function(e){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i=h.detectBrowser(),t=e.scrollLeft,r=angular.element(e).css("direction");if("ie"===i)return t;if("chrome"===i){if("rtl"===r){var n=e.scrollWidth-e.clientWidth;return n-t}return t}return"firefox"===i?Math.abs(t):t},h.denormalizeScrollLeft=function(e,i){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var t=h.detectBrowser(),r=angular.element(e).css("direction");if("ie"===t)return i;if("chrome"===t){if("rtl"===r){var n=e.scrollWidth-e.clientWidth;return n-i}return i}return"firefox"===t&&"rtl"===r?-1*i:i},h.preEval=function(e){var i=f.BRACKET_REGEXP.exec(e);if(i)return(i[1]?h.preEval(i[1]):i[1])+i[2]+(i[3]?h.preEval(i[3]):i[3]);e=e.replace(f.APOS_REGEXP,"\\'");var t=e.split(f.DOT_REGEXP),r=[t.shift()];return angular.forEach(t,function(e){r.push(e.replace(f.FUNC_REGEXP,"']$1"))}),r.join("['")},h.debounce=function(e,i,t){function r(){l=this,o=arguments;var r=function(){n=null,t||(a=e.apply(l,o))},d=t&&!n;return n&&u.cancel(n),n=u(r,i),d&&(a=e.apply(l,o)),a}var n,o,l,a;return r.cancel=function(){u.cancel(n),n=null},r},h}]),r.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},column:{hide:"Spalte ausblenden"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrando:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},column:{hide:"Ocultar la columna"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},column:{hide:"Colonne de peau"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Kolom te verbergen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},column:{hide:"Esconder coluna"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],i=["t","uiTranslate"],t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,i,t){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,i){var t=e.toLowerCase();this._langs[t]||(this._langs[t]={}),angular.extend(this._langs[t],i)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var i in this._langs)e.push(i);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},n={add:function(e,i){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,i)}):r.add(e,i)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var i=e?e:n.getCurrentLang();return r.get(i)},getSafeText:function(e,t){var o=t?t:n.getCurrentLang(),l=r.get(o);if(!l)return i.MISSING;for(var a=e.split("."),d=l,s=0;s<a.length;++s){if(void 0===d[a[s]]||null===d[a[s]])return i.MISSING;d=d[a[s]]}return d},setCurrentLang:function(e){e&&(r.setCurrent(e),t.$broadcast(i.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=i.DEFAULT_LANG,r.setCurrent(e)),e}};return n}]);var r=function(e,i){return{compile:function(){return{pre:function(t,r,n){var o=i.LOCALE_DIRECTIVE_ALIAS,l=t.$eval(n[o]);l?t.$watch(n[o],function(){e.setCurrentLang(l)}):n.$$observers&&n.$observe(o,function(){e.setCurrentLang(n[o]||i.DEFAULT_LANG)})}}}}};t.directive("uiI18n",["i18nService","i18nConstants",r]);var n=function(i,t,r){return{restrict:"EA",compile:function(){return{pre:function(n,o,l){var a,d=e[0],s=e[1],c=l[d]||l[s]||o.html(),u=r.MISSING+c;if(l.$$observers){var g=l[d]?d:s;a=l.$observe(g,function(e){e&&o.html(i(e)(t.getCurrentLang())||u)})}var p=i(c),f=n.$on(r.UPDATE_EVENT,function(){a?a(l[d]||l[s]):o.html(p(t.get())||u)});n.$on("$destroy",f),o.html(p(t.get())||u)}}}}};e.forEach(function(e){t.directive(e,["$parse","i18nService","i18nConstants",n])});var o=function(e,i,t){return function(r){var n=e(r);return n(i.get())||t.MISSING+r}};i.forEach(function(e){t.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:"条目"},groupPanel:{description:"拖曳表头到此处以进行分组"},search:{placeholder:"搜索...",showingItems:"当前显示条目：",selectedItems:"选中条目：",totalItems:"条目总数：",size:"每页显示数：",first:"回到首页",next:"下一页",previous:"上一页",last:"前往尾页"},menu:{text:"数据分组与选择列："},column:{hide:"隐藏列"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"筆"},groupPanel:{description:"拖拉表頭到此處以進行分組"},search:{placeholder:"搜尋...",showingItems:"目前顯示筆數：",selectedItems:"選取筆數：",totalItems:"總筆數：",size:"每頁顯示：",first:"第一頁",next:"下一頁",previous:"上一頁",last:"最後頁"},menu:{text:"選擇欄位："},column:{hide:"隐藏列"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$log","$timeout","gridUtil",function(e,i,t){return{require:"uiGrid",scope:!1,link:function(e,r,n,o){function l(){s=t.elementHeight(r),d=t.elementWidth(r)}function a(){i.cancel(c),c=i(function(){var e=t.elementHeight(r),i=t.elementWidth(r);e!==s||i!==d?(o.grid.gridHeight=e,o.grid.gridWidth=i,o.grid.queueRefresh().then(function(){l(),a()})):a()},250)}var d,s;l();var c;a(),e.$on("$destroy",function(){i.cancel(c)})}}}])}(),function(){"use strict";function e(e,i){this.row=e,this.col=i}var i=angular.module("ui.grid.cellNav",["ui.grid"]);i.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3}}),i.service("uiGridCellNavService",["$log","uiGridConstants","uiGridCellNavConstants","$q",function(i,t,r,n){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null;var i={events:{cellNav:{navigate:function(){}}},methods:{cellNav:{scrollTo:function(e,i,t,r){o.scrollTo(e,i,t,r)},getFocusedCell:function(){return e.cellNav.lastRowCol}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?r.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?r.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?r.direction.UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?r.direction.DOWN:null},getNextRowCol:function(e,i,t,n){switch(e){case r.direction.LEFT:return o.getRowColLeft(i.rows,i.columns,t,n);case r.direction.RIGHT:return o.getRowColRight(i.rows,i.columns,t,n);case r.direction.UP:return o.getRowColUp(i.rows,i.columns,t,n);case r.direction.DOWN:return o.getRowColDown(i.rows,i.columns,t,n)}},getRowColLeft:function(i,t,r,n){var l=o.getNextColIndexLeft(t,n);return l>n.index?0===r.index?new e(r,t[l]):new e(i[r.index-1],t[l]):new e(r,t[l])},getRowColRight:function(i,t,r,n){var l=o.getNextColIndexRight(t,n);return l<n.index?r.index===i.length-1?new e(r,t[l]):new e(i[r.index+1],t[l]):new e(r,t[l])},getNextColIndexLeft:function(e,i){for(var t=0===i.index?e.length-1:i.index-1;t!==i.index&&!e[t].colDef.allowCellFocus;)t--,-1===t&&(t=e.length-1);return t},getNextColIndexRight:function(e,i){for(var t=i.index===e.length-1?0:i.index+1;t!==i.index&&!e[t].colDef.allowCellFocus;)t++,t>e.length-1&&(t=0);return t},getRowColUp:function(i,t,r,n){var l=n.colDef.allowCellFocus?n.index:o.getNextColIndexRight(t,n);return 0===r.index?new e(r,t[l]):new e(i[r.index-1],t[l])},getRowColDown:function(i,t,r,n){var l=n.colDef.allowCellFocus?n.index:o.getNextColIndexRight(t,n);return r.index===i.length-1?new e(r,t[l]):new e(i[r.index+1],t[l])},cellNavColumnBuilder:function(e){var i=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,n.all(i)},scrollTo:function(e,i,r,n){var o={};if(null!==r){var l=e.getRow(r);l&&(o.y={percentage:l.index/e.renderContainers.body.visibleRowCache.length})}if(null!==n){var a=e.getColumn(n.name?n.name:n.field);a&&(o.x={percentage:this.getLeftWidth(e,a.index)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache.length-1)})}(o.y||o.x)&&i.$broadcast(t.events.GRID_SCROLL,o)},getLeftWidth:function(e,i){var t=0;if(i){for(var r=0;i>=r;r++)e.renderContainers.body.visibleColumnCache[r].drawnWidth&&(t+=e.renderContainers.body.visibleColumnCache[r].drawnWidth);return t}}};return o}]),i.directive("uiGridCellnav",["$log","uiGridCellNavService","uiGridCellNavConstants",function(i,t,r){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,n,o,l){var a=l.grid;t.initializeGrid(a),l.cellNav={},l.cellNav.broadcastCellNav=function(e){i.$broadcast(r.CELL_NAV_EVENT,e),l.cellNav.broadcastFocus(e.row,e.col)},l.cellNav.broadcastFocus=function(i,t){if(null===a.cellNav.lastRowCol||a.cellNav.lastRowCol.row!==i||a.cellNav.lastRowCol.col!==t){var r=new e(i,t);a.api.cellNav.raise.navigate(r,a.cellNav.lastRowCol),a.cellNav.lastRowCol=r}}},post:function(){}}}}}]),i.directive("uiGridCell",["uiGridCellNavService","$log","uiGridCellNavConstants",function(e,i,t){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(i,r,n,o){function l(){r.find("div").attr("tabindex",-1)}function a(){var e=r.find("div");e[0].focus(),e.attr("tabindex",0)}i.col.colDef.allowCellFocus&&(l(),r.on("keydown",function(t){var r=e.getDirection(t);if(null===r)return!0;var n=e.getNextRowCol(r,i.grid,i.row,i.col);return o.cellNav.broadcastCellNav(n),l(),!1}),r.find("div").on("focus",function(){o.cellNav.broadcastFocus(i.row,i.col)}),i.$on(t.CELL_NAV_EVENT,function(e,t){t.row===i.row&&t.col===i.col&&a()}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$log","$q","$templateCache","uiGridConstants","gridUtil",function(e,i,t,r,n){var o={initializeGrid:function(e){o.defaultGridOptions(e.options),e.registerColumnBuilder(o.editColumnBuilder);var i={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(i.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(e,t,r){var o=[];return e.enableCellEdit=void 0===e.enableCellEdit?void 0===r.enableCellEdit?"object"!==e.type:r.enableCellEdit:e.enableCellEdit,e.cellEditableCondition=void 0===e.cellEditableCondition?r.cellEditableCondition:e.cellEditableCondition,e.enableCellEdit&&(e.editableCellTemplate=e.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(e.editableCellTemplate).then(function(e){t.editableCellTemplate=e},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+e.editableCellTemplate+"'")}))),e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?r.enableCellEditOnFocus:e.enableCellEditOnFocus,i.all(o)},isStartEditKey:function(e){return e.keyCode===r.keymap.LEFT||e.keyCode===r.keymap.TAB&&e.shiftKey||e.keyCode===r.keymap.RIGHT||e.keyCode===r.keymap.TAB||e.keyCode===r.keymap.UP||e.keyCode===r.keymap.ENTER&&e.shiftKey||e.keyCode===r.keymap.DOWN||e.keyCode===r.keymap.ENTER?!1:!0}};return o}]),e.directive("uiGridEdit",["$log","uiGridEditService",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(n.grid)},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridEditConstants","$log","$parse","uiGridEditService",function(e,i,t,r,n,o){return{priority:-100,restrict:"A",scope:!1,link:function(r,l){function a(){l.on("dblclick",g),l.on("keydown",c),r.col.colDef.enableCellEditOnFocus&&l.find("div").on("focus",s)}function d(){l.off("dblclick",g),l.off("keydown",c),r.col.colDef.enableCellEditOnFocus&&l.find("div").off("focus",s)}function s(e){e.stopPropagation(),g()}function c(e){o.isStartEditKey(e)&&g()}function u(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(r):e.colDef.cellEditableCondition)}function g(){if(u(r.col,r.row)){v=n(r.row.getQualifiedColField(r.col)),m=v(r),h=r.col.editableCellTemplate,h=h.replace(i.COL_FIELD,r.row.getQualifiedColField(r.col));var o=r.col.colDef.editDropdownFilter?"|"+r.col.colDef.editDropdownFilter:"";switch(h=h.replace(i.CUSTOM_FILTERS,o),r.inputType="text",r.col.colDef.type){case"boolean":r.inputType="checkbox";break;case"number":r.inputType="number";break;case"date":r.inputType="date"}r.editDropdownOptionsArray=r.col.colDef.editDropdownOptionsArray,r.editDropdownIdLabel=r.col.colDef.editDropdownIdLabel?r.col.colDef.editDropdownIdLabel:"id",r.editDropdownValueLabel=r.col.colDef.editDropdownValueLabel?r.col.colDef.editDropdownValueLabel:"value";var a;r.$apply(function(){w=!0,d(),a=e(h)(r.$new());var i=angular.element(l.children()[0]);C=i.hasClass(":focus"),i.addClass("ui-grid-cell-contents-hidden"),l.append(a)});var s=r.$on(i.events.GRID_SCROLL,function(){p(!0),r.grid.api.edit.raise.afterCellEdit(r.row.entity,r.col.colDef,v(r),m),s()}),c=r.$on(t.events.END_CELL_EDIT,function(e,i){p(i),r.grid.api.edit.raise.afterCellEdit(r.row.entity,r.col.colDef,v(r),m),c()}),g=r.$on(t.events.CANCEL_CELL_EDIT,function(){f(),g()});r.$broadcast(t.events.BEGIN_CELL_EDIT),r.grid.api.edit.raise.beginCellEdit(r.row.entity,r.col.colDef)}}function p(e){if(w){var i=angular.element(l.children()[0]);angular.element(l.children()[1]).remove(),i.removeClass("ui-grid-cell-contents-hidden"),e&&C&&i.focus(),C=!1,w=!1,a()}}function f(){w&&(v.assign(r,m),r.$apply(),r.grid.api.edit.raise.cancelCellEdit(r.row.entity,r.col.colDef),p(!0))}if(r.col.colDef.enableCellEdit){var h,m,v,w=!1,C=!1;a()}}}}]),e.directive("uiGridEditor",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:!0,compile:function(){return{pre:function(){},post:function(t,r){t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(e){t.stopEdit(e)})}),t.deepEdit=!1,t.stopEdit=function(e){t.inputForm&&!t.inputForm.$valid?(e.stopPropagation(),t.$emit(i.events.CANCEL_CELL_EDIT)):t.$emit(i.events.END_CELL_EDIT),t.deepEdit=!1},r.on("click",function(){t.deepEdit=!0}),r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),t.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:t.stopEdit(r);break;case e.keymap.TAB:t.stopEdit(r)}if(t.deepEdit)switch(r.keyCode){case e.keymap.LEFT:r.stopPropagation();break;case e.keymap.RIGHT:r.stopPropagation();break;case e.keymap.UP:r.stopPropagation();break;case e.keymap.DOWN:r.stopPropagation()}return!0})}}}}}]),e.directive("input",["$filter",function(e){function i(e){if("undefined"==typeof e||""===e)return null;var i=e.split("-");if(3!==i.length)return null;var t=parseInt(i[0],10),r=parseInt(i[1],10),n=parseInt(i[2],10);return 1>r||1>t||1>n?null:new Date(t,r-1,n)}return{restrict:"E",require:"?ngModel",link:function(t,r,n,o){2===angular.version.minor&&n.type&&"date"===n.type&&o&&(o.$formatters.push(function(i){return o.$setValidity(null,!i||!isNaN(i.getTime())),e("date")(i,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var t=i(e);return o.$setValidity(null,t&&!isNaN(t.getTime())),t}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:!0,compile:function(){return{pre:function(){},post:function(t,r){t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){t.stopEdit(e)})}),t.stopEdit=function(){t.$emit(i.events.END_CELL_EDIT)},r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),t.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:t.stopEdit(r);break;case e.keymap.LEFT:t.stopEdit(r);break;case e.keymap.RIGHT:t.stopEdit(r);break;case e.keymap.UP:r.stopPropagation();break;case e.keymap.DOWN:r.stopPropagation();break;case e.keymap.TAB:t.stopEdit(r)}return!0})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$log","$compile",function(){var e={initializeGrid:function(i){var t={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(t){var r=i.getRow(t);null!==r&&e.toggleRowExpansion(i,r)},expandAllRows:function(){e.expandAllRows(i)},collapseAllRows:function(){e.collapseAllRows(i)}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods)},toggleRowExpansion:function(e,i){i.isExpanded=!i.isExpanded,i.height=i.isExpanded?i.grid.options.rowHeight+e.options.expandable.expandableRowHeight:i.grid.options.rowHeight,e.api.expandable.raise.rowExpandedStateChanged(i)},expandAllRows:function(i){angular.forEach(i.renderContainers.body.visibleRowCache,function(t){t.isExpanded||e.toggleRowExpansion(i,t)}),i.refresh()},collapseAllRows:function(i){angular.forEach(i.renderContainers.body.visibleRowCache,function(t){t.isExpanded&&e.toggleRowExpansion(i,t)}),i.refresh()}};return e}]),e.directive("uiGridExpandable",["$log","uiGridExpandableService","$templateCache",function(e,i,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,r,n,o){var l={name:"expandableButtons",width:40};
l.cellTemplate=t.get("ui-grid/expandableRowHeader"),o.grid.addRowHeaderColumn(l),i.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$log","$compile","uiGridConstants","gridUtil","$interval",function(e,i,t,r,n,o){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,i){o.getTemplate(e.grid.options.expandable.rowExpandableTemplate).then(function(t){var n=r(t)(e);i.append(n),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","$log","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var i="body"===e.colContainer.name&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return i},e.expandableRow.shouldRenderFiller=function(){var i=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return i}},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","$log","$templateCache",function(e,i,t){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]),r=t.get("ui-grid/expandableScrollFiller"),n=t.get("ui-grid/expandableRow");return i.append(n),i.append(r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",LINK_LABEL:"LINK_LABEL",BUTTON_LABEL:"BUTTON_LABEL"}),e.service("uiGridExporterService",["$log","$q","uiGridExporterConstants","gridUtil","$compile",function(e,i,t,r,n){var o={initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var i={events:{exporter:{}},methods:{exporter:{csvExport:function(i,t,r){o.csvExport(e,i,t,r)},pdfExport:function(i,t){o.pdfExport(e,i,t)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.exporterSuppressButton=e.exporterSuppressButton===!0,e.exporterLinkTemplate=e.exporterLinkTemplate?e.exporterLinkTemplate:"ui-grid/csvLink",e.exporterHeaderTemplate=e.exporterHeaderTemplate?e.exporterHeaderTemplate:"ui-grid/exporterHeader",e.exporterLinkLabel=e.exporterLinkLabel?e.exporterLinkLabel:"Download CSV",e.exporterButtonLabel=e.exporterButtonLabel?e.exporterButtonLabel:"Export",e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720},showMenu:function(e){e.exporter.$scope.menuItems=[{title:"Export all data as csv",action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)}},{title:"Export visible data as csv",action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)}},{title:"Export selected data as csv",action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)}},{title:"Export all data as pdf",action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)}},{title:"Export visible data as pdf",action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)}},{title:"Export selected data as pdf",action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)}}],e.exporter.$scope.$broadcast("toggleExporterMenu")},csvExport:function(e,i,t,r){var n=this.getColumnHeaders(e,t),o=this.getData(e,i,t),l=this.formatAsCsv(n,o);this.renderCsvLink(e,l,r)},getColumnHeaders:function(e,i){var r=[];return angular.forEach(e.columns,function(e){(e.visible||i===t.ALL)&&r.push({name:e.field,displayName:e.displayName,width:e.drawnWidth?e.drawnWidth:e.width,align:"number"===e.colDef.type?"right":"left"})}),r},getData:function(i,r,n){var o,l=[];switch(r){case t.ALL:o=i.rows;break;case t.VISIBLE:o=i.getVisibleRows();break;case t.SELECTED:i.api.selection?o=i.api.selection.getSelectedGridRows():e.error("selection feature must be enabled to allow selected rows to be exported")}return t.ALL?(angular.forEach(o,function(e){var r=[];angular.forEach(i.columns,function(o){(o.visible||n===t.ALL)&&r.push(i.getCellValue(e,o))}),l.push(r)}),l):void 0},formatAsCsv:function(e,i){var t=this,r=e.map(function(e){return e.displayName}),n=t.formatRowAsCsv(this)(r)+"\n";return n+=i.map(this.formatRowAsCsv(this)).join("\n")},formatRowAsCsv:function(e){return function(i){return i.map(e.formatFieldAsCsv).join(",")}},formatFieldAsCsv:function(e){return null==e?"":"number"==typeof e?e:"boolean"==typeof e?e?"TRUE":"FALSE":"string"==typeof e?'"'+e.replace(/"/g,'""')+'"':JSON.stringify(e)},renderCsvLink:function(e,i,o){var l=o?o:angular.element(e.exporter.gridElm[0].querySelectorAll(".ui-grid-exporter-csv-link"));angular.element(l[0].querySelectorAll(".ui-grid-exporter-csv-link-span"))&&angular.element(l[0].querySelectorAll(".ui-grid-exporter-csv-link-span")).remove();r.getTemplate(e.options.exporterLinkTemplate).then(function(r){r=r.replace(t.LINK_LABEL,e.options.exporterLinkLabel),r=r.replace(t.CSV_CONTENT,encodeURIComponent(i));var o=angular.element(r),a=n(o)(e.exporter.$scope);l.append(a)})},pdfExport:function(e,i,t){var r=this.getColumnHeaders(e,t),n=this.getData(e,i,t),o=this.prepareAsPdf(e,r,n);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,i,t){var r=this.calculatePdfHeaderWidths(e,i),n=i.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=t.map(this.formatRowAsPdf(this)),l=[n].concat(o),a={pageOrientation:e.options.exporterPdfOrientation,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:l}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(a.layout=e.options.exporterPdfLayout),a},calculatePdfHeaderWidths:function(e,i){var t=0;angular.forEach(i,function(e){"number"==typeof e.width&&(t+=e.width)});var r=0;angular.forEach(i,function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var i=parseInt(e.width.match(/(\d)*%/)[0]);e.width=t*i/100,r+=e.width}});var n=t+r;return i.map(function(i){return"*"===i.width?i.width:i.width*e.options.exporterPdfMaxGridWidth/n})},formatRowAsPdf:function(e){return function(i){return i.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){return null==e?"":"number"==typeof e?e.toString():"boolean"==typeof e?e?"TRUE":"FALSE":"string"==typeof e?e.replace(/"/g,'""'):JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")}};return o}]),e.directive("uiGridExporter",["$log","uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,i,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.initializeGrid(n.grid),n.grid.exporter.$scope=e},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$log","$compile","$timeout",function(){var e={initializeGrid:function(e){var i={events:{infiniteScroll:{needLoadMoreData:function(){}}},methods:{infiniteScroll:{dataLoaded:function(){e.options.loadTimout=!1}}}};e.options.loadTimout=!1,e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},loadData:function(e){e.api.infiniteScroll.raise.needLoadMoreData(),e.options.loadTimout=!0},checkScroll:function(e,i){var t=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;return!e.options.loadTimout&&t>=i?(this.loadData(e),!0):!1}};return e}]),e.directive("uiGridInfiniteScroll",["$log","uiGridInfiniteScrollService",function(e,i){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(n.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","$log","uiGridInfiniteScrollService","uiGridConstants",function(e,i,t,r){return{priority:-200,scope:!1,link:function(e){e.$on(r.events.GRID_SCROLL,function(i,r){var n=100-100*r.y.percentage;t.checkScroll(e.grid,n)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"}}),e}])}]),e.service("uiGridPinningService",["$log","GridRenderContainer","i18nService",function(e,i,t){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(e,i,r){if(e.enablePinning=void 0===e.enablePinning?r.enablePinning:e.enablePinning,e.pinnedLeft?(i.renderContainer="left",i.grid.createLeftContainer()):e.pinnedRight&&(i.renderContainer="right",i.grid.createRightContainer()),e.enablePinning){var n={title:t.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.grid.createLeftContainer(),i.grid.refresh().then(function(){i.grid.refresh()})}},o={title:t.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.grid.createRightContainer(),i.grid.refresh().then(function(){i.grid.refresh()})}},l={title:t.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,i.grid.refresh().then(function(){i.grid.refresh()})}};i.menuItems.push(n),i.menuItems.push(o),i.menuItems.push(l)}}};return r}]),e.directive("uiGridPinning",["$log","uiGridPinningService",function(e,i){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(n.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.constant("columnBounds",{minWidth:35}),e.service("uiGridResizeColumnsService",["$log","$q",function(e,i){var t={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,t,r){var n=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),i.all(n)}};return t}]),e.directive("uiGridResizeColumns",["$log","uiGridResizeColumnsService",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,r,n){i.defaultGridOptions(n.grid.options),n.grid.registerColumnBuilder(i.colResizerColumnBuilder)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$log","$templateCache","$compile","$q",function(e,i,t,r){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,o,l){if(l.grid.options.enableColumnResizing){var a=r.defer();o.$observe("renderIndex",function(i){e.renderIndex=e.$eval(i),a.resolve()}),a.promise.then(function(){var r=i.get("ui-grid/columnResizer"),o=angular.element(r).clone(),l=angular.element(r).clone();o.attr("position","left"),l.attr("position","right");var a=e.col,d=a.getRenderContainer(),s=d.renderedColumns[e.renderIndex-1];s&&0!==e.col.index&&s.colDef.enableColumnResizing!==!1&&n.prepend(o),e.col.colDef.enableColumnResizing!==!1&&n.append(l),t(o)(e),t(l)(e)})}}}}}}]),e.directive("uiGridColumnResizer",["$log","$document","gridUtil","uiGridConstants","columnBounds",function(e,i,t,r,n){var o=angular.element('<div class="ui-grid-resize-overlay"></div>'),l={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(e,l,a,d){function s(e){var i=e.getRenderContainer();i.visibleColumnCache.forEach(function(i){if(i.index!==e.index){var t=i.colDef;(!t.width||angular.isString(t.width)&&(-1!==t.width.indexOf("*")||-1!==t.width.indexOf("%")))&&(t.width=i.drawnWidth)}})}function c(){d.grid.buildColumns().then(function(){d.grid.refreshCanvas(!0)})}function u(i){i.originalEvent&&(i=i.originalEvent),i.preventDefault(),f=i.clientX-h,0>f?f=0:f>d.grid.gridWidth&&(f=d.grid.gridWidth);var t,l=e.col,a=l.getRenderContainer();if("left"===e.position?(l=a.renderedColumns[e.renderIndex-1],t=e.col):"right"===e.position&&(t=a.renderedColumns[e.renderIndex+1]),l.colDef.enableColumnResizing!==!1){d.grid.element.hasClass("column-resizing")||d.grid.element.addClass("column-resizing");var s=f-p,c=l.drawnWidth+s;l.colDef.minWidth&&c<l.colDef.minWidth?f+=l.colDef.minWidth-c:!l.colDef.minWidth&&n.minWidth&&c<n.minWidth?f+=l.colDef.minWidth-c:l.colDef.maxWidth&&c>l.colDef.maxWidth&&(f+=l.colDef.maxWidth-c),o.css({left:f+"px"}),d.fireEvent(r.events.ITEM_DRAGGING)}}function g(t){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),d.grid.element.removeClass("column-resizing"),o.remove(),f=t.clientX-h;var r=f-p;if(0===r)return i.off("mouseup",g),void i.off("mousemove",u);var l,a=e.col,m=a.getRenderContainer();if("left"===e.position?(a=m.renderedColumns[e.renderIndex-1],l=e.col):"right"===e.position&&(l=m.renderedColumns[e.renderIndex+1]),a.colDef.enableColumnResizing!==!1){var v=a.drawnWidth+r;a.colDef.minWidth&&v<a.colDef.minWidth?v=a.colDef.minWidth:!a.colDef.minWidth&&n.minWidth&&v<n.minWidth&&(v=n.minWidth),a.colDef.maxWidth&&v>a.colDef.maxWidth&&(v=a.colDef.maxWidth),a.colDef.width=v,s(a),c(r),i.off("mouseup",g),i.off("mousemove",u)}}var p=0,f=0,h=0;"left"===e.position?l.addClass("left"):"right"===e.position&&l.addClass("right"),l.on("mousedown",function(e){e.originalEvent&&(e=e.originalEvent),e.stopPropagation(),h=d.grid.element[0].getBoundingClientRect().left,p=e.clientX-h,d.grid.element.append(o),o.css({left:p}),i.on("mouseup",g),i.on("mousemove",u)}),l.on("dblclick",function(i){i.stopPropagation();var o,a,d=e.col,u=d.getRenderContainer();"left"===e.position?(d=u.renderedColumns[e.renderIndex-1],o=e.col,a=1):"right"===e.position&&(o=u.renderedColumns[e.renderIndex+1],o=u.renderedColumns[e.renderIndex+1],a=-1);var g=0,p=0,f=t.closestElm(l,".ui-grid-render-container"),h=f.querySelectorAll("."+r.COL_CLASS_PREFIX+d.index+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var n=t.elementWidth(r);if(i){var o=t.elementWidth(i);n+=o}n>g&&(g=n,p=g-n)})}),d.colDef.minWidth&&g<d.colDef.minWidth?g=d.colDef.minWidth:!d.colDef.minWidth&&n.minWidth&&g<n.minWidth&&(g=n.minWidth),d.colDef.maxWidth&&g>d.colDef.maxWidth&&(g=d.colDef.maxWidth),d.colDef.width=g,s(d),c(p)}),l.on("$destroy",function(){l.off("mousedown"),l.off("dblclick"),i.off("mousemove",u),i.off("mouseup",g)})}};return l}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$log","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,i,t){var r={initializeGrid:function(e,i){var t={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,i,t){r.setSavePromise(e,i,t)},getDirtyRows:function(e){return e.rowEditDirtyRows},getErrorRows:function(e){return e.rowEditErrorRows},flushDirtyRows:function(e){return r.flushDirtyRows(e)}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods),i.api.core.on.renderingComplete(e,function(){i.api.edit.on.afterCellEdit(e,r.endEditCell),i.api.edit.on.beginCellEdit(e,r.beginEditCell),i.api.edit.on.cancelCellEdit(e,r.cancelEditCell),i.api.cellNav&&i.api.cellNav.on.navigate(e,r.navigate)})},defaultGridOptions:function(){},saveRow:function(e,t){var r=this;return function(){t.isSaving=!0;var n=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(r.processSuccessPromise(e,t),r.processErrorPromise(e,t)):i.log("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),n}},setSavePromise:function(e,i,t){var r=e.getRow(i);r.rowEditSavePromise=t},processSuccessPromise:function(e,i){var t=this;return function(){delete i.isSaving,delete i.isDirty,delete i.isError,delete i.rowEditSaveTimer,t.removeRow(e.rowEditErrorRows,i),t.removeRow(e.rowEditDirtyRows,i)}},processErrorPromise:function(e,i){return function(){delete i.isSaving,delete i.rowEditSaveTimer,i.isError=!0,e.rowEditErrorRows||(e.rowEditErrorRows=[]),e.rowEditErrorRows.push(i)}},removeRow:function(e,i){angular.forEach(e,function(t,r){t.uid===i.uid&&e.splice(r,1)})},flushDirtyRows:function(e){var i=[];return angular.forEach(e.rowEditDirtyRows,function(t){r.saveRow(e,t)(),i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(e,t,n,o){var l=this.grid,a=l.getRow(e);return a?void((n!==o||a.isDirty)&&(l.rowEditDirtyRows||(l.rowEditDirtyRows=[]),a.isDirty||(a.isDirty=!0,l.rowEditDirtyRows.push(a)),delete a.isError,r.considerSetTimer(l,a))):void i.log("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?void r.cancelTimer(t,n):void i.log("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?void r.considerSetTimer(t,n):void i.log("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,i){var t=this.grid;e.row.rowEditSaveTimer&&r.cancelTimer(t,e.row),i&&i.row&&i.row!==e.row&&r.considerSetTimer(t,i.row)},considerSetTimer:function(i,t){if(r.cancelTimer(i,t),t.isDirty&&!t.isSaving){var n=i.options.rowEditWaitInterval?i.options.rowEditWaitInterval:2e3;t.rowEditSaveTimer=e(r.saveRow(i,t),n,1)}},cancelTimer:function(i,t){t.rowEditSaveTimer&&!t.isSaving&&(e.cancel(t.rowEditSaveTimer),delete t.rowEditSaveTimer)}};return r}]),e.directive("uiGridRowEdit",["$log","uiGridRowEditService","uiGridEditConstants",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(e,n.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","$log","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]);return i.attr("ng-class","{'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}"),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection"}),e.service("uiGridSelectionService",["$log","$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(i){i.selection={},i.selection.lastSelectedRow=null,e.defaultGridOptions(i.options);var t={events:{selection:{rowSelectionChanged:function(){}}},methods:{selection:{toggleRowSelection:function(t){var r=i.getRow(t);null!==r&&e.toggleRowSelection(i,r,i.options.multiSelect)},selectRow:function(t){var r=i.getRow(t);null===r||r.isSelected||e.toggleRowSelection(i,r,i.options.multiSelect)},unSelectRow:function(t){var r=i.getRow(t);null!==r&&r.isSelected&&e.toggleRowSelection(i,r,i.options.multiSelect)},selectAllRows:function(){i.options.multiSelect!==!1&&i.rows.forEach(function(e){e.isSelected=!0})},selectAllVisibleRows:function(){i.options.multiSelect!==!1&&i.rows.forEach(function(e){e.isSelected=e.visible?!0:!1})},clearSelectedRows:function(){e.clearSelectedRows(i)},getSelectedRows:function(){return e.getSelectedRows(i).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(i)},setMultiSelect:function(e){i.options.multiSelect=e}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1},toggleRowSelection:function(i,t,r){var n=t.isSelected;r||n||e.clearSelectedRows(i),t.isSelected=!n,t.isSelected===!0&&(i.selection.lastSelectedRow=t),i.api.selection.raise.rowSelectionChanged(t)},shiftSelect:function(i,t,r){if(r){var n=e.getSelectedRows(i),o=n.length>0?i.renderContainers.body.visibleRowCache.indexOf(i.selection.lastSelectedRow):0,l=i.renderContainers.body.visibleRowCache.indexOf(t);if(o>l){var a=o;o=l,l=a}for(var d=o;l>=d;d++){var s=i.renderContainers.body.visibleRowCache[d];s&&(s.isSelected=!0,i.selection.lastSelectedRow=s,i.api.selection.raise.rowSelectionChanged(s))}}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(i){e.getSelectedRows(i).forEach(function(e){e.isSelected=!1,i.api.selection.raise.rowSelectionChanged(e)})}};return e}]),e.directive("uiGridSelection",["$log","uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,i,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){if(t.initializeGrid(n.grid),n.grid.options.enableRowHeaderSelection){var o="ui-grid/selectionRowHeader",l={name:"selectionRowHeaderCol",displayName:"",width:30,cellTemplate:o};n.grid.addRowHeaderColumn(l)}},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$log","$templateCache","uiGridSelectionService",function(e,i,t){return{replace:!0,restrict:"E",template:i.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,n){var o=n.grid;e.selectButtonClick=function(e,i){i.shiftKey?t.shiftSelect(o,e,o.options.multiSelect):t.toggleRowSelection(o,e,o.options.multiSelect)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]);return i.attr("ng-class","{'ui-grid-row-selected': row.isSelected}"),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(e,i,t,r,n,o){return{priority:-200,restrict:"A",scope:!1,link:function(e,i){function t(){i.on("click",function(i){i.shiftKey?o.shiftSelect(e.grid,e.row,e.grid.options.multiSelect):o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect),e.$apply()})}e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection&&(i.addClass("ui-grid-disable-selection"),t())}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-top-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-header ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n\n    {{ grid.customStyles }}</style><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-scrollbars="grid.options.enableScrollbars"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenu"></div><div ng-transclude></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationValue() }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex">{{ col.displayName CUSTOM_FILTERS }} <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div ng-if="grid.options.enableColumnMenu && !col.isRowHeader" class="ui-grid-column-menu-button" ng-click="toggleMenu($event)"><i class="ui-grid-icon-angle-down">&nbsp;<i></i></i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-click="$event.stopPropagation()" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel right" ng-show="!!colFilter.term">&nbsp;</i> <!-- use !! because angular interprets \'f\' as false --></div></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu"><div class="ui-grid-menu-inner" ng-show="shown"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" title="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ title }}</li>'),e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showFooter"></div><!-- native scrolling --><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="vertical"></div><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="horizontal"></div></div>'),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by row.uid" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="{{inputType}}" ng-class="\'colt\' + col.index" ui-grid-editor ng-model="COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.index" ui-grid-edit-dropdown ng-model="COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left;margin-top: 1px;margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth() - grid.verticalScrollbarWidth)\n     ,height: grid.options.expandable.expandableRowHeight}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell uiGridExpandableButtonsCell"><div class="ui-grid-cell-contents"><i ng-class="{\'ui-grid-icon-plus-squared\':!row.isExpanded, \'ui-grid-icon-minus-squared\':row.isExpanded}" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller",'<div ng-if="expandableRow.shouldRenderFiller()" style="float:left;margin-top: 2px;margin-bottom: 2px" ng-style="{width: (grid.getViewportWidth())\n     ,height: grid.options.expandable.expandableRowHeight, \'margin-left\': grid.options.rowHeader.rowHeaderWidth}"><i class="ui-grid-icon-spin5 ui-grid-animate-spin" ng-style="{\'margin-top\': ( grid.options.expandable.expandableRowHeight/2 - 5),\n            \'margin-left\':((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5)}"></i></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT">LINK_LABEL</a></span>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-row-header-cell ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>')
}]);