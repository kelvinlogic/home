(function(){"use strict";angular.module("fc.configuration").controller("LanguageConfigCtrl",n);n.$inject=["lodash","$modal","$scope","$state","appConfig","configSvc","langSvc"];function n(n,e,t,a,o,l,u){var c=this;c.activate=g;c.defaultLanguages=[];c.languages=[];c.titleKey="fc.configuration.language.PAGE_TITLE";g();function g(){t.$on(o.languageChanged,i)}function i(){l.getConfig().then(function(n){if(n.language.completed){var t=e.open({templateUrl:"common/modal.tpl.html",controller:"ModalTemplateCtrl as modalCtrl",resolve:{data:function(){return{bodyTextKey:"fc.configuration.language.configCompleteModal.COMPLETE_MODAL_CONTENT",cancelKey:"fc.NO_TEXT",okKey:"fc.YES_TEXT",titleKey:"fc.configuration.language.configCompleteModal.COMPLETE_MODAL_TITLE"}}}});t.result.then(function(){f(n)},function(){a.go("hierarchy-config")})}else{f(n)}})}function f(e){u.getLanguages().then(function(t){c.defaultLanguages=n.filter(t,function(n){return n.default});var a=e.language.languages;c.languages=n(t).filter(function(n){return!n.default}).map(function(e){if(n.some(a,{code:e.code})){e.selected=true}return e}).value()})}function r(){}}})();