(function(){"use strict";angular.module("ui.grid.i18n",[]);angular.module("ui.grid",["ui.grid.i18n"])})();(function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"]})})();angular.module("ui.grid").directive("uiGridCell",["$compile","$log","$parse","gridUtil","uiGridConstants",function(e,i,r,t,n){var o={priority:0,scope:false,require:"?^uiGrid",compile:function(){return{pre:function(i,r,t,o){function l(){var e=i.col.compiledElementFn;e(i,function(e,i){r.append(e)})}if(o){l()}else{var a=i.col.cellTemplate.replace(n.COL_FIELD,"grid.getCellValue(row, col)");var s=e(a)(i);r.append(s)}},post:function(e,i,r,t){i.addClass(e.col.getColClass(false));if(e.col.cellClass){var n=i;if(angular.isFunction(e.col.cellClass)){n.addClass(e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex))}else{n.addClass(e.col.cellClass)}}}}}};return o}]);(function(){angular.module("ui.grid").directive("uiGridColumnMenu",["$log","$timeout","$window","$document","$injector","gridUtil","uiGridConstants","i18nService",function(e,i,r,t,n,o,l,a){var s={priority:0,scope:true,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:true,link:function(s,d,u,c){o.enableAnimations(d);s.grid=c.grid;var f=this;c.columnMenuScope=s;f.shown=s.menuShown=false;s.asc=l.ASC;s.desc=l.DESC;s.menu=d[0].querySelectorAll(".ui-grid-menu");s.inner=d[0].querySelectorAll(".ui-grid-menu-inner");s.sortable=function(){if(c.grid.options.enableSorting&&typeof s.col!=="undefined"&&s.col&&s.col.enableSorting){return true}else{return false}};s.filterable=function(){if(c.grid.options.enableFiltering&&typeof s.col!=="undefined"&&s.col&&s.col.enableFiltering){return true}else{return false}};var g=[{title:a.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation();s.sortColumn(e,l.ASC)},shown:function(){return s.sortable()},active:function(){return typeof s.col!=="undefined"&&typeof s.col.sort!=="undefined"&&typeof s.col.sort.direction!=="undefined"&&s.col.sort.direction===l.ASC}},{title:a.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation();s.sortColumn(e,l.DESC)},shown:function(){return s.sortable()},active:function(){return typeof s.col!=="undefined"&&typeof s.col.sort!=="undefined"&&typeof s.col.sort.direction!=="undefined"&&s.col.sort.direction===l.DESC}},{title:a.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation();s.unsortColumn()},shown:function(){return s.sortable()&&typeof s.col!=="undefined"&&(typeof s.col.sort!=="undefined"&&typeof s.col.sort.direction!=="undefined")&&s.col.sort.direction!==null}},{title:a.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation();s.hideColumn()}}];s.menuItems=g;s.$watch("col.menuItems",function(e,i){if(typeof e!=="undefined"&&e&&angular.isArray(e)){e.forEach(function(e){if(typeof e.context==="undefined"||!e.context){e.context={}}e.context.col=s.col});s.menuItems=g.concat(e)}else{s.menuItems=g}});var p;try{p=n.get("$animate")}catch(h){e.info("$animate service not found (ngAnimate not add as a dependency?), menu animations will not occur")}s.showMenu=function(e,r){f.col=s.col=e;t.off("click",v);var n=r[0].offsetLeft;var l=r[0].offsetTop;var a=0;if(e.grid.options.offsetLeft){a=e.grid.options.offsetLeft}var u=o.elementHeight(r,true);var c=o.elementWidth(r,true);var g=false;function h(){i(function(){if(g&&p){p.removeClass(s.inner,"ng-hide");f.shown=s.menuShown=true;s.$broadcast("show-menu")}else if(angular.element(s.inner).hasClass("ng-hide")){angular.element(s.inner).removeClass("ng-hide")}var i=e.renderContainer?e.renderContainer:"body";var a=e.grid.renderContainers[i];var h=o.closestElm(r,".ui-grid-render-container");var m=h.offsetLeft-s.grid.element[0].offsetLeft;var w=h.querySelectorAll(".ui-grid-viewport")[0].scrollLeft;var C=o.elementWidth(s.menu,true);var y=parseInt(angular.element(s.menu).css("padding-right"),10);d.css("left",n+m-w+c-C+y+"px");d.css("top",l+u+"px");t.on("click",v)})}if(s.menuShown&&p){p.addClass(s.inner,"ng-hide",h);g=true}else{f.shown=s.menuShown=true;s.$broadcast("show-menu");h()}};s.hideMenu=function(){delete f.col;delete s.col;f.shown=s.menuShown=false;s.$broadcast("hide-menu")};function v(){s.$apply(s.hideMenu);t.off("click",v)}function m(){s.$apply(s.hideMenu)}angular.element(r).bind("resize",m);s.$on("$destroy",s.$on(l.events.GRID_SCROLL,function(e,i){s.hideMenu()}));s.$on("$destroy",s.$on(l.events.ITEM_DRAGGING,function(e,i){s.hideMenu()}));s.$on("$destroy",function(){angular.element(r).off("resize",m);t.off("click",v)});s.sortColumn=function(e,i){e.stopPropagation();c.grid.sortColumn(s.col,i,true).then(function(){c.grid.refresh();s.hideMenu()})};s.unsortColumn=function(){s.col.unsort();c.grid.refresh();s.hideMenu()};s.hideColumn=function(){s.col.colDef.visible=false;c.grid.refresh();s.hideMenu()}},controller:["$scope",function(e){var i=this;e.$watch("menuItems",function(e,r){i.menuItems=e})}]};return s}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$log","$timeout","gridUtil","$compile",function(e,i,r,t){var n={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:true,require:"^uiGrid",compile:function o(e,i,n){return{pre:function(e,i,n,o){function l(n){r.getTemplate(n).then(function(r){var n=t(r);var o=n(e);i.append(o)})}if(e.col.footerCellTemplate){l(e.col.footerCellTemplate)}else{l("ui-grid/uiGridFooterCell")}},post:function(e,i,r,t){e.grid=t.grid;i.addClass(e.col.getColClass(false))}}}};return n}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,r,t,n,o){var l="ui-grid/ui-grid-footer";return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(i,t){return{pre:function(e,i,t,o){var a=o[0];var s=o[1];e.grid=a.grid;e.colContainer=s.colContainer;s.footer=i;var d=e.grid.options.footerTemplate?e.grid.options.footerTemplate:l;n.getTemplate(d).then(function(t){var n=angular.element(t);var o=r(n)(e);i.append(o);if(s){var l=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(l){s.footerViewport=l}}})},post:function(i,r,t,o){var l=o[0];var a=o[1];e.debug("ui-grid-footer link");var s=l.grid;n.disableAnimations(r);a.footer=r;var d=r[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(d){a.footerViewport=d}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,i,r){var t="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:true,require:"?^uiGrid",scope:false,compile:function(i,n){return{pre:function(i,n,o,l){var a=i.grid.options.groupPanelTemplate||t;r.getTemplate(a).then(function(r){var t=angular.element(r);var o=e(t)(i);n.append(o)})},post:function(e,i,r,t){i.bind("$destroy",function(){})}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$log","$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,i,r,t,n,o,l){var a=500;var s={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:"?^uiGrid",replace:true,compile:function(){return{pre:function(e,r,t,n){var o=i(e.col.headerCellTemplate)(e);r.append(o)},post:function(e,i,t,n){e.grid=n.grid;if(!e.grid.api.core.raise.filterChanged){e.grid.api.registerEvent("core","filterChanged")}i.addClass(e.col.getColClass(false));e.menuShown=false;e.asc=l.ASC;e.desc=l.DESC;var o=angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu"));var s=angular.element(i[0].querySelectorAll(".ui-grid-cell-contents"));if(n.grid.options.enableSorting&&e.col.enableSorting){e.sortable=true}else{e.sortable=false}if(n.grid.options.enableFiltering&&e.col.enableFiltering){e.filterable=true}else{e.filterable=false}function d(i){var r=false;if(i.shiftKey){r=true}n.grid.sortColumn(e.col,r).then(function(){if(n.columnMenuScope){n.columnMenuScope.hideMenu()}n.grid.refresh()})}var u;var c=0;s.on("mousedown",function(t){if(typeof t.originalEvent!=="undefined"&&t.originalEvent!==undefined){t=t.originalEvent}if(t.button&&t.button!==0){return}c=(new Date).getTime();u=r(function(){},a);u.then(function(){n.columnMenuScope.showMenu(e.col,i)})});s.on("mouseup",function(){r.cancel(u)});e.toggleMenu=function(r){r.stopPropagation();if(n.columnMenuScope.menuShown){if(n.columnMenuScope.col===e.col){n.columnMenuScope.hideMenu()}else{n.columnMenuScope.showMenu(e.col,i)}}else{n.columnMenuScope.showMenu(e.col,i)}};if(e.sortable){s.on("click",function(e){e.stopPropagation();r.cancel(u);var i=(new Date).getTime();var t=i-c;if(t>a){}else{d(e)}});e.$on("$destroy",function(){r.cancel(u)})}if(e.filterable){var f=[];angular.forEach(e.col.filters,function(i,r){f.push(e.$watch("col.filters["+r+"].term",function(e,i){n.grid.api.core.raise.filterChanged();n.grid.refresh().then(function(){if(n.prevScrollArgs&&n.prevScrollArgs.y&&n.prevScrollArgs.y.percentage){n.fireScrollingEvent({y:{percentage:n.prevScrollArgs.y.percentage}})}})}))});e.$on("$destroy",function(){angular.forEach(f,function(e){e()})})}}}}};return s}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,r,t,n,o){var l="ui-grid/ui-grid-header";var a="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(i,t){return{pre:function(e,i,t,o){var s=o[0];var d=o[1];e.grid=s.grid;e.colContainer=d.colContainer;d.header=i;d.colContainer.header=i;var u;if(e.grid.options.hideHeader){u=a}else{u=e.grid.options.headerTemplate?e.grid.options.headerTemplate:l}n.getTemplate(u).then(function(t){var n=angular.element(t);var o=r(n)(e);i.append(o);if(d){var l=i[0].getElementsByClassName("ui-grid-header-viewport")[0];if(l){d.headerViewport=l}}})},post:function(i,r,t,o){var l=o[0];var a=o[1];e.debug("ui-grid-header link");var s=l.grid;n.disableAnimations(r);function d(){var e=[],i=[],r=[],t=0,o=0;var d=a.colContainer.getViewportWidth();if(typeof l.grid.verticalScrollbarWidth!=="undefined"&&l.grid.verticalScrollbarWidth!==undefined&&l.grid.verticalScrollbarWidth>0){d=d+l.grid.verticalScrollbarWidth}var u;var c=0;var f=0;var g="";var p=a.colContainer.visibleColumnCache;p.forEach(function(r,o){if(!r.visible){return}var l,a=false;if(!angular.isNumber(r.width)){a=isNaN(r.width)?n.endsWith(r.width,"%"):false}if(angular.isString(r.width)&&r.width.indexOf("*")!==-1){t=parseInt(t+r.width.length,10);e.push(r)}else if(a){i.push(r)}else if(angular.isNumber(r.width)){c=parseInt(c+r.width,10);f=parseInt(f,10)+parseInt(r.width,10);r.drawnWidth=r.width}});var h=d-c;var v,m,w;if(i.length>0){for(v=0;v<i.length;v++){m=i[v];var C=parseInt(m.width.replace(/%/g,""),10)/100;w=parseInt(C*h,10);if(m.colDef.minWidth&&w<m.colDef.minWidth){w=m.colDef.minWidth;h=h-w;f+=w;m.drawnWidth=w;i.splice(v,1)}else if(m.colDef.maxWidth&&w>m.colDef.maxWidth){w=m.colDef.maxWidth;h=h-w;f+=w;m.drawnWidth=w;i.splice(v,1)}}i.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100;var r=parseInt(i*h,10);f+=r;e.drawnWidth=r})}if(e.length>0){var y=parseInt(h/t,10);for(v=0;v<e.length;v++){m=e[v];w=parseInt(y*m.width.length,10);if(m.colDef.minWidth&&w<m.colDef.minWidth){w=m.colDef.minWidth;h=h-w;t--;f+=w;m.drawnWidth=w;u=m;e.splice(v,1)}else if(m.colDef.maxWidth&&w>m.colDef.maxWidth){w=m.colDef.maxWidth;h=h-w;t--;f+=w;m.drawnWidth=w;e.splice(v,1)}}y=parseInt(h/t,10);e.forEach(function(e){var i=parseInt(y*e.width.length,10);f+=i;e.drawnWidth=i})}var b=d-parseInt(f,10);if(b>0&&f>0&&f<d){var S=false;p.forEach(function(e){if(e.width&&!angular.isNumber(e.width)){S=true}});if(S){var E=function(e){if(b>0){e.drawnWidth=e.drawnWidth+1;f=f+1;b--}};while(b>0){p.forEach(E)}}}if(f<d){f=d}p.forEach(function(e){g=g+e.getColClassDefinition()});if(s.verticalScrollbarWidth){f=f+s.verticalScrollbarWidth}a.colContainer.canvasWidth=parseInt(f,10);return g}a.header=r;var u=r[0].getElementsByClassName("ui-grid-header-viewport")[0];if(u){a.headerViewport=u}if(l){l.grid.registerStyleComputation({priority:5,func:d})}}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridMenu",["$log","$compile","$timeout","$window","$document","gridUtil",function(e,i,r,t,n,o){var l={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:false,link:function(e,i,r,n){o.enableAnimations(i);if(typeof e.autoHide==="undefined"||e.autoHide===undefined){e.autoHide=true}if(e.autoHide){angular.element(t).on("resize",e.hideMenu)}e.$on("hide-menu",function(){e.shown=false});e.$on("show-menu",function(){e.shown=true});e.$on("$destroy",function(){angular.element(t).off("resize",e.hideMenu)})},controller:["$scope","$element","$attrs",function(e,i,t){var n=this;n.hideMenu=e.hideMenu=function(){e.shown=false};function o(){e.$apply(function(){n.hideMenu();angular.element(document).off("click",o)})}n.showMenu=e.showMenu=function(){e.shown=true;angular.element(document).off("click",o);r(function(){angular.element(document).on("click",o)})};e.$on("$destroy",function(){angular.element(document).off("click",o)})}]};return l}]).directive("uiGridMenuItem",["$log","gridUtil","$compile","i18nService",function(e,i,r,t){var n={priority:0,scope:{title:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:true,compile:function(n,o){return{pre:function(e,t,n,o){var l=o[0],a=o[1];if(e.templateUrl){i.getTemplate(e.templateUrl).then(function(i){var n=angular.element(i);var o=r(n)(e);t.replaceWith(o)})}},post:function(i,r,n,o){var l=o[0],a=o[1];if(typeof i.shown==="undefined"||i.shown===null){i.shown=function(){return true}}i.itemShown=function(){var e={};if(i.context){e.context=i.context}if(typeof l!=="undefined"&&l){e.grid=l.grid}return i.shown.call(e)};i.itemAction=function(r,t){e.debug("itemAction");r.stopPropagation();if(typeof i.action==="function"){var n={};if(i.context){n.context=i.context}if(typeof l!=="undefined"&&l){n.grid=l.grid}i.action.call(n,r,t);a.hideMenu()}};i.i18n=t.get()}}}};return n}])})();(function(){angular.module("ui.grid").directive("uiGridNativeScrollbar",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,i,r,t,n){var o=n.getScrollbarWidth();o=o>0?o:17;var l=n.detectBrowser();if(l==="ie"){o=o+1}return{scope:{type:"@"},require:["^uiGrid","^uiGridRenderContainer"],link:function(e,i,r,l){var a=l[0];var s=l[1];var d=s.rowContainer;var u=s.colContainer;var c=a.grid;var f=angular.element('<div class="contents">&nbsp;</div>');i.addClass("ui-grid-native-scrollbar");var g;var p=0;if(e.type==="vertical"){i.css("width",o+"px");i.addClass("vertical");c.verticalScrollbarWidth=o;u.verticalScrollbarWidth=o;g=i[0].scrollTop}else if(e.type==="horizontal"){i.css("height",o+"px");i.addClass("horizontal");c.horizontalScrollbarHeight=o;d.horizontalScrollbarHeight=o;g=n.normalizeScrollLeft(i)}i.append(f);if(e.type==="vertical"){p=n.elementHeight(i)}else if(e.type==="horizontal"){p=n.elementWidth(i)}function h(){var e=d.getViewportHeight();var i=d.getCanvasHeight();var r=u.headerHeight?u.headerHeight:c.headerHeight;var t=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.vertical .contents { height: "+i+"px; }";t+="\n .grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.vertical { height: "+e+"px; top: "+r+"px}";p=i;return t}var v=n.closestElm(i,".ui-grid");var m=n.getBorderSize(v,"bottom");function w(){var e=u.getCanvasWidth();var i=o*-1+m;if(c.options.showFooter){i-=1}var r=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.horizontal { bottom: "+i+"px; }";r+=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.horizontal .contents { width: "+e+"px; }";p=e;return r}if(e.type==="vertical"){c.registerStyleComputation({priority:6,func:h})}else if(e.type==="horizontal"){c.registerStyleComputation({priority:6,func:w})}e.scrollSource=null;function C(r){if(e.type==="vertical"){c.flagScrollingVertically();var t=i[0].scrollTop;var o=g-t;var l=d.getCanvasHeight()-d.getViewportHeight();if(c.horizontalScrollbarHeight&&c.horizontalScrollbarHeight>0){l=l-a.grid.horizontalScrollbarHeight}var s=t/l;if(s>1){s=1}if(s<0){s=0}var f={target:i,y:{percentage:s}};if(!e.scrollSource){a.fireScrollingEvent(f)}else{e.scrollSource=null}g=t}else if(e.type==="horizontal"){c.flagScrollingHorizontally();var p=n.normalizeScrollLeft(i);var h=g-p;var v=u.getCanvasWidth()-u.getViewportWidth();var m=p/v;var w={target:i,x:{percentage:m}};if(!e.scrollSource){a.fireScrollingEvent(w)}else{e.scrollSource=null}g=p}}i.on("scroll",C);i.on("$destroy",function(){i.off("scroll")});function y(r,t){if(t.target&&(t.target===i||angular.element(t.target).hasClass("ui-grid-native-scrollbar"))){return}e.scrollSource=t.target;if(e.type==="vertical"){if(t.y&&typeof t.y.percentage!=="undefined"&&t.y.percentage!==undefined){c.flagScrollingVertically();var o=d.getCanvasHeight()-d.getViewportHeight();var l=Math.max(0,t.y.percentage*o);i[0].scrollTop=l}}else if(e.type==="horizontal"){if(t.x&&typeof t.x.percentage!=="undefined"&&t.x.percentage!==undefined){c.flagScrollingHorizontally();var a=u.getCanvasWidth()-u.getViewportWidth();var s=Math.max(0,t.x.percentage*a);i[0].scrollLeft=n.denormalizeScrollLeft(i,s)}}}var b=e.$on(t.events.GRID_SCROLL,y);e.$on("$destroy",b)}}}])})();(function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,i,r,t,n){return{replace:true,transclude:true,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableScrollbars:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function o(i,r,t,n){e.debug("render container "+i.containerId+" pre-link");var o=n[0];var l=n[1];var a=i.grid=o.grid;if(!i.rowContainerName){throw"No row render container name specified"}if(!i.colContainerName){throw"No column render container name specified"}if(!a.renderContainers[i.rowContainerName]){throw"Row render container '"+i.rowContainerName+"' is not registered."}if(!a.renderContainers[i.colContainerName]){throw"Column render container '"+i.colContainerName+"' is not registered."}var s=i.rowContainer=a.renderContainers[i.rowContainerName];var d=i.colContainer=a.renderContainers[i.colContainerName];l.containerId=i.containerId;l.rowContainer=s;l.colContainer=d},post:function l(o,a,s,d){e.debug("render container "+o.containerId+" post-link");var u=d[0];var c=d[1];var f=u.grid;var g=c.rowContainer;var p=c.colContainer;a.addClass("ui-grid-render-container-"+o.containerId);var h;if(o.bindScrollHorizontal||o.bindScrollVertical){h=o.$on(t.events.GRID_SCROLL,v)}function v(e,i){if(i.y&&o.bindScrollVertical){c.prevScrollArgs=i;var r=g.getCanvasHeight()-g.getViewportHeight();if(f.horizontalScrollbarHeight&&f.horizontalScrollbarHeight>0){r=r+f.horizontalScrollbarHeight}var t=c.viewport[0].scrollTop;var l;if(typeof i.y.percentage!=="undefined"&&i.y.percentage!==undefined){l=i.y.percentage}else if(typeof i.y.pixels!=="undefined"&&i.y.pixels!==undefined){l=i.y.percentage=(t+i.y.pixels)/r}else{throw new Error("No percentage or pixel value provided for scroll event Y axis")}var a=Math.max(0,l*r);c.viewport[0].scrollTop=a;c.prevScrollArgs.y.pixels=a-t}if(i.x&&o.bindScrollHorizontal){c.prevScrollArgs=i;var s=p.getCanvasWidth()-p.getViewportWidth();var d=n.normalizeScrollLeft(c.viewport);var u;if(typeof i.x.percentage!=="undefined"&&i.x.percentage!==undefined){u=i.x.percentage}else if(typeof i.x.pixels!=="undefined"&&i.x.pixels!==undefined){u=i.x.percentage=(d+i.x.pixels)/s}else{throw new Error("No percentage or pixel value provided for scroll event X axis")}var h=Math.max(0,u*s);c.viewport[0].scrollLeft=n.denormalizeScrollLeft(c.viewport,h);c.prevScrollLeft=h;if(c.headerViewport){c.headerViewport.scrollLeft=n.denormalizeScrollLeft(c.headerViewport,h)}if(c.footerViewport){c.footerViewport.scrollLeft=n.denormalizeScrollLeft(c.footerViewport,h)}c.prevScrollArgs.x.pixels=h-d}}a.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var i=n.normalizeWheelEvent(e);var r={target:a};if(i.deltaY!==0){var t=i.deltaY*-120;var o=(c.viewport[0].scrollTop+t)/(g.getCanvasHeight()-g.getViewportHeight());if(o<0){o=0}else if(o>1){o=1}r.y={percentage:o,pixels:t}}if(i.deltaX!==0){var l=i.deltaX*-120;var s=n.normalizeScrollLeft(c.viewport);var d=(s+l)/(p.getCanvasWidth()-p.getViewportWidth());if(d<0){d=0}else if(d>1){d=1}r.x={percentage:d,pixels:l}}u.fireScrollingEvent(r)});var m=0,w=0,C=0,y=0,b=1,S=1,E;function x(e){if(e.originalEvent){e=e.originalEvent}e.preventDefault();var i,r,t,n;t=e.targetTouches[0].screenX;n=e.targetTouches[0].screenY;i=-(t-w);r=-(n-m);b=r<1?-1:1;S=i<1?-1:1;r*=2;i*=2;var o={target:e.target};if(r!==0){var l=(C+r)/(g.getCanvasHeight()-g.getViewportHeight());if(l>1){l=1}else if(l<0){l=0}o.y={percentage:l,pixels:r}}if(i!==0){var a=(y+i)/(p.getCanvasWidth()-p.getViewportWidth());if(a>1){a=1}else if(a<0){a=0}o.x={percentage:a,pixels:i}}u.fireScrollingEvent(o)}function R(e){if(e.originalEvent){e=e.originalEvent}e.preventDefault();r.unbind("touchmove",x);r.unbind("touchend",R);r.unbind("touchcancel",R);var t=c.viewport[0].scrollTop;var n=c.viewport[0].scrollTop;var o=Math.abs(t-C);var l=Math.abs(n-y);var a=new Date-E;var s=o/a;var d=l/a;var f=63;var h=8;var v=120*b*s;var m=120*S*d;function w(){i(function(){var i={target:e.target};if(v!==0){var r=(c.viewport[0].scrollTop+v)/(g.getCanvasHeight()-g.getViewportHeight());i.y={percentage:r,pixels:v}}if(m!==0){var t=(c.viewport[0].scrollLeft+m)/(p.getCanvasWidth()-p.getViewportWidth());i.x={percentage:t,pixels:m}}u.fireScrollingEvent(i);h=h-1;v=v/2;m=m/2;if(h>0){w()}else{u.scrollbars.forEach(function(e){e.removeClass("ui-grid-scrollbar-visible");e.removeClass("ui-grid-scrolling")})}},f)}}if(n.isTouchEnabled()){a.bind("touchstart",function(e){if(e.originalEvent){e=e.originalEvent}e.preventDefault();u.scrollbars.forEach(function(e){e.addClass("ui-grid-scrollbar-visible");e.addClass("ui-grid-scrolling")});E=new Date;m=e.targetTouches[0].screenY;w=e.targetTouches[0].screenX;C=c.viewport[0].scrollTop;y=c.viewport[0].scrollLeft;r.on("touchmove",x);r.on("touchend touchcancel",R)})}a.bind("$destroy",function(){h();a.unbind("keydown");["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){a.unbind(e)})});function T(){var e="";var i=p.getCanvasWidth();var r=p.getViewportWidth();var t=g.getCanvasHeight();var n=g.getViewportHeight();var l=p.getHeaderViewportWidth();var a=p.getHeaderViewportWidth();e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+t+"px; }";e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-canvas { width: "+i+"px; }";e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+n+"px; }";e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-viewport { width: "+l+"px; }";e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-footer-canvas { width: "+i+"px; }";e+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-footer-viewport { width: "+a+"px; }";return e}u.grid.registerStyleComputation({priority:6,func:T})}}}}}]);e.controller("uiGridRenderContainer",["$scope","$log",function(e,i){var r=this;r.rowStyle=function(i){var t=e.grid.renderContainers[e.containerId];var n={};if(!t.disableRowOffset){if(i===0&&r.currentTopRow!==0){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;n["margin-top"]=o+"px"}}if(!t.disableColumnOffset&&e.colContainer.currentFirstColumn!==0){if(e.grid.isRTL()){n["margin-right"]=e.colContainer.columnOffset+"px"}else{n["margin-left"]=e.colContainer.columnOffset+"px"}}return n};r.columnStyle=function(i){var r=e.grid.renderContainers[e.containerId];var t=this;if(!r.disableColumnOffset){if(i===0&&e.colContainer.currentFirstColumn!==0){var n=e.colContainer.columnOffset;if(e.grid.isRTL()){return{"margin-right":n+"px"}}else{return{"margin-left":n+"px"}}}}return null}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["$log",function(e){return{replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,i,r,t){var n=t[0];var o=t[1];var l=n.grid;e.grid=n.grid;e.colContainer=o.colContainer;l.getRowTemplateFn.then(function(r){r(e,function(e,r){i.replaceWith(e)})})},post:function(e,i,r,t){var n=t[0];var o=t[1];e.getExternalScopes=n.getExternalScopes}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridStyle",["$log","$interpolate",function(e,i){return{link:function(r,t,n,o){e.debug("ui-grid-style link");var l=i(t.text(),true);if(l){r.$watch(l,function(e){t.text(e)})}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["$log","gridUtil",function(e,i){return{replace:true,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(r,t,n,o){e.debug("viewport post-link");var l=o[0];var a=o[1];r.containerCtrl=a;var s=a.rowContainer;var d=a.colContainer;var u=l.grid;r.grid=l.grid;r.rowContainer=a.rowContainer;r.colContainer=a.colContainer;a.viewport=t;t.on("scroll",function(e){var r=t[0].scrollTop;var n=i.normalizeScrollLeft(t);if(n!==d.prevScrollLeft){var o=n-d.prevScrollLeft;var l=d.getCanvasWidth()-d.getViewportWidth();var a=n/l;d.adjustScrollHorizontal(n,a)}if(r!==s.prevScrollTop){var u=r-s.prevScrollTop;var c=s.getCanvasHeight()-s.getViewportHeight();var f=r/c;if(f>1){f=1}if(f<0){f=0}s.adjustScrollVertical(r,f)}})}}}])})();(function(){angular.module("ui.grid").directive("uiGridVisible",function e(){return function(e,i,r){e.$watch(r.uiGridVisible,function(e){i[e?"removeClass":"addClass"]("ui-grid-invisible")})}})})();(function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","$log","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,i,r,t,n,o,l,a,s,d,u,c){t.debug("ui-grid controller");var f=this;f.grid=s.createGrid(e.uiGrid);i.addClass("grid"+f.grid.id);f.grid.rtl=i.css("direction")==="rtl";f.getExternalScopes=e.getExternalScopes;e.grid=f.grid;if(r.uiGridColumns){r.$observe("uiGridColumns",function(e){f.grid.options.columnDefs=e;f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates();f.grid.refreshCanvas(true)})})}var g;if(angular.isString(e.uiGrid.data)){g=e.$parent.$watchCollection(e.uiGrid.data,v)}else{g=e.$parent.$watchCollection(function(){return e.uiGrid.data},v)}var p=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},h);function h(e,i){if(e&&e!==i){f.grid.options.columnDefs=e;f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates();f.grid.refreshCanvas(true)})}}function v(i){var n=[];if(i){if(f.grid.columns.length===0){t.debug("loading cols in dataWatchFunction");if(!r.uiGridColumns&&f.grid.options.columnDefs.length===0){f.grid.buildColumnDefsFromData(i)}n.push(f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates()}))}o.all(n).then(function(){f.grid.modifyRows(i).then(function(){f.grid.redrawInPlace();e.$evalAsync(function(){f.grid.refreshCanvas(true)})})})}}e.$on("$destroy",function(){g();p()});e.$watch(function(){return f.grid.styleComputations},function(){f.grid.refreshCanvas(true)});f.fireScrollingEvent=function(i){e.$broadcast(l.events.GRID_SCROLL,i)};f.fireEvent=function(i,r){if(typeof r==="undefined"||r===undefined){r={}}if(typeof r.grid==="undefined"||r.grid===undefined){r.grid=f.grid}e.$broadcast(i,r)};f.innerCompile=function m(i){c(i)(e)}}]);angular.module("ui.grid").directive("uiGrid",["$log","$compile","$templateCache","gridUtil","$window",function(e,i,r,t,n){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"=",getExternalScopes:"&?externalScopes"},replace:true,transclude:true,controller:"uiGridController",compile:function(){return{post:function(i,r,o,l){e.debug("ui-grid postlink");var a=l.grid;l.scrollbars=[];a.renderingComplete();a.element=r;a.gridWidth=i.gridWidth=t.elementWidth(r);a.canvasWidth=l.grid.gridWidth;a.gridHeight=i.gridHeight=t.elementHeight(r);if(a.gridHeight<a.options.rowHeight){var s=a.options.minRowsToShow*a.options.rowHeight;r.css("height",s+"px");a.gridHeight=i.gridHeight=t.elementHeight(r)}a.refreshCanvas();var d=angular.element('<div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div>');r.prepend(d);l.innerCompile(d);var u=angular.element('<div  ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div>');r.append(u);l.innerCompile(u);i.$watch(function(){return a.hasLeftContainer()},function(e,i){if(e===i){return}a.refreshCanvas(true)});i.$watch(function(){return a.hasRightContainer()},function(e,i){if(e===i){return}a.refreshCanvas(true)});function c(e){a.gridWidth=i.gridWidth=t.elementWidth(r);a.gridHeight=i.gridHeight=t.elementHeight(r);a.queueRefresh()}angular.element(n).on("resize",c);r.on("$destroy",function(){angular.element(n).off("resize",c)})}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["$log",function(e){return{restrict:"EA",replace:true,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function i(){return{post:function(i,r,t,n){e.debug("ui-grid-pinned-container "+i.side+" link");var o=n.grid;var l=0;r.addClass("ui-grid-pinned-container-"+i.side);function a(){var e="";if(i.side==="left"||i.side==="right"){var t=o.renderContainers[i.side].visibleColumnCache;var n=0;for(var a=0;a<t.length;a++){var s=t[a];n+=s.drawnWidth}l=n;r.attr("style",null);var d=o.renderContainers.body.getViewportHeight();e+=".grid"+o.id+" .ui-grid-pinned-container-"+i.side+", .grid"+o.id+" .ui-grid-pinned-container-"+i.side+" .ui-grid-render-container-"+i.side+" .ui-grid-viewport { width: "+l+"px; height: "+d+"px; } "}return e}o.renderContainers.body.registerViewportAdjuster(function(e){e.width-=l;return e});o.registerStyleComputation({priority:15,func:a})}}}}}])})();(function(){angular.module("ui.grid").factory("Grid",["$log","$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,i,r,t,n,o,l,a,s,d,u,c,f,g){var p=function v(e){var i=this;
if(e!==undefined&&typeof e.id!=="undefined"&&e.id){if(!/^[_a-zA-Z0-9-]+$/.test(e.id)){throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.')}}else{throw new Error("No ID provided. An ID must be given when creating a grid.")}i.id=e.id;delete e.id;i.options=new l;angular.extend(i.options,e);i.headerHeight=i.options.headerRowHeight;i.footerHeight=i.options.showFooter===true?i.options.footerRowHeight:0;i.rtl=false;i.gridHeight=0;i.gridWidth=0;i.columnBuilders=[];i.rowBuilders=[];i.rowsProcessors=[];i.columnsProcessors=[];i.styleComputations=[];i.viewportAdjusters=[];i.rowHeaderColumns=[];i.renderContainers={};i.renderContainers.body=new f("body",i);i.cellValueGetterCache={};i.getRowTemplateFn=null;i.rows=[];i.columns=[];i.isScrollingVertically=false;i.isScrollingHorizontally=false;var r=n.debounce(function(){i.isScrollingVertically=false},300);var t=n.debounce(function(){i.isScrollingHorizontally=false},300);i.flagScrollingVertically=function(){i.isScrollingVertically=true;r()};i.flagScrollingHorizontally=function(){i.isScrollingHorizontally=true;t()};i.api=new d(i);i.api.registerMethod("core","refresh",this.refresh);i.api.registerMethod("core","refreshRows",this.refreshRows);i.api.registerEvent("core","sortChanged")};p.prototype.isRTL=function(){return this.rtl};p.prototype.registerColumnBuilder=function m(e){this.columnBuilders.push(e)};p.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)};p.prototype.registerRowBuilder=function w(e){this.rowBuilders.push(e)};p.prototype.getColumn=function C(e){var i=this.columns.filter(function(i){return i.colDef.name===e});return i.length>0?i[0]:null};p.prototype.getColDef=function y(e){var i=this.options.columnDefs.filter(function(i){return i.name===e});return i.length>0?i[0]:null};p.prototype.assignTypes=function(){var i=this;i.options.columnDefs.forEach(function(r,t){if(!r.type){var o=new a(r,t,i);var l=i.rows.length>0?i.rows[0]:null;if(l){r.type=n.guessType(i.getCellValue(l,o))}else{e.log("Unable to assign type from data, so defaulting to string");r.type="string"}}})};p.prototype.addRowHeaderColumn=function b(e){var i=this;var r=new a(e,i.rowHeaderColumns.length+1,i);r.isRowHeader=true;if(i.isRTL()){i.createRightContainer();r.renderContainer="right"}else{i.createLeftContainer();r.renderContainer="left"}i.columnBuilders[0](e,r,i.gridOptions).then(function(){r.enableFiltering=false;r.enableSorting=false;i.rowHeaderColumns.push(r)})};p.prototype.buildColumns=function S(){e.debug("buildColumns");var r=this;var t=[];var n=r.rowHeaderColumns.length;angular.forEach(r.rowHeaderColumns,function(e){n++;r.columns.push(e)});if(r.columns.length>r.options.columnDefs.length){r.columns.forEach(function(e,i){if(!r.getColDef(e.name)){r.columns.splice(i,1)}})}r.options.columnDefs.forEach(function(e,i){r.preprocessColDef(e);var o=r.getColumn(e.name);if(!o){o=new a(e,i+n,r);r.columns.push(o)}else{o.updateColumnDef(e,o.index)}r.columnBuilders.forEach(function(i){t.push(i.call(r,e,o,r.options))})});return i.all(t)};p.prototype.preCompileCellTemplates=function(){this.columns.forEach(function(e){var i=e.cellTemplate.replace(o.COL_FIELD,"grid.getCellValue(row, col)");var t=r(i);e.compiledElementFn=t})};p.prototype.createLeftContainer=function(){if(!this.hasLeftContainer()){this.renderContainers.left=new f("left",this,{disableColumnOffset:true})}};p.prototype.createRightContainer=function(){if(!this.hasRightContainer()){this.renderContainers.right=new f("right",this,{disableColumnOffset:true})}};p.prototype.hasLeftContainer=function(){return this.renderContainers.left!==undefined};p.prototype.hasRightContainer=function(){return this.renderContainers.right!==undefined};p.prototype.preprocessColDef=function E(e){if(!e.field&&!e.name){throw new Error("colDef.name or colDef.field property is required")}if(e.name===undefined&&e.field!==undefined){e.name=e.field}};p.prototype.newInN=function x(e,i,r,t){var n=this;var o=[];for(var l=0;l<i.length;l++){var a=t?i[l][t]:i[l];var s=false;for(var d=0;d<e.length;d++){var u=r?e[d][r]:e[d];if(n.options.rowEquality(a,u)){s=true;break}}if(!s){o.push(a)}}return o};p.prototype.getRow=function R(e){var i=this.rows.filter(function(i){return i.entity===e});return i.length>0?i[0]:null};p.prototype.modifyRows=function T(e){var r=this,t,n;if(r.rows.length===0&&e.length>0){if(r.options.enableRowHashing){if(!r.rowHashMap){r.createRowHashMap()}for(t=0;t<e.length;t++){n=e[t];r.rowHashMap.put(n,{i:t,entity:n})}}r.addRows(e);r.assignTypes()}else if(e.length>0){var o,l,a;if(r.options.enableRowHashing){o=[];a=[];var s={};l=[];if(!r.rowHashMap){r.createRowHashMap()}var d=r.rowHashMap;for(t=0;t<e.length;t++){n=e[t];var u=false;if(!r.options.getRowIdentity(n)){u=true}var c=d.get(n);if(c){if(c.row){s[r.options.rowIdentity(n)]=true}}else{d.put(n,{i:t,entity:n});if(u){a.push(n)}else{o.push(n)}}}for(t=0;t<r.rows.length;t++){var f=r.rows[t];var g=r.options.rowIdentity(f.entity);if(!s[g]){l.push(f)}}}var p=o||[];var h=a||e;p=p.concat(r.newInN(r.rows,h,"entity"));r.addRows(p);var v=r.getDeletedRows(l||r.rows,e);for(t=0;t<v.length;t++){if(r.options.enableRowHashing){r.rowHashMap.remove(v[t].entity)}r.rows.splice(r.rows.indexOf(v[t]),1)}}else{r.createRowHashMap();r.rows.length=0}var m=i.when(r.processRowsProcessors(r.rows)).then(function(e){return r.setVisibleRows(e)});var w=i.when(r.processColumnsProcessors(r.columns)).then(function(e){return r.setVisibleColumns(e)});return i.all([m,w])};p.prototype.getDeletedRows=function(e,i){var r=this;var t=e.filter(function(e){return!i.some(function(i){return r.options.rowEquality(i,e.entity)})});return t};p.prototype.addRows=function $(e){var i=this;var r=i.rows.length;for(var t=0;t<e.length;t++){var n=i.processRowBuilders(new s(e[t],t+r,i));if(i.options.enableRowHashing){var o=i.rowHashMap.get(n.entity);if(o){o.row=n}}i.rows.push(n)}};p.prototype.processRowBuilders=function I(e){var i=this;i.rowBuilders.forEach(function(r){r.call(i,e,i.gridOptions)});return e};p.prototype.registerStyleComputation=function G(e){this.styleComputations.push(e)};p.prototype.registerRowsProcessor=function L(e){if(!angular.isFunction(e)){throw"Attempt to register non-function rows processor: "+e}this.rowsProcessors.push(e)};p.prototype.removeRowsProcessor=function D(e){var i=this.rowsProcessors.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.rowsProcessors.splice(i,1)}};p.prototype.processRowsProcessors=function A(e){var r=this;var t=e.slice(0);if(r.rowsProcessors.length===0){return i.when(t)}var n=0;var o=i.defer();function l(e,t){var n=r.rowsProcessors[e];return i.when(n.call(r,t,r.columns)).then(function a(i){if(!i){throw"Processor at index "+e+" did not return a set of renderable rows"}if(!angular.isArray(i)){throw"Processor at index "+e+" did not return an array"}e++;if(e<=r.rowsProcessors.length-1){return l(e,i)}else{o.resolve(i)}})}l(0,t);return o.promise};p.prototype.setVisibleRows=function W(e){var i=this;for(var r in i.renderContainers){var t=i.renderContainers[r];t.visibleRowCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];if(o.visible){if(typeof o.renderContainer!=="undefined"&&o.renderContainer){i.renderContainers[o.renderContainer].visibleRowCache.push(o)}else{i.renderContainers.body.visibleRowCache.push(o)}}}};p.prototype.registerColumnsProcessor=function N(e){if(!angular.isFunction(e)){throw"Attempt to register non-function rows processor: "+e}this.columnsProcessors.push(e)};p.prototype.removeColumnsProcessor=function P(e){var i=this.columnsProcessors.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.columnsProcessors.splice(i,1)}};p.prototype.processColumnsProcessors=function H(e){var r=this;var t=e.slice(0);if(r.columnsProcessors.length===0){return i.when(t)}var n=0;var o=i.defer();function l(e,n){var a=r.columnsProcessors[e];return i.when(a.call(r,n,r.rows)).then(function s(i){if(!i){throw"Processor at index "+e+" did not return a set of renderable rows"}if(!angular.isArray(i)){throw"Processor at index "+e+" did not return an array"}e++;if(e<=r.columnsProcessors.length-1){return l(e,t)}else{o.resolve(t)}})}l(0,t);return o.promise};p.prototype.setVisibleColumns=function F(e){var i=this;for(var r in i.renderContainers){var t=i.renderContainers[r];t.visibleColumnCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];if(o.visible){if(typeof o.renderContainer!=="undefined"&&o.renderContainer){i.renderContainers[o.renderContainer].visibleColumnCache.push(o)}else{i.renderContainers.body.visibleColumnCache.push(o)}}}};p.prototype.handleWindowResize=function k(e){var i=this;i.gridWidth=n.elementWidth(i.element);i.gridHeight=n.elementHeight(i.element);i.queueRefresh()};p.prototype.queueRefresh=function V(){var e=this;if(e.refreshCanceller){g.cancel(e.refreshCanceller)}e.refreshCanceller=g(function(){e.refreshCanvas(true)});e.refreshCanceller.then(function(){e.refreshCanceller=null});return e.refreshCanceller};p.prototype.buildStyles=function z(){var e=this;e.customStyles="";e.styleComputations.sort(function(e,i){if(e.priority===null){return 1}if(i.priority===null){return-1}if(e.priority===null&&i.priority===null){return 0}return e.priority-i.priority}).forEach(function(i){var r=i.func.call(e);if(angular.isString(r)){e.customStyles+="\n"+r}})};p.prototype.minColumnsToRender=function O(){var e=this;var i=this.getViewportWidth();var r=0;var t=0;e.columns.forEach(function(n,o){if(t<i){t+=n.drawnWidth;r++}else{var l=0;for(var a=o;a>=o-r;a--){l+=e.columns[a].drawnWidth}if(l<i){r++}}});return r};p.prototype.getBodyHeight=function M(){var e=this.getViewportHeight();if(typeof this.horizontalScrollbarHeight!=="undefined"&&this.horizontalScrollbarHeight!==undefined&&this.horizontalScrollbarHeight>0){e=e+this.horizontalScrollbarHeight}return e};p.prototype.getViewportHeight=function _(){var e=this;var i=this.gridHeight-this.headerHeight-this.footerHeight;if(typeof this.horizontalScrollbarHeight!=="undefined"&&this.horizontalScrollbarHeight!==undefined&&this.horizontalScrollbarHeight>0){i=i-this.horizontalScrollbarHeight}var r=e.getViewportAdjustment();i=i+r.height;return i};p.prototype.getViewportWidth=function U(){var e=this;var i=this.gridWidth;if(typeof this.verticalScrollbarWidth!=="undefined"&&this.verticalScrollbarWidth!==undefined&&this.verticalScrollbarWidth>0){i=i-this.verticalScrollbarWidth}var r=e.getViewportAdjustment();i=i+r.width;return i};p.prototype.getHeaderViewportWidth=function B(){var e=this.getViewportWidth();if(typeof this.verticalScrollbarWidth!=="undefined"&&this.verticalScrollbarWidth!==undefined&&this.verticalScrollbarWidth>0){e=e+this.verticalScrollbarWidth}return e};p.prototype.registerViewportAdjuster=function q(e){this.viewportAdjusters.push(e)};p.prototype.removeViewportAdjuster=function j(e){var i=this.viewportAdjusters.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.viewportAdjusters.splice(i,1)}};p.prototype.getViewportAdjustment=function K(){var e=this;var i={height:0,width:0};e.viewportAdjusters.forEach(function(e){i=e.call(this,i)});return i};p.prototype.getVisibleRowCount=function X(){return this.renderContainers.body.visibleRowCache.length};p.prototype.getVisibleRows=function Y(){return this.renderContainers.body.visibleRowCache};p.prototype.getVisibleColumnCount=function Q(){return this.renderContainers.body.visibleColumnCache.length};p.prototype.searchRows=function Z(e){return c.search(this,e,this.columns)};p.prototype.sortByColumn=function J(e){return u.sort(this,e,this.columns)};p.prototype.getCellValue=function ei(e,i){var r=this;if(!r.cellValueGetterCache[i.colDef.name]){r.cellValueGetterCache[i.colDef.name]=t(e.getEntityQualifiedColField(i))}return r.cellValueGetterCache[i.colDef.name](e)};p.prototype.getNextColumnSortPriority=function ii(){var e=this,i=0;e.columns.forEach(function(e){if(e.sort&&e.sort.priority&&e.sort.priority>i){i=e.sort.priority}});return i+1};p.prototype.resetColumnSorting=function ri(e){var i=this;i.columns.forEach(function(i){if(i!==e){i.sort={}}})};p.prototype.getColumnSorting=function ti(){var e=this;var i=[],r;r=e.columns.slice(0);r.sort(u.prioritySort).forEach(function(e){if(e.sort&&typeof e.sort.direction!=="undefined"&&e.sort.direction&&(e.sort.direction===o.ASC||e.sort.direction===o.DESC)){i.push(e)}});return i};p.prototype.sortColumn=function ni(e,r,t){var n=this,l=null;if(typeof e==="undefined"||!e){throw new Error("No column parameter provided")}if(typeof r==="boolean"){t=r}else{l=r}if(!t){n.resetColumnSorting(e);e.sort.priority=0}else{e.sort.priority=n.getNextColumnSortPriority()}if(!l){if(e.sort.direction&&e.sort.direction===o.ASC){e.sort.direction=o.DESC}else if(e.sort.direction&&e.sort.direction===o.DESC){e.sort.direction=null}else{e.sort.direction=o.ASC}}else{e.sort.direction=l}n.api.core.raise.sortChanged(n,n.getColumnSorting());return i.when(e)};p.prototype.renderingComplete=function(){if(angular.isFunction(this.options.onRegisterApi)){this.options.onRegisterApi(this.api)}this.api.core.raise.renderingComplete(this.api)};p.prototype.createRowHashMap=function oi(){var e=this;var i=new h;i.grid=e;e.rowHashMap=i};p.prototype.refresh=function li(){e.debug("grid refresh");var r=this;var t=r.processRowsProcessors(r.rows).then(function(e){r.setVisibleRows(e)});var n=r.processColumnsProcessors(r.columns).then(function(e){r.setVisibleColumns(e)});return i.all([t,n]).then(function(){r.redrawInPlace();r.refreshCanvas(true)})};p.prototype.refreshRows=function ai(){var e=this;return e.processRowsProcessors(e.rows).then(function(i){e.setVisibleRows(i);e.redrawRows();e.refreshCanvas()})};p.prototype.refreshCanvas=function(e){var r=this;if(e){r.buildStyles()}var t=i.defer();var o=[];for(var l in r.renderContainers){if(r.renderContainers.hasOwnProperty(l)){var a=r.renderContainers[l];if(a.header){o.push(a)}}}if(o.length>0){g(function(){var i=false;for(var l=0;l<o.length;l++){var a=o[l];if(a.header){var s=a.headerHeight;var d=n.outerElementHeight(a.header);a.headerHeight=d;if(s!==d){i=true}}}if(e&&i){r.buildStyles()}t.resolve()})}else{g(function(){t.resolve()})}return t.promise};p.prototype.redrawInPlace=function si(){var e=this;for(var i in e.renderContainers){var r=e.renderContainers[i];r.adjustRows(r.prevScrollTop,null);r.adjustColumns(r.prevScrollLeft,null)}};function h(){}h.prototype={put:function(e,i){this[this.grid.options.rowIdentity(e)]=i},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var i=this[e=this.grid.options.rowIdentity(e)];delete this[e];return i}};return p}])})();(function(){angular.module("ui.grid").factory("GridApi",["$log","$q","$rootScope","gridUtil","uiGridConstants",function(e,i,r,t,n){var o=function a(e){this.grid=e;this.listeners=[];this.registerEvent("core","renderingComplete")};o.prototype.suppressEvents=function(e,i){var r=this;var t=angular.isArray(e)?e:[e];var n=[];t.forEach(function(e){n=r.listeners.filter(function(i){return e===i.handler})});n.forEach(function(e){e.dereg()});i();n.forEach(function(e){e.dereg=l(e.scope,e.eventId,e.handler,r.grid)})};o.prototype.registerEvent=function(i,t){var n=this;if(!n[i]){n[i]={}}var o=n[i];if(!o.on){o.on={};o.raise={}}var a=n.grid.id+i+t;e.log("Creating raise event method "+i+".raise."+t);o.raise[t]=function(){r.$broadcast.apply(r,[a].concat(Array.prototype.slice.call(arguments)))};e.log("Creating on event method "+i+".on."+t);o.on[t]=function(e,i){var r=l(e,a,i,n.grid);var t={handler:i,dereg:r,eventId:a,scope:e};n.listeners.push(t);e.$on("$destroy",function(){t.dereg=null;t.handler=null;t.eventId=null;t.scope=null})}};function l(e,i,r,t){return e.$on(i,function(e){var i=Array.prototype.slice.call(arguments);i.splice(0,1);r.apply(t.api,i)})}o.prototype.registerEventsFromObject=function(e){var i=this;var r=[];angular.forEach(e,function(e,i){var t={name:i,events:[]};angular.forEach(e,function(e,i){t.events.push(i)});r.push(t)});r.forEach(function(e){e.events.forEach(function(r){i.registerEvent(e.name,r)})})};o.prototype.registerMethod=function(e,i,r,n){if(!this[e]){this[e]={}}var o=this[e];o[i]=t.createBoundedWrapper(n||this.grid,r)};o.prototype.registerMethodsFromObject=function(e,i){var r=this;var t=[];angular.forEach(e,function(e,i){var r={name:i,methods:[]};angular.forEach(e,function(e,i){r.methods.push({name:i,fn:e})});t.push(r)});t.forEach(function(e){e.methods.forEach(function(t){r.registerMethod(e.name,t.name,t.fn,i)})})};return o}])})();(function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants",function(e,i){function r(e,i,r){var t=this;t.grid=r;e.index=i;t.updateColumnDef(e)}r.prototype.setPropertyOrDefault=function(e,i,r){var t=this;if(typeof e[i]!=="undefined"&&e[i]){t[i]=e[i]}else if(typeof t[i]!=="undefined"){t[i]=t[i]}else{t[i]=r?r:{}}};r.prototype.updateColumnDef=function(i,t){var n=this;n.colDef=i;n.index=typeof t==="undefined"?i.index:t;if(i.name===undefined){throw new Error("colDef.name is required for column at index "+n.index)}var o="Cannot parse column width '"+i.width+"' for column named '"+i.name+"'";if(e.isNullOrUndefined(i.width)){n.width="*"}else{if(!angular.isNumber(i.width)){if(e.endsWith(i.width,"%")){var l=i.width.replace(/%/g,"");var a=parseInt(l,10);if(isNaN(a)){throw new Error(o)}n.width=i.width}else if(i.width.match(/^(\d+)$/)){n.width=parseInt(i.width.match(/^(\d+)$/)[1],10)}else if(!i.width.match(/^\*+$/)){throw new Error(o)}}else{n.width=i.width}}r.prototype.unsort=function(){this.sort={}};n.minWidth=!i.minWidth?50:i.minWidth;n.maxWidth=!i.maxWidth?9e3:i.maxWidth;n.field=i.field===undefined?i.name:i.field;n.displayName=i.displayName===undefined?e.readableColumnName(i.name):i.displayName;n.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null;n.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null;n.cellClass=i.cellClass;n.cellFilter=i.cellFilter?i.cellFilter:"";n.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"";n.visible=e.isNullOrUndefined(i.visible)||i.visible;n.headerClass=i.headerClass;n.visible=true;n.enableSorting=typeof i.enableSorting!=="undefined"?i.enableSorting:true;n.sortingAlgorithm=i.sortingAlgorithm;n.enableFiltering=typeof i.enableFiltering!=="undefined"?i.enableFiltering:true;n.setPropertyOrDefault(i,"menuItems",[]);n.setPropertyOrDefault(i,"sort");var s=[];if(i.filter){s.push(i.filter)}else if(n.enableFiltering&&n.grid.options.enableFiltering){s.push({})}n.setPropertyOrDefault(i,"filter");n.setPropertyOrDefault(i,"filters",s)};r.prototype.getColClass=function(e){var r=i.COL_CLASS_PREFIX+this.index;return e?"."+r:r};r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(true)+" { width: "+this.drawnWidth+"px; }"};r.prototype.getRenderContainer=function t(){var e=this;var i=e.renderContainer;if(i===null||i===""||i===undefined){i="body"}return e.grid.renderContainers[i]};r.prototype.showColumn=function(){this.colDef.visible=true};r.prototype.hideColumn=function(){this.colDef.visible=false};r.prototype.getAggregationValue=function(){var e=this;var r=0;var t=e.grid.getVisibleRows();var n=[];angular.forEach(t,function(i){var r=e.grid.getCellValue(i,e);if(angular.isNumber(r)){n.push(r)}});if(angular.isFunction(e.aggregationType)){return e.aggregationType(t,e)}else if(e.aggregationType===i.aggregationTypes.count){return"total rows: "+e.grid.getVisibleRowCount()}else if(e.aggregationType===i.aggregationTypes.sum){angular.forEach(n,function(e){r+=e});return"total: "+r}else if(e.aggregationType===i.aggregationTypes.avg){angular.forEach(n,function(e){r+=e});r=r/n.length;return"avg: "+r}else if(e.aggregationType===i.aggregationTypes.min){return"min: "+Math.min.apply(null,n)}else if(e.aggregationType===i.aggregationTypes.max){return"max: "+Math.max.apply(null,n)}else{return null}};return r}])})();(function(){angular.module("ui.grid").factory("GridOptions",["gridUtil",function(e){function i(){this.onRegisterApi=angular.noop();this.data=[];this.columnDefs=[];this.excludeProperties=["$$hashKey"];this.enableRowHashing=true;this.rowIdentity=function i(r){return e.hashKey(r)};this.getRowIdentity=function r(e){return e.$$hashKey};this.headerRowHeight=30;this.rowHeight=30;this.maxVisibleRowCount=200;this.minRowsToShow=10;this.showFooter=false;this.footerRowHeight=30;this.columnWidth=50;this.maxVisibleColumnCount=200;this.virtualizationThreshold=20;this.columnVirtualizationThreshold=10;this.excessRows=4;this.scrollThreshold=4;this.excessColumns=4;this.horizontalScrollThreshold=2;this.enableSorting=true;this.enableFiltering=false;this.enableColumnMenu=true;this.enableScrollbars=true;this.minimumColumnSize=10;this.rowEquality=function(e,i){return e===i};this.headerTemplate=null;this.footerTemplate=null;this.rowTemplate="ui-grid/ui-grid-row"}return i}])})();(function(){angular.module("ui.grid").factory("GridRenderContainer",["$log","gridUtil",function(e,i){function r(e,i,r){var t=this;t.name=e;t.grid=i;t.visibleRowCache=[];t.visibleColumnCache=[];t.renderedRows=[];t.renderedColumns=[];t.prevScrollTop=0;t.prevScrolltopPercentage=0;t.prevRowScrollIndex=0;t.prevScrollLeft=0;t.prevScrollleftPercentage=0;t.prevColumnScrollIndex=0;t.columnStyles="";t.viewportAdjusters=[];if(r&&angular.isObject(r)){angular.extend(t,r)}i.registerStyleComputation({priority:5,func:function(){return t.columnStyles}})}r.prototype.reset=function t(){this.visibleColumnCache.length=0;this.visibleRowCache.length=0;this.renderedRows.length=0;this.renderedColumns.length=0};r.prototype.minRowsToRender=function n(){var e=this;var i=0;var r=0;var t=e.getViewportHeight();for(var n=e.visibleRowCache.length-1;r<t&&n>=0;n--){r+=e.visibleRowCache[n].height;i++}return i};r.prototype.minColumnsToRender=function o(){var e=this;var i=this.getViewportWidth();var r=0;var t=0;for(var n=0;n<e.visibleColumnCache.length;n++){var o=e.visibleColumnCache[n];if(t<i){t+=o.drawnWidth;r++}else{var l=0;for(var a=n;a>=n-r;a--){l+=e.visibleColumnCache[a].drawnWidth}if(l<i){r++}}}return r};r.prototype.getVisibleRowCount=function l(){return this.visibleRowCache.length};r.prototype.registerViewportAdjuster=function a(e){this.viewportAdjusters.push(e)};r.prototype.removeViewportAdjuster=function s(e){var i=this.viewportAdjusters.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.viewportAdjusters.splice(i,1)}};r.prototype.getViewportAdjustment=function d(){var e=this;var i={height:0,width:0};e.viewportAdjusters.forEach(function(e){i=e.call(this,i)});return i};r.prototype.getViewportHeight=function u(){var e=this;var i=e.headerHeight?e.headerHeight:e.grid.headerHeight;var r=e.grid.gridHeight-i-e.grid.footerHeight;if(typeof e.horizontalScrollbarHeight!=="undefined"&&e.horizontalScrollbarHeight!==undefined&&e.horizontalScrollbarHeight>0){r=r-e.horizontalScrollbarHeight}var t=e.getViewportAdjustment();r=r+t.height;return r};r.prototype.getViewportWidth=function c(){var e=this;var i=e.grid.gridWidth;if(typeof e.grid.verticalScrollbarWidth!=="undefined"&&e.grid.verticalScrollbarWidth!==undefined&&e.grid.verticalScrollbarWidth>0){i=i-e.grid.verticalScrollbarWidth}var r=e.getViewportAdjustment();i=i+r.width;return i};r.prototype.getHeaderViewportWidth=function f(){var e=this;var i=this.getViewportWidth();if(typeof e.grid.verticalScrollbarWidth!=="undefined"&&e.grid.verticalScrollbarWidth!==undefined&&e.grid.verticalScrollbarWidth>0){i=i+e.grid.verticalScrollbarWidth}return i};r.prototype.getCanvasHeight=function g(){var e=this;var i=0;e.visibleRowCache.forEach(function(e){i+=e.height});if(typeof e.grid.horizontalScrollbarHeight!=="undefined"&&e.grid.horizontalScrollbarHeight!==undefined&&e.grid.horizontalScrollbarHeight>0){i=i-e.grid.horizontalScrollbarHeight}return i};r.prototype.getCanvasWidth=function p(){var e=this;var i=e.canvasWidth;if(typeof e.verticalScrollbarWidth!=="undefined"&&e.verticalScrollbarWidth!==undefined&&e.verticalScrollbarWidth>0){i=i-e.verticalScrollbarWidth}return i};r.prototype.setRenderedRows=function h(e){this.renderedRows.length=e.length;for(var i=0;i<e.length;i++){this.renderedRows[i]=e[i]}};r.prototype.setRenderedColumns=function v(e){var i=this;this.renderedColumns.length=e.length;for(var r=0;r<e.length;r++){this.renderedColumns[r]=e[r]}this.updateColumnOffset()};r.prototype.updateColumnOffset=function m(){var e=0;for(var i=0;i<this.currentFirstColumn;i++){e+=this.visibleColumnCache[i].drawnWidth}this.columnOffset=e};r.prototype.adjustScrollVertical=function w(e,i,r){if(this.prevScrollTop===e&&!r){return}e=this.getCanvasHeight()*i;this.adjustRows(e,i);this.prevScrollTop=e;this.prevScrolltopPercentage=i;this.grid.queueRefresh()};r.prototype.adjustScrollHorizontal=function C(e,i,r){if(this.prevScrollLeft===e&&!r){return}e=this.getCanvasWidth()*i;this.adjustColumns(e,i);this.prevScrollLeft=e;this.prevScrollleftPercentage=i;this.grid.queueRefresh()};r.prototype.adjustRows=function y(e,i){var r=this;var t=r.minRowsToRender();var n=r.visibleRowCache;var o=n.length-t;r.maxRowIndex=o;var l=r.prevRowScrollIndex;if((typeof i==="undefined"||i===null)&&e){i=e/r.getCanvasHeight()}var a=Math.ceil(Math.min(o,o*i));if(a>o){a=o}var s=[];if(n.length>r.grid.options.virtualizationThreshold){if(r.prevScrollTop<e&&a<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&a<o){return}if(r.prevScrollTop>e&&a>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&a<o){return}var d=Math.max(0,a-r.grid.options.excessRows);var u=Math.min(n.length,a+t+r.grid.options.excessRows);s=[d,u]}else{var c=r.visibleRowCache.length;s=[0,Math.max(c,t+r.grid.options.excessRows)]}r.updateViewableRowRange(s);r.prevRowScrollIndex=a};r.prototype.adjustColumns=function b(e,i){var r=this;var t=r.minColumnsToRender();var n=r.visibleColumnCache;var o=n.length-t;if((typeof i==="undefined"||i===null)&&e){i=e/r.getCanvasWidth()}var l=Math.ceil(Math.min(o,o*i));if(l>o){l=o}var a=[];if(n.length>r.grid.options.columnVirtualizationThreshold&&r.getCanvasWidth()>r.getViewportWidth()){if(r.prevScrollLeft<e&&l<r.prevColumnScrollIndex+r.grid.options.horizontalScrollThreshold&&l<o){return}if(r.prevScrollLeft>e&&l>r.prevColumnScrollIndex-r.grid.options.horizontalScrollThreshold&&l<o){return}var s=Math.max(0,l-r.grid.options.excessColumns);var d=Math.min(n.length,l+t+r.grid.options.excessColumns);a=[s,d]}else{var u=r.visibleColumnCache.length;a=[0,Math.max(u,t+r.grid.options.excessColumns)]}r.updateViewableColumnRange(a);r.prevColumnScrollIndex=l};r.prototype.updateViewableRowRange=function S(e){var i=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0];this.setRenderedRows(i)};r.prototype.updateViewableColumnRange=function E(e){var i=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0];this.setRenderedColumns(i)};r.prototype.rowStyle=function(e){var i=this;var r={};if(e===0&&i.currentTopRow!==0){var t=i.currentTopRow*i.grid.options.rowHeight;r["margin-top"]=t+"px"}if(i.currentFirstColumn!==0){if(i.grid.isRTL()){r["margin-right"]=i.columnOffset+"px"}else{r["margin-left"]=i.columnOffset+"px"}}return r};r.prototype.columnStyle=function(e){var i=this;if(e===0&&i.currentFirstColumn!==0){var r=i.columnOffset;if(i.grid.isRTL()){return{"margin-right":r+"px"}}else{return{"margin-left":r+"px"}}}return null};r.prototype.updateColumnWidths=function(){var e=this;var r=[],t=[],n=[],o=0,l=0;var a=e.getViewportWidth();if(typeof e.grid.verticalScrollbarWidth!=="undefined"&&e.grid.verticalScrollbarWidth!==undefined&&e.grid.verticalScrollbarWidth>0){a=a+e.grid.verticalScrollbarWidth}var s;var d=0;var u=0;var c="";var f=e.visibleColumnCache;f.forEach(function(e,n){if(!e.visible){return}var l,a=false;if(!angular.isNumber(e.width)){a=isNaN(e.width)?i.endsWith(e.width,"%"):false}if(angular.isString(e.width)&&e.width.indexOf("*")!==-1){o=parseInt(o+e.width.length,10);r.push(e)}else if(a){t.push(e)}else if(angular.isNumber(e.width)){d=parseInt(d+e.width,10);u=parseInt(u,10)+parseInt(e.width,10);e.drawnWidth=e.width}});var g=a-d;var p,h,v;if(t.length>0){for(p=0;p<t.length;p++){h=t[p];var m=parseInt(h.width.replace(/%/g,""),10)/100;v=parseInt(m*g,10);if(h.colDef.minWidth&&v<h.colDef.minWidth){v=h.colDef.minWidth;g=g-v;u+=v;h.drawnWidth=v;t.splice(p,1)}else if(h.colDef.maxWidth&&v>h.colDef.maxWidth){v=h.colDef.maxWidth;g=g-v;u+=v;h.drawnWidth=v;t.splice(p,1)}}t.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100;var r=parseInt(i*g,10);u+=r;e.drawnWidth=r})}if(r.length>0){var w=parseInt(g/o,10);for(p=0;p<r.length;p++){h=r[p];v=parseInt(w*h.width.length,10);if(h.colDef.minWidth&&v<h.colDef.minWidth){v=h.colDef.minWidth;g=g-v;o--;u+=v;h.drawnWidth=v;s=h;r.splice(p,1)}else if(h.colDef.maxWidth&&v>h.colDef.maxWidth){v=h.colDef.maxWidth;g=g-v;o--;u+=v;h.drawnWidth=v;r.splice(p,1)}}w=parseInt(g/o,10);r.forEach(function(e){var i=parseInt(w*e.width.length,10);u+=i;e.drawnWidth=i})}var C=a-parseInt(u,10);if(C>0&&u>0&&u<a){var y=false;f.forEach(function(e){if(e.width&&!angular.isNumber(e.width)){y=true}});if(y){var b=function(e){if(C>0){e.drawnWidth=e.drawnWidth+1;u=u+1;C--}};while(C>0){f.forEach(b)}}}if(u<a){u=a}f.forEach(function(e){c=c+e.getColClassDefinition()});if(e.grid.verticalScrollbarWidth){u=u+e.grid.verticalScrollbarWidth}e.canvasWidth=parseInt(u,10);this.columnStyles=c};return r}])})();(function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function i(i,r,t){this.grid=t;this.entity=i;this.index=r;this.uid=e.nextUid();this.visible=true;this.height=t.options.rowHeight;if(!this.grid.api.core.setRowInvisible){this.grid.api.registerMethod("core","setRowInvisible",this.setRowInvisible)}if(!this.grid.api.core.clearRowInvisible){this.grid.api.registerMethod("core","clearRowInvisible",this.clearRowInvisible)}if(!this.grid.api.core.getVisibleRows){this.grid.api.registerMethod("core","getVisibleRows",this.getVisibleRows)}if(!this.grid.api.core.raise.rowsVisibleChanged){this.grid.api.registerEvent("core","rowsVisibleChanged")}}i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)};i.prototype.getEntityQualifiedColField=function(i){return e.preEval("entity."+i.field)};i.prototype.setRowInvisible=function(e){if(e!==null){e.forceInvisible=true;if(e.visible){e.visible=false;e.grid.refresh();e.grid.api.core.raise.rowsVisibleChanged()}}};i.prototype.clearRowInvisible=function(e){if(e!==null){e.forceInvisible=false;if(!e.visible){e.visible=true;e.grid.refresh();e.grid.api.core.raise.rowsVisibleChanged()}}};i.prototype.getVisibleRows=function(e){return e.rows.filter(function(e){return e.visible})};return i}])})();(function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","$log","Grid","GridColumn","GridRow",function(e,i,r,t,n,o,l,a,s){var d={createGrid:function(t){t=typeof t!=="undefined"?t:{};t.id=e.newId();var n=new l(t);if(n.options.rowTemplate){var o=i.defer();n.getRowTemplateFn=o.promise;e.getTemplate(n.options.rowTemplate).then(function(e){var i=r(e);o.resolve(i)},function(e){throw new Error("Couldn't fetch/use row template '"+n.options.rowTemplate+"'")})}n.registerColumnBuilder(d.defaultColumnBuilder);n.registerRowsProcessor(function a(e){e.forEach(function(e){e.visible=!e.forceInvisible});return e});n.registerColumnsProcessor(function s(e){e.forEach(function(e){e.visible=true});return e});n.registerColumnsProcessor(function(e){e.forEach(function(e){if(e.colDef.visible===false){e.visible=false}});return e});if(n.options.enableFiltering){n.registerRowsProcessor(n.searchRows)}if(n.options.externalSort&&angular.isFunction(n.options.externalSort)){n.registerRowsProcessor(n.options.externalSort)}else{n.registerRowsProcessor(n.sortByColumn)}return n},defaultColumnBuilder:function(r,t,o){var l=[];if(!r.headerCellTemplate){r.headerCellTemplate="ui-grid/uiGridHeaderCell"}if(!r.cellTemplate){r.cellTemplate="ui-grid/uiGridCell"}l.push(e.getTemplate(r.cellTemplate).then(function(e){t.cellTemplate=e.replace(n.CUSTOM_FILTERS,t.cellFilter?"|"+t.cellFilter:"")},function(e){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+r.cellTemplate+"'")}));l.push(e.getTemplate(r.headerCellTemplate).then(function(e){t.headerCellTemplate=e.replace(n.CUSTOM_FILTERS,t.headerCellFilter?"|"+t.headerCellFilter:"")
},function(e){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+r.headerCellTemplate+"'")}));return i.all(l)}};return d}])})();(function(){var e=angular.module("ui.grid");function i(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function r(){var e=function(i,r){if(i&&e.cache[i]){return e.cache[i]}else if(i&&r){e.cache[i]=r;return e.cache[i]}else{return undefined}};e.cache={};e.clear=function(){e.cache={}};return e}e.service("rowSearcher",["$log","uiGridConstants",function(e,t){var n=t.filter.STARTS_WITH;var o={};o.getTerm=function l(e){if(typeof e.term==="undefined"){return e.term}var i=e.term;if(typeof i==="string"){i=i.trim()}return i};o.stripTerm=function a(e){var r=o.getTerm(e);if(typeof r==="string"){return i(r.replace(/(^\*|\*$)/g,""))}else{return r}};o.guessCondition=function s(e){if(typeof e.term==="undefined"||!e.term){return n}var i=o.getTerm(e);if(/\*/.test(i)){var r="";if(!e.flags||!e.flags.caseSensitive){r+="i"}var t=i.replace(/(\\)?\*/g,function(e,i){return i?e:"[\\s\\S]*?"});return new RegExp("^"+t+"$",r)}else{return n}};o.runColumnFilter=function d(e,i,r,n,l,a){var s=typeof a.condition;if(s==="undefined"||!a.condition){a.condition=t.filter.CONTAINS}var d=o.stripTerm(a);if(d===null||d===undefined||d===""){return true}var u=e.getCellValue(i,r);var c="";if(!a.flags||!a.flags.caseSensitive){c+="i"}var f=r.field+l;if(a.condition instanceof RegExp){if(!a.condition.test(u)){return false}}else if(s==="function"){return a.condition(d,u,i,r)}else if(a.condition===t.filter.STARTS_WITH){var g=n(f)?n(f):n(f,new RegExp("^"+d,c));if(!g.test(u)){return false}}else if(a.condition===t.filter.ENDS_WITH){var p=n(f)?n(f):n(f,new RegExp(d+"$",c));if(!p.test(u)){return false}}else if(a.condition===t.filter.CONTAINS){var h=n(f)?n(f):n(f,new RegExp(d,c));if(!h.test(u)){return false}}else if(a.condition===t.filter.EXACT){var v=n(f)?n(f):n(f,new RegExp("^"+d+"$",c));if(!v.test(u)){return false}}else if(a.condition===t.filter.GREATER_THAN){if(u<=d){return false}}else if(a.condition===t.filter.GREATER_THAN_OR_EQUAL){if(u<d){return false}}else if(a.condition===t.filter.LESS_THAN){if(u>=d){return false}}else if(a.condition===t.filter.LESS_THAN_OR_EQUAL){if(u>d){return false}}else if(a.condition===t.filter.NOT_EQUAL){if(!angular.equals(u,d)){return false}}return true};o.searchColumn=function u(e,i,r,t){var n=[];if(e.options.useExternalFiltering){return true}if(typeof r.filters!=="undefined"&&r.filters&&r.filters.length>0){n=r.filters}else{return true}for(var l in n){var a=n[l];if(!a.condition){var s="cond-"+r.field+"-"+a.term;var d=t(s)?t(s):t(s,o.guessCondition(a));a={term:a.term,condition:d,flags:angular.extend({caseSensitive:false},a.flags)}}var u=o.runColumnFilter(e,i,r,t,l,a);if(!u){return false}}return true};o.search=function c(e,i,t){if(!i){return}var n=new r;var l=[];t.forEach(function(e){if(typeof e.filters!=="undefined"&&e.filters.length>0){l.push(e)}else if(typeof e.filter!=="undefined"&&e.filter&&typeof e.filter.term!=="undefined"&&e.filter.term){l.push(e)}});if(l.length>0){l.forEach(function a(r){i.forEach(function t(i){if(i.forceInvisible||!o.searchColumn(e,i,r,n)){i.visible=false}})});e.api.core.raise.rowsVisibleChanged()}n.clear();return i};return o}])})();(function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,i){var r="("+i.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?";var t=new RegExp("^[-+]?"+r+"[\\d,.]+"+r+"%?$");var n={colSortFnCache:[]};n.guessSortFn=function o(e){switch(e){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}};n.basicSort=function l(e,i){if(e===i){return 0}if(e<i){return-1}return 1};n.sortNumber=function a(e,i){return e-i};n.sortNumberStr=function s(e,i){var r,t,n=false,o=false;r=parseFloat(e.replace(/[^0-9.-]/g,""));if(isNaN(r)){n=true}t=parseFloat(i.replace(/[^0-9.-]/g,""));if(isNaN(t)){o=true}if(n&&o){return 0}if(n){return 1}if(o){return-1}return r-t};n.sortAlpha=function d(e,i){var r=e.toLowerCase(),t=i.toLowerCase();return r===t?0:r<t?-1:1};n.sortDate=function u(e,i){var r=e.getTime(),t=i.getTime();return r===t?0:r<t?-1:1};n.sortBool=function c(e,i){if(e&&i){return 0}if(!e&&!i){return 0}else{return e?1:-1}};n.getSortFn=function f(e,i,r){var t,o;if(n.colSortFnCache[i.colDef.name]){t=n.colSortFnCache[i.colDef.name]}else if(i.sortingAlgorithm!==undefined){t=i.sortingAlgorithm;n.colSortFnCache[i.colDef.name]=i.sortingAlgorithm}else{t=n.guessSortFn(i.colDef.type);if(t){n.colSortFnCache[i.colDef.name]=t}else{t=n.sortAlpha}}return t};n.prioritySort=function(e,i){if(e.sort.priority!==undefined&&i.sort.priority!==undefined){if(e.sort.priority<i.sort.priority){return-1}else if(e.sort.priority===i.sort.priority){return 0}else{return 1}}else if(e.sort.priority){return-1}else if(i.sort.priority){return 1}else{return 0}};n.sort=function g(e,r,t){if(!r){return}if(e.options.useExternalSorting){return r}var o=[];t.forEach(function(e){if(e.sort&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)){o.push(e)}});o=o.sort(n.prioritySort);if(o.length===0){return r}var l,a;var s=r.slice(0);return r.sort(function d(r,t){var d=0,u=0,c;while(d===0&&u<o.length){l=o[u];a=o[u].sort.direction;c=n.getSortFn(e,l,s);var f=e.getCellValue(r,l);var g=e.getCellValue(t,l);if(!f&&f!==0||!g&&g!==0){if(!g&&!f){d=0}else if(!f){d=1}else if(!g){d=-1}}else{d=c(f,g)}u++}if(a===i.ASC){return d}else{return 0-d}})};return n}])})();(function(){var e=angular.module("ui.grid");function i(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}var r=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),t=/^(block|none|table(?!-c[ea]).+)/,n={position:"absolute",visibility:"hidden",display:"block"};function o(e,i,r,t,n){var o=r===(t?"border":"content")?4:i==="width"?1:0,l=0;var a=["Top","Right","Bottom","Left"];for(;o<4;o+=2){var s=a[o];if(r==="margin"){var d=parseFloat(n[r+s]);if(!isNaN(d)){l+=d}}if(t){if(r==="content"){var u=parseFloat(n["padding"+s]);if(!isNaN(u)){l-=u}}if(r!=="margin"){var c=parseFloat(n["border"+s+"Width"]);if(!isNaN(c)){l-=c}}}else{var f=parseFloat(n["padding"+s]);if(!isNaN(f)){l+=f}if(r!=="padding"){var g=parseFloat(n["border"+s+"Width"]);if(!isNaN(g)){l+=g}}}}return l}function l(e,t,n){var l=true,a=t==="width"?e.offsetWidth:e.offsetHeight,s=i(e),d=s["boxSizing"]==="border-box";if(a<=0||a==null){a=s[t];if(a<0||a==null){a=e.style[t]}if(r.test(a)){return a}l=d&&(true||a===e.style[t]);a=parseFloat(a)||0}var u=a+o(e,t,n||(d?"border":"content"),l,s);return u}var a=["0","0","0"];var s="uiGrid-";e.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","uiGridConstants",function(e,r,o,d,u,c,f,g,p){var h={createBoundedWrapper:function(e,i){return function(){return i.apply(e,arguments)}},readableColumnName:function(e){if(typeof e==="undefined"||e===undefined||e===null){return e}if(typeof e!=="string"){e=String(e)}return e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 ")},getColumnsFromData:function(e,i){var r=[];if(!e||typeof e[0]==="undefined"||e[0]===undefined){return[]}if(angular.isUndefined(i)){i=[]}var t=e[0];angular.forEach(t,function(e,t){if(i.indexOf(t)===-1){r.push({name:t})}});return r},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(i){if(u.get(i)){return g.when(u.get(i))}if(i.hasOwnProperty("then")){return i}try{if(angular.element(i).length>0){return g.when(i)}}catch(r){}e.debug("Fetching url",i);return d({method:"GET",url:i}).then(function(e){var r=e.data.trim();u.put(i,r);return r},function(e){throw new Error("Could not get template "+i+": "+e)})},guessType:function(e){var i=typeof e;switch(i){case"number":case"boolean":case"string":return i;default:if(angular.isDate(e)){return"date"}return"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden";e.style.width="100px";e.style.msOverflowStyle="scrollbar";document.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%";e.appendChild(r);var t=r.offsetWidth;e.parentNode.removeChild(e);return i-t},swap:function(e,i,r,t){var n,o,l={};for(o in i){l[o]=e.style[o];e.style[o]=i[o]}n=r.apply(e,t||[]);for(o in i){e.style[o]=l[o]}return n},fakeElement:function(e,i,r,t){var n,o,l=angular.element(e).clone()[0];for(o in i){l.style[o]=i[o]}angular.element(document.body).append(l);n=r.call(l,l);angular.element(l).remove();return n},normalizeWheelEvent:function(e){var i,r;var t=e||window.event,n=[].slice.call(arguments,1),o=0,l=0,a=0,s=0,d=0,u;if(t.originalEvent){t=t.originalEvent}if(t.wheelDelta){o=t.wheelDelta}if(t.detail){o=t.detail*-1}a=o;if(t.axis!==undefined&&t.axis===t.HORIZONTAL_AXIS){a=0;l=o*-1}if(t.deltaY){a=t.deltaY*-1;o=a}if(t.deltaX){l=t.deltaX;o=l*-1}if(t.wheelDeltaY!==undefined){a=t.wheelDeltaY}if(t.wheelDeltaX!==undefined){l=t.wheelDeltaX}s=Math.abs(o);if(!i||s<i){i=s}d=Math.max(Math.abs(a),Math.abs(l));if(!r||d<r){r=d}u=o>0?"floor":"ceil";o=Math[u](o/i);l=Math[u](l/r);a=Math[u](a/r);return{delta:o,deltaX:l,deltaY:a}},isTouchEnabled:function(){var e;if("ontouchstart"in r||r.DocumentTouch&&o instanceof DocumentTouch){e=true}return e},isNullOrUndefined:function(e){if(e===undefined||e===null){return true}return false},endsWith:function(e,i){if(!e||!i||typeof e!=="string"){return false}return e.indexOf(i,e.length-i.length)!==-1},requestAnimationFrame:r.requestAnimationFrame&&r.requestAnimationFrame.bind(r)||r.webkitRequestAnimationFrame&&r.webkitRequestAnimationFrame.bind(r)||function(e){return c(e,10,false)},numericAndNullSort:function(e,i){if(e===null){return 1}if(i===null){return-1}if(e===null&&i===null){return 0}return e-i},disableAnimations:function(e){var i;try{i=f.get("$animate");i.enabled(false,e)}catch(r){}},enableAnimations:function(e){var i;try{i=f.get("$animate");i.enabled(true,e)}catch(r){}},nextUid:function v(){var e=a.length;var i;while(e){e--;i=a[e].charCodeAt(0);if(i===57){a[e]="A";return s+a.join("")}if(i===90){a[e]="0"}else{a[e]=String.fromCharCode(i+1);return s+a.join("")}}a.unshift("0");return s+a.join("")},hashKey:function m(e){var i=typeof e,r;if(i==="object"&&e!==null){if(typeof(r=e.$$hashKey)==="function"){r=e.$$hashKey()}else if(typeof e.$$hashKey!=="undefined"&&e.$$hashKey){r=e.$$hashKey}else if(r===undefined){r=e.$$hashKey=h.nextUid()}}else{r=e}return i+":"+r}};["width","height"].forEach(function(e){var r=angular.uppercase(e.charAt(0))+e.substr(1);h["element"+r]=function(r,o){var a=r;if(typeof a.length!=="undefined"&&a.length){a=r[0]}if(a){var s=i(a);return a.offsetWidth===0&&t.test(s.display)?h.fakeElement(a,n,function(i){return l(i,e,o)}):l(a,e,o)}else{return null}};h["outerElement"+r]=function(e,i){return e?h["element"+r].call(this,e,i?"margin":"border"):null}});h.closestElm=function w(e,i){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var r;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){if(typeof document.body[e]==="function"){r=e;return true}return false});var t;while(e!==null){t=e.parentElement;if(t!==null&&t[r](i)){return t}e=t}return null};h.type=function(e){var i=Function.prototype.toString.call(e.constructor);return i.match(/function (.*?)\(/)[1]};h.getBorderSize=function C(e,r){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var t=i(e);if(r){r="border-"+r}else{r="border"}var n=parseInt(t[r],10);if(isNaN(n)){return 0}else{return n}};h.detectBrowser=function y(){var e=r.navigator.userAgent;var i={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var t in i){if(i[t].test(e)){return t}}return"unknown"};h.normalizeScrollLeft=function b(e){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var i=h.detectBrowser();var r=e.scrollLeft;var t=angular.element(e).css("direction");if(i==="ie"){return r}else if(i==="chrome"){if(t==="rtl"){var n=e.scrollWidth-e.clientWidth;return n-r}else{return r}}else if(i==="firefox"){return Math.abs(r)}else{return r}};h.denormalizeScrollLeft=function S(e,i){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var r=h.detectBrowser();var t=angular.element(e).css("direction");if(r==="ie"){return i}else if(r==="chrome"){if(t==="rtl"){var n=e.scrollWidth-e.clientWidth;return n-i}else{return i}}else if(r==="firefox"){if(t==="rtl"){return i*-1}else{return i}}else{return i}};h.preEval=function(e){var i=p.BRACKET_REGEXP.exec(e);if(i){return(i[1]?h.preEval(i[1]):i[1])+i[2]+(i[3]?h.preEval(i[3]):i[3])}else{e=e.replace(p.APOS_REGEXP,"\\'");var r=e.split(p.DOT_REGEXP);var t=[r.shift()];angular.forEach(r,function(e){t.push(e.replace(p.FUNC_REGEXP,"']$1"))});return t.join("['")}};h.debounce=function(e,i,r){var t,n,o,l;function a(){o=this;n=arguments;var a=function(){t=null;if(!r){l=e.apply(o,n)}};var s=r&&!t;if(t){c.cancel(t)}t=c(a,i);if(s){l=e.apply(o,n)}return l}a.cancel=function(){c.cancel(t);t=null};return a};return h}]);e.filter("px",function(){return function(e){if(e.match(/^[\d\.]+$/)){return e+"px"}else{return e}}})})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},column:{hide:"Spalte ausblenden"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrando:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},column:{hide:"Ocultar la columna"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},column:{hide:"Colonne de peau"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Kolom te verbergen"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},column:{hide:"Esconder coluna"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"}});return e}])}])})();(function(){var e=["uiT","uiTranslate"];var i=["t","uiTranslate"];var r=angular.module("ui.grid.i18n");r.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"});r.service("i18nService",["$log","i18nConstants","$rootScope",function(e,i,r){var t={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,i){var r=e.toLowerCase();if(!this._langs[r]){this._langs[r]={}}angular.extend(this._langs[r],i)},getAllLangs:function(){var e=[];if(!this._langs){return e}for(var i in this._langs){e.push(i)}return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}};var n={add:function(e,i){if(typeof e==="object"){angular.forEach(e,function(e){if(e){t.add(e,i)}})}else{t.add(e,i)}},getAllLangs:function(){return t.getAllLangs()},get:function(e){var i=e?e:n.getCurrentLang();return t.get(i)},getSafeText:function(e,r){var o=r?r:n.getCurrentLang();var l=t.get(o);if(!l){return i.MISSING}var a=e.split(".");var s=l;for(var d=0;d<a.length;++d){if(s[a[d]]===undefined||s[a[d]]===null){return i.MISSING}else{s=s[a[d]]}}return s},setCurrentLang:function(e){if(e){t.setCurrent(e);r.$broadcast(i.UPDATE_EVENT)}},getCurrentLang:function(){var e=t.getCurrentLang();if(!e){e=i.DEFAULT_LANG;t.setCurrent(e)}return e}};return n}]);var t=function(e,i){return{compile:function(){return{pre:function(r,t,n){var o=i.LOCALE_DIRECTIVE_ALIAS;var l=r.$eval(n[o]);if(l){r.$watch(n[o],function(){e.setCurrentLang(l)})}else if(n.$$observers){n.$observe(o,function(){e.setCurrentLang(n[o]||i.DEFAULT_LANG)})}}}}}};r.directive("uiI18n",["i18nService","i18nConstants",t]);var n=function(i,r,t){return{restrict:"EA",compile:function(){return{pre:function(n,o,l){var a=e[0],s=e[1];var d=l[a]||l[s]||o.html();var u=t.MISSING+d;var c;if(l.$$observers){var f=l[a]?a:s;c=l.$observe(f,function(e){if(e){o.html(i(e)(r.getCurrentLang())||u)}})}var g=i(d);var p=n.$on(t.UPDATE_EVENT,function(e){if(c){c(l[a]||l[s])}else{o.html(g(r.get())||u)}});n.$on("$destroy",p);o.html(g(r.get())||u)}}}}};e.forEach(function(e){r.directive(e,["$parse","i18nService","i18nConstants",n])});var o=function(e,i,r){return function(t){var n=e(t);return n(i.get())||r.MISSING+t}};i.forEach(function(e){r.filter(e,["$parse","i18nService","i18nConstants",o])})})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("zh-cn",{aggregate:{label:"条目"},groupPanel:{description:"拖曳表头到此处以进行分组"},search:{placeholder:"搜索...",showingItems:"当前显示条目：",selectedItems:"选中条目：",totalItems:"条目总数：",size:"每页显示数：",first:"回到首页",next:"下一页",previous:"上一页",last:"前往尾页"},menu:{text:"数据分组与选择列："},column:{hide:"隐藏列"}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("zh-tw",{aggregate:{label:"筆"},groupPanel:{description:"拖拉表頭到此處以進行分組"},search:{placeholder:"搜尋...",showingItems:"目前顯示筆數：",selectedItems:"選取筆數：",totalItems:"總筆數：",size:"每頁顯示：",first:"第一頁",next:"下一頁",previous:"上一頁",last:"最後頁"},menu:{text:"選擇欄位："},column:{hide:"隐藏列"}});return e}])}])})();(function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$log","$timeout","gridUtil",function(e,i,r){return{require:"uiGrid",scope:false,link:function(e,t,n,o){var l,a;function s(){a=r.elementHeight(t);l=r.elementWidth(t)}s();var d;function u(){i.cancel(d);d=i(function(){var e=r.elementHeight(t);var i=r.elementWidth(t);if(e!==a||i!==l){o.grid.gridHeight=e;o.grid.gridWidth=i;o.grid.queueRefresh().then(function(){s();u()})}else{u()}},250)}u();e.$on("$destroy",function(){i.cancel(d)})}}}])})();(function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);function i(e,i){this.row=e;this.col=i}e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3}});e.service("uiGridCellNavService",["$log","uiGridConstants","uiGridCellNavConstants","$q",function(e,r,t,n){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder);e.cellNav={};e.cellNav.lastRowCol=null;var i={events:{cellNav:{navigate:function(e,i){}}},methods:{cellNav:{scrollTo:function(e,i,r,t){o.scrollTo(e,i,r,t)},getFocusedCell:function(){return e.cellNav.lastRowCol}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},getDirection:function(e){if(e.keyCode===r.keymap.LEFT||e.keyCode===r.keymap.TAB&&e.shiftKey){return t.direction.LEFT}if(e.keyCode===r.keymap.RIGHT||e.keyCode===r.keymap.TAB){return t.direction.RIGHT}if(e.keyCode===r.keymap.UP||e.keyCode===r.keymap.ENTER&&e.shiftKey){return t.direction.UP}if(e.keyCode===r.keymap.DOWN||e.keyCode===r.keymap.ENTER){return t.direction.DOWN}return null},getNextRowCol:function(e,i,r,n){switch(e){case t.direction.LEFT:return o.getRowColLeft(i.rows,i.columns,r,n);case t.direction.RIGHT:return o.getRowColRight(i.rows,i.columns,r,n);case t.direction.UP:return o.getRowColUp(i.rows,i.columns,r,n);case t.direction.DOWN:return o.getRowColDown(i.rows,i.columns,r,n)}},getRowColLeft:function(e,r,t,n){var l=o.getNextColIndexLeft(r,n);if(l>n.index){if(t.index===0){return new i(t,r[l])}else{return new i(e[t.index-1],r[l])}}else{return new i(t,r[l])}},getRowColRight:function(e,r,t,n){var l=o.getNextColIndexRight(r,n);if(l<n.index){if(t.index===e.length-1){return new i(t,r[l])}else{return new i(e[t.index+1],r[l])}}else{return new i(t,r[l])}},getNextColIndexLeft:function(e,i){var r=i.index===0?e.length-1:i.index-1;while(r!==i.index){if(e[r].colDef.allowCellFocus){break}r--;if(r===-1){r=e.length-1}}return r},getNextColIndexRight:function(e,i){var r=i.index===e.length-1?0:i.index+1;while(r!==i.index){if(e[r].colDef.allowCellFocus){break}r++;if(r>e.length-1){r=0}}return r},getRowColUp:function(e,r,t,n){var l=n.colDef.allowCellFocus?n.index:o.getNextColIndexRight(r,n);if(t.index===0){return new i(t,r[l])}else{return new i(e[t.index-1],r[l])}},getRowColDown:function(e,r,t,n){var l=n.colDef.allowCellFocus?n.index:o.getNextColIndexRight(r,n);if(t.index===e.length-1){return new i(t,r[l])}else{return new i(e[t.index+1],r[l])}},cellNavColumnBuilder:function(e,i,r){var t=[];e.allowCellFocus=e.allowCellFocus===undefined?true:e.allowCellFocus;return n.all(t)},scrollTo:function(e,i,t,n){var o={};if(t!==null){var l=e.getRow(t);if(l){o.y={percentage:l.index/e.renderContainers.body.visibleRowCache.length}}}if(n!==null){var a=e.getColumn(n.name?n.name:n.field);if(a){o.x={percentage:this.getLeftWidth(e,a.index)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache.length-1)}}}if(o.y||o.x){i.$broadcast(r.events.GRID_SCROLL,o)}},getLeftWidth:function(e,i){var r=0;if(!i){return}for(var t=0;t<=i;t++){if(e.renderContainers.body.visibleColumnCache[t].drawnWidth){r+=e.renderContainers.body.visibleColumnCache[t].drawnWidth}}return r}};return o}]);e.directive("uiGridCellnav",["$log","uiGridCellNavService","uiGridCellNavConstants",function(e,r,t){return{replace:true,priority:-150,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,n,o,l){var a=l.grid;r.initializeGrid(a);l.cellNav={};l.cellNav.broadcastCellNav=function(i){e.$broadcast(t.CELL_NAV_EVENT,i);l.cellNav.broadcastFocus(i.row,i.col)};l.cellNav.broadcastFocus=function(e,r){if(a.cellNav.lastRowCol===null||(a.cellNav.lastRowCol.row!==e||a.cellNav.lastRowCol.col!==r)){var t=new i(e,r);a.api.cellNav.raise.navigate(t,a.cellNav.lastRowCol);a.cellNav.lastRowCol=t}}},post:function(e,i,r,t){}}}}}]);e.directive("uiGridCell",["uiGridCellNavService","$log","uiGridCellNavConstants",function(e,i,r){return{priority:-150,restrict:"A",require:"^uiGrid",scope:false,link:function(i,t,n,o){if(!i.col.colDef.allowCellFocus){return}l();t.on("keydown",function(r){var t=e.getDirection(r);if(t===null){return true}var n=e.getNextRowCol(t,i.grid,i.row,i.col);o.cellNav.broadcastCellNav(n);l();return false});t.find("div").on("focus",function(e){o.cellNav.broadcastFocus(i.row,i.col)});i.$on(r.CELL_NAV_EVENT,function(e,r){if(r.row===i.row&&r.col===i.col){a()}});function l(){t.find("div").attr("tabindex",-1)}function a(){var e=t.find("div");e[0].focus();e.attr("tabindex",0)}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}});e.service("uiGridEditService",["$log","$q","$templateCache","uiGridConstants","gridUtil",function(e,i,r,t,n){var o={initializeGrid:function(e){o.defaultGridOptions(e.options);e.registerColumnBuilder(o.editColumnBuilder);var i={events:{edit:{afterCellEdit:function(e,i,r,t){},beginCellEdit:function(e,i){},cancelCellEdit:function(e,i){}}},methods:{edit:{}}};e.api.registerEventsFromObject(i.events)},defaultGridOptions:function(e){e.cellEditableCondition=e.cellEditableCondition===undefined?true:e.cellEditableCondition;e.enableCellEditOnFocus=e.enableCellEditOnFocus===undefined?false:e.enableCellEditOnFocus},editColumnBuilder:function(e,r,t){var o=[];e.enableCellEdit=e.enableCellEdit===undefined?t.enableCellEdit===undefined?e.type!=="object":t.enableCellEdit:e.enableCellEdit;e.cellEditableCondition=e.cellEditableCondition===undefined?t.cellEditableCondition:e.cellEditableCondition;if(e.enableCellEdit){e.editableCellTemplate=e.editableCellTemplate||t.editableCellTemplate||"ui-grid/cellEditor";o.push(n.getTemplate(e.editableCellTemplate).then(function(e){r.editableCellTemplate=e},function(i){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+e.editableCellTemplate+"'")}))}e.enableCellEditOnFocus=e.enableCellEditOnFocus===undefined?t.enableCellEditOnFocus:e.enableCellEditOnFocus;return i.all(o)},isStartEditKey:function(e){if(e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER){return false}return true}};return o}]);e.directive("uiGridEdit",["$log","uiGridEditService",function(e,i){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,r,t,n){i.initializeGrid(n.grid)},post:function(e,i,r,t){}}}}}]);e.directive("uiGridCell",["$compile","uiGridConstants","uiGridEditConstants","$log","$parse","uiGridEditService",function(e,i,r,t,n,o){return{priority:-100,restrict:"A",scope:false,link:function(t,l,a){if(!t.col.colDef.enableCellEdit){return}var s;var d;var u=false;var c=false;var f;g();function g(){l.on("dblclick",w);l.on("keydown",v);if(t.col.colDef.enableCellEditOnFocus){l.find("div").on("focus",h)}}function p(){l.off("dblclick",w);l.off("keydown",v);if(t.col.colDef.enableCellEditOnFocus){l.find("div").off("focus",h)}}function h(e){e.stopPropagation();w()}function v(e){if(o.isStartEditKey(e)){w()}}function m(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function w(){if(!m(t.col,t.row)){return}f=n(t.row.getQualifiedColField(t.col));d=f(t);s=t.col.editableCellTemplate;s=s.replace(i.COL_FIELD,t.row.getQualifiedColField(t.col));var o=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";s=s.replace(i.CUSTOM_FILTERS,o);t.inputType="text";switch(t.col.colDef.type){case"boolean":t.inputType="checkbox";break;case"number":t.inputType="number";break;case"date":t.inputType="date";break}t.editDropdownOptionsArray=t.col.colDef.editDropdownOptionsArray;t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id";t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";
var a;t.$apply(function(){u=true;p();a=e(s)(t.$new());var i=angular.element(l.children()[0]);c=i.hasClass(":focus");i.addClass("ui-grid-cell-contents-hidden");l.append(a)});var g=t.$on(i.events.GRID_SCROLL,function(){C(true);t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,f(t),d);g()});var h=t.$on(r.events.END_CELL_EDIT,function(e,i){C(i);t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,f(t),d);h()});var v=t.$on(r.events.CANCEL_CELL_EDIT,function(){y();v()});t.$broadcast(r.events.BEGIN_CELL_EDIT);t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef)}function C(e){if(!u){return}var i=angular.element(l.children()[0]);angular.element(l.children()[1]).remove();i.removeClass("ui-grid-cell-contents-hidden");if(e&&c){i.focus()}c=false;u=false;g()}function y(){if(!u){return}f.assign(t,d);t.$apply();t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef);C(true)}}}}]);e.directive("uiGridEditor",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:true,compile:function(){return{pre:function(e,i,r){},post:function(r,t,n){r.$on(i.events.BEGIN_CELL_EDIT,function(){t[0].focus();t[0].select();t.on("blur",function(e){r.stopEdit(e)})});r.deepEdit=false;r.stopEdit=function(e){if(r.inputForm&&!r.inputForm.$valid){e.stopPropagation();r.$emit(i.events.CANCEL_CELL_EDIT)}else{r.$emit(i.events.END_CELL_EDIT)}r.deepEdit=false};t.on("click",function(e){r.deepEdit=true});t.on("keydown",function(t){switch(t.keyCode){case e.keymap.ESC:t.stopPropagation();r.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:r.stopEdit(t);break;case e.keymap.TAB:r.stopEdit(t);break}if(r.deepEdit){switch(t.keyCode){case e.keymap.LEFT:t.stopPropagation();break;case e.keymap.RIGHT:t.stopPropagation();break;case e.keymap.UP:t.stopPropagation();break;case e.keymap.DOWN:t.stopPropagation();break}}return true})}}}}}]);e.directive("input",["$filter",function(e){function i(e){if("undefined"===typeof e||""===e){return null}var i=e.split("-");if(3!==i.length){return null}var r=parseInt(i[0],10);var t=parseInt(i[1],10);var n=parseInt(i[2],10);if(t<1||r<1||n<1){return null}return new Date(r,t-1,n)}return{restrict:"E",require:"?ngModel",link:function(r,t,n,o){if(angular.version.minor===2&&n.type&&"date"===n.type&&o){o.$formatters.push(function(i){o.$setValidity(null,!i||!isNaN(i.getTime()));return e("date")(i,"yyyy-MM-dd")});o.$parsers.push(function(e){if(e&&e.length>0){var r=i(e);o.$setValidity(null,r&&!isNaN(r.getTime()));return r}else{o.$setValidity(null,true);return null}})}}}}]);e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:true,compile:function(){return{pre:function(e,i,r){},post:function(r,t,n){r.$on(i.events.BEGIN_CELL_EDIT,function(){t[0].focus();t[0].style.width=t[0].parentElement.offsetWidth-1+"px";t.on("blur",function(e){r.stopEdit(e)})});r.stopEdit=function(e){r.$emit(i.events.END_CELL_EDIT)};t.on("keydown",function(t){switch(t.keyCode){case e.keymap.ESC:t.stopPropagation();r.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:r.stopEdit(t);break;case e.keymap.LEFT:r.stopEdit(t);break;case e.keymap.RIGHT:r.stopEdit(t);break;case e.keymap.UP:t.stopPropagation();break;case e.keymap.DOWN:t.stopPropagation();break;case e.keymap.TAB:r.stopEdit(t);break}return true})}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$log","$compile",function(e,i,r){var t={initializeGrid:function(e){var i={events:{expandable:{rowExpandedStateChanged:function(e,i){}}},methods:{expandable:{toggleRowExpansion:function(i){var r=e.getRow(i);if(r!==null){t.toggleRowExpansion(e,r)}},expandAllRows:function(){t.expandAllRows(e)},collapseAllRows:function(){t.collapseAllRows(e)}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,i){i.isExpanded=!i.isExpanded;if(i.isExpanded){i.height=i.grid.options.rowHeight+e.options.expandable.expandableRowHeight}else{i.height=i.grid.options.rowHeight}e.api.expandable.raise.rowExpandedStateChanged(i)},expandAllRows:function(e,i){angular.forEach(e.renderContainers.body.visibleRowCache,function(i){if(!i.isExpanded){t.toggleRowExpansion(e,i)}});e.refresh()},collapseAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(i){if(i.isExpanded){t.toggleRowExpansion(e,i)}});e.refresh()}};return t}]);e.directive("uiGridExpandable",["$log","uiGridExpandableService","$templateCache",function(e,i,r){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,t,n,o){var l={name:"expandableButtons",width:40};l.cellTemplate=r.get("ui-grid/expandableRowHeader");o.grid.addRowHeaderColumn(l);i.initializeGrid(o.grid)},post:function(e,i,r,t){}}}}}]);e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$log","$compile","uiGridConstants","gridUtil","$interval",function(e,i,r,t,n,o,l){return{replace:false,priority:0,scope:false,compile:function(){return{pre:function(e,i,r,n){o.getTemplate(e.grid.options.expandable.rowExpandableTemplate).then(function(r){var n=t(r)(e);i.append(n);e.row.expandedRendered=true})},post:function(e,i,r,t){e.$on("$destroy",function(){e.row.expandedRendered=false})}}}}}]);e.directive("uiGridRow",["$compile","$log","$templateCache",function(e,i,r){return{priority:-200,scope:false,compile:function(e,i){return{pre:function(e,i,r,t){e.expandableRow={};e.expandableRow.shouldRenderExpand=function(){var i=e.colContainer.name==="body"&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return i};e.expandableRow.shouldRenderFiller=function(){var i=e.row.isExpanded&&(e.colContainer.name!=="body"||e.grid.isScrollingVertically&&!e.row.expandedRendered);return i}},post:function(e,i,r,t){}}}}}]);e.directive("uiGridViewport",["$compile","$log","$templateCache",function(e,i,r){return{priority:-200,scope:false,compile:function(e,i){var t=angular.element(e.children().children()[0]);var n=r.get("ui-grid/expandableScrollFiller");var o=r.get("ui-grid/expandableRow");t.append(o);t.append(n);return{pre:function(e,i,r,t){},post:function(e,i,r,t){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",LINK_LABEL:"LINK_LABEL",BUTTON_LABEL:"BUTTON_LABEL"});e.service("uiGridExporterService",["$log","$q","uiGridExporterConstants","gridUtil","$compile",function(e,i,r,t,n){var o={initializeGrid:function(e){e.exporter={};this.defaultGridOptions(e.options);var i={events:{exporter:{}},methods:{exporter:{csvExport:function(i,r,t){o.csvExport(e,i,r,t)},pdfExport:function(i,r){o.pdfExport(e,i,r)}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.exporterSuppressButton=e.exporterSuppressButton===true;e.exporterLinkTemplate=e.exporterLinkTemplate?e.exporterLinkTemplate:"ui-grid/csvLink";e.exporterHeaderTemplate=e.exporterHeaderTemplate?e.exporterHeaderTemplate:"ui-grid/exporterHeader";e.exporterLinkLabel=e.exporterLinkLabel?e.exporterLinkLabel:"Download CSV";e.exporterButtonLabel=e.exporterButtonLabel?e.exporterButtonLabel:"Export";e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11};e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]};e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:true,fontSize:12,color:"black"};e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape";e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4";e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720},showMenu:function(e){e.exporter.$scope.menuItems=[{title:"Export all data as csv",action:function(e){this.grid.api.exporter.csvExport(r.ALL,r.ALL)}},{title:"Export visible data as csv",action:function(e){this.grid.api.exporter.csvExport(r.VISIBLE,r.VISIBLE)}},{title:"Export selected data as csv",action:function(e){this.grid.api.exporter.csvExport(r.SELECTED,r.VISIBLE)}},{title:"Export all data as pdf",action:function(e){this.grid.api.exporter.pdfExport(r.ALL,r.ALL)}},{title:"Export visible data as pdf",action:function(e){this.grid.api.exporter.pdfExport(r.VISIBLE,r.VISIBLE)}},{title:"Export selected data as pdf",action:function(e){this.grid.api.exporter.pdfExport(r.SELECTED,r.VISIBLE)}}];e.exporter.$scope.$broadcast("toggleExporterMenu")},csvExport:function(e,i,r,t){var n=this.getColumnHeaders(e,r);var o=this.getData(e,i,r);var l=this.formatAsCsv(n,o);this.renderCsvLink(e,l,t)},getColumnHeaders:function(e,i){var t=[];angular.forEach(e.columns,function(e,n){if(e.visible||i===r.ALL){t.push({name:e.field,displayName:e.displayName,width:e.drawnWidth?e.drawnWidth:e.width,align:e.colDef.type==="number"?"right":"left"})}});return t},getData:function(i,t,n){var o=[];var l;switch(t){case r.ALL:l=i.rows;break;case r.VISIBLE:l=i.getVisibleRows();break;case r.SELECTED:if(i.api.selection){l=i.api.selection.getSelectedGridRows()}else{e.error("selection feature must be enabled to allow selected rows to be exported")}break}if(r.ALL){angular.forEach(l,function(e,t){var l=[];angular.forEach(i.columns,function(t,o){if(t.visible||n===r.ALL){l.push(i.getCellValue(e,t))}});o.push(l)});return o}},formatAsCsv:function(e,i){var r=this;var t=e.map(function(e){return e.displayName});var n=r.formatRowAsCsv(this)(t)+"\n";n+=i.map(this.formatRowAsCsv(this)).join("\n");return n},formatRowAsCsv:function(e){return function(i){return i.map(e.formatFieldAsCsv).join(",")}},formatFieldAsCsv:function(e){if(e==null){return""}if(typeof e==="number"){return e}if(typeof e==="boolean"){return e?"TRUE":"FALSE"}if(typeof e==="string"){return'"'+e.replace(/"/g,'""')+'"'}return JSON.stringify(e)},renderCsvLink:function(e,i,o){var l=o?o:angular.element(e.exporter.gridElm[0].querySelectorAll(".ui-grid-exporter-csv-link"));if(angular.element(l[0].querySelectorAll(".ui-grid-exporter-csv-link-span"))){angular.element(l[0].querySelectorAll(".ui-grid-exporter-csv-link-span")).remove()}var a=t.getTemplate(e.options.exporterLinkTemplate).then(function(t){t=t.replace(r.LINK_LABEL,e.options.exporterLinkLabel);t=t.replace(r.CSV_CONTENT,encodeURIComponent(i));var o=angular.element(t);var a=n(o)(e.exporter.$scope);l.append(a)})},pdfExport:function(e,i,r){var t=this.getColumnHeaders(e,r);var n=this.getData(e,i,r);var o=this.prepareAsPdf(e,t,n);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,i,r){var t=this.calculatePdfHeaderWidths(e,i);var n=i.map(function(e){return{text:e.displayName,style:"tableHeader"}});var o=r.map(this.formatRowAsPdf(this));var l=[n].concat(o);var a={pageOrientation:e.options.exporterPdfOrientation,content:[{style:"tableStyle",table:{headerRows:1,widths:t,body:l}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};if(e.options.exporterPdfLayout){a.layout=e.options.exporterPdfLayout}return a},calculatePdfHeaderWidths:function(e,i){var r=0;angular.forEach(i,function(e){if(typeof e.width==="number"){r+=e.width}});var t=0;angular.forEach(i,function(e){if(e.width==="*"){t+=100}if(typeof e.width==="string"&&e.width.match(/(\d)*%/)){var i=parseInt(e.width.match(/(\d)*%/)[0]);e.width=r*i/100;t+=e.width}});var n=r+t;return i.map(function(i){return i.width==="*"?i.width:i.width*e.options.exporterPdfMaxGridWidth/n})},formatRowAsPdf:function(e){return function(i){return i.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){if(e==null){return""}if(typeof e==="number"){return e.toString()}if(typeof e==="boolean"){return e?"TRUE":"FALSE"}if(typeof e==="string"){return e.replace(/"/g,'""')}return JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")}};return o}]);e.directive("uiGridExporter",["$log","uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,i,r,t,n){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,i,t,n){r.initializeGrid(n.grid);n.grid.exporter.$scope=e},post:function(e,i,r,t){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$log","$compile","$timeout",function(e,i,r,t){var n={initializeGrid:function(e){var i={events:{infiniteScroll:{needLoadMoreData:function(e,i){}}},methods:{infiniteScroll:{dataLoaded:function(){e.options.loadTimout=false}}}};e.options.loadTimout=false;e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},loadData:function(e){e.api.infiniteScroll.raise.needLoadMoreData();e.options.loadTimout=true},checkScroll:function(e,i){var r=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;if(!e.options.loadTimout&&i<=r){this.loadData(e);return true}return false}};return n}]);e.directive("uiGridInfiniteScroll",["$log","uiGridInfiniteScrollService",function(e,i){return{priority:-200,scope:false,require:"^uiGrid",compile:function(e,r,t){return{pre:function(e,r,t,n){i.initializeGrid(n.grid)},post:function(e,i,r){}}}}}]);e.directive("uiGridViewport",["$compile","$log","uiGridInfiniteScrollService","uiGridConstants",function(e,i,r,t){return{priority:-200,scope:false,link:function(e,i,n){e.$on(t.events.GRID_SCROLL,function(i,t){var n=100-t.y.percentage*100;r.checkScroll(e.grid,n)})}}}])})();(function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("en",{pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"}});return e}])}]);e.service("uiGridPinningService",["$log","GridRenderContainer","i18nService",function(e,i,r){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);e.registerColumnBuilder(t.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==false},pinningColumnBuilder:function(e,i,t){e.enablePinning=e.enablePinning===undefined?t.enablePinning:e.enablePinning;if(e.pinnedLeft){i.renderContainer="left";i.grid.createLeftContainer()}else if(e.pinnedRight){i.renderContainer="right";i.grid.createRightContainer()}if(!e.enablePinning){return}var n={title:r.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof this.context.col.renderContainer==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){this.context.col.renderContainer="left";this.context.col.grid.createLeftContainer();i.grid.refresh().then(function(){i.grid.refresh()})}};var o={title:r.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof this.context.col.renderContainer==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){this.context.col.renderContainer="right";this.context.col.grid.createRightContainer();i.grid.refresh().then(function(){i.grid.refresh()})}};var l={title:r.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof this.context.col.renderContainer!=="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){this.context.col.renderContainer=null;i.grid.refresh().then(function(){i.grid.refresh()})}};i.menuItems.push(n);i.menuItems.push(o);i.menuItems.push(l)}};return t}]);e.directive("uiGridPinning",["$log","uiGridPinningService",function(e,i){return{require:"uiGrid",scope:false,compile:function(){return{pre:function(e,r,t,n){i.initializeGrid(n.grid)},post:function(e,i,r,t){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.constant("columnBounds",{minWidth:35});e.service("uiGridResizeColumnsService",["$log","$q",function(e,i){var r={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==false;if(e.enableColumnResize===false){e.enableColumnResizing=false}},colResizerColumnBuilder:function(e,r,t){var n=[];e.enableColumnResizing=e.enableColumnResizing===undefined?t.enableColumnResizing:e.enableColumnResizing;if(e.enableColumnResize===false){e.enableColumnResizing=false}return i.all(n)}};return r}]);e.directive("uiGridResizeColumns",["$log","uiGridResizeColumnsService",function(e,i){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,r,t,n){i.defaultGridOptions(n.grid.options);n.grid.registerColumnBuilder(i.colResizerColumnBuilder)},post:function(e,i,r,t){}}}}}]);e.directive("uiGridHeaderCell",["$log","$templateCache","$compile","$q",function(e,i,r,t){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,o,l){if(l.grid.options.enableColumnResizing){var a=t.defer();o.$observe("renderIndex",function(i,r){e.renderIndex=e.$eval(i);a.resolve()});a.promise.then(function(){var t=i.get("ui-grid/columnResizer");var o=angular.element(t).clone();var l=angular.element(t).clone();o.attr("position","left");l.attr("position","right");var a=e.col;var s=a.getRenderContainer();var d=s.renderedColumns[e.renderIndex-1];if(d&&e.col.index!==0&&d.colDef.enableColumnResizing!==false){n.prepend(o)}if(e.col.colDef.enableColumnResizing!==false){n.append(l)}r(o)(e);r(l)(e)})}}}}}}]);e.directive("uiGridColumnResizer",["$log","$document","gridUtil","uiGridConstants","columnBounds",function(e,i,r,t,n){var o=angular.element('<div class="ui-grid-resize-overlay"></div>');var l={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(e,l,a,s){var d=0,u=0,c=0;if(e.position==="left"){l.addClass("left")}else if(e.position==="right"){l.addClass("right")}function f(e){var i=e.getRenderContainer();i.visibleColumnCache.forEach(function(i){if(i.index===e.index){return}var r=i.colDef;if(!r.width||angular.isString(r.width)&&(r.width.indexOf("*")!==-1||r.width.indexOf("%")!==-1)){r.width=i.drawnWidth}})}function g(e){s.grid.buildColumns().then(function(){s.grid.refreshCanvas(true)})}function p(i,r){if(i.originalEvent){i=i.originalEvent}i.preventDefault();u=i.clientX-c;if(u<0){u=0}else if(u>s.grid.gridWidth){u=s.grid.gridWidth}var l=e.col;var a=l.getRenderContainer();var f;if(e.position==="left"){l=a.renderedColumns[e.renderIndex-1];f=e.col}else if(e.position==="right"){f=a.renderedColumns[e.renderIndex+1]}if(l.colDef.enableColumnResizing===false){return}if(!s.grid.element.hasClass("column-resizing")){s.grid.element.addClass("column-resizing")}var g=u-d;var p=l.drawnWidth+g;if(l.colDef.minWidth&&p<l.colDef.minWidth){u=u+(l.colDef.minWidth-p)}else if(!l.colDef.minWidth&&n.minWidth&&p<n.minWidth){u=u+(l.colDef.minWidth-p)}else if(l.colDef.maxWidth&&p>l.colDef.maxWidth){u=u+(l.colDef.maxWidth-p)}o.css({left:u+"px"});s.fireEvent(t.events.ITEM_DRAGGING)}function h(r,t){if(r.originalEvent){r=r.originalEvent}r.preventDefault();s.grid.element.removeClass("column-resizing");o.remove();u=r.clientX-c;var l=u-d;if(l===0){i.off("mouseup",h);i.off("mousemove",p);return}var a=e.col;var v=a.getRenderContainer();var m;if(e.position==="left"){a=v.renderedColumns[e.renderIndex-1];m=e.col}else if(e.position==="right"){m=v.renderedColumns[e.renderIndex+1]}if(a.colDef.enableColumnResizing===false){return}var w=a.drawnWidth+l;if(a.colDef.minWidth&&w<a.colDef.minWidth){w=a.colDef.minWidth}else if(!a.colDef.minWidth&&n.minWidth&&w<n.minWidth){w=n.minWidth}if(a.colDef.maxWidth&&w>a.colDef.maxWidth){w=a.colDef.maxWidth}a.colDef.width=w;f(a);g(l);i.off("mouseup",h);i.off("mousemove",p)}l.on("mousedown",function(e,r){if(e.originalEvent){e=e.originalEvent}e.stopPropagation();c=s.grid.element[0].getBoundingClientRect().left;d=e.clientX-c;s.grid.element.append(o);o.css({left:d});i.on("mouseup",h);i.on("mousemove",p)});l.on("dblclick",function(i,o){i.stopPropagation();var a=e.col;var s=a.getRenderContainer();var d,u;if(e.position==="left"){a=s.renderedColumns[e.renderIndex-1];d=e.col;u=1}else if(e.position==="right"){d=s.renderedColumns[e.renderIndex+1];d=s.renderedColumns[e.renderIndex+1];u=-1}var c=0;var p=0;var h=r.closestElm(l,".ui-grid-render-container");var v=h.querySelectorAll("."+t.COL_CLASS_PREFIX+a.index+" .ui-grid-cell-contents");Array.prototype.forEach.call(v,function(e){var i;if(angular.element(e).parent().hasClass("ui-grid-header-cell")){i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")}r.fakeElement(e,{},function(e){var t=angular.element(e);t.attr("style","float: left");var n=r.elementWidth(t);if(i){var o=r.elementWidth(i);n=n+o}if(n>c){c=n;p=c-n}})});if(a.colDef.minWidth&&c<a.colDef.minWidth){c=a.colDef.minWidth}else if(!a.colDef.minWidth&&n.minWidth&&c<n.minWidth){c=n.minWidth}if(a.colDef.maxWidth&&c>a.colDef.maxWidth){c=a.colDef.maxWidth}a.colDef.width=c;f(a);g(p)});l.on("$destroy",function(){l.off("mousedown");l.off("dblclick");i.off("mousemove",p);i.off("mouseup",h)})}};return l}])})();(function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{});e.service("uiGridRowEditService",["$interval","$log","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,i,r,t,n,o){var l={initializeGrid:function(e,i){var r={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,i,r){l.setSavePromise(e,i,r)},getDirtyRows:function(e){return e.rowEditDirtyRows},getErrorRows:function(e){return e.rowEditErrorRows},flushDirtyRows:function(e){return l.flushDirtyRows(e)}}}};i.api.registerEventsFromObject(r.events);i.api.registerMethodsFromObject(r.methods);i.api.core.on.renderingComplete(e,function(r){i.api.edit.on.afterCellEdit(e,l.endEditCell);i.api.edit.on.beginCellEdit(e,l.beginEditCell);i.api.edit.on.cancelCellEdit(e,l.cancelEditCell);if(i.api.cellNav){i.api.cellNav.on.navigate(e,l.navigate)}})},defaultGridOptions:function(e){},saveRow:function(e,r){var t=this;return function(){r.isSaving=true;var n=e.api.rowEdit.raise.saveRow(r.entity);if(r.rowEditSavePromise){r.rowEditSavePromise.then(t.processSuccessPromise(e,r),t.processErrorPromise(e,r))}else{i.log("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise")}return n}},setSavePromise:function(e,i,r){var t=e.getRow(i);t.rowEditSavePromise=r},processSuccessPromise:function(e,i){var r=this;return function(){delete i.isSaving;delete i.isDirty;delete i.isError;delete i.rowEditSaveTimer;r.removeRow(e.rowEditErrorRows,i);r.removeRow(e.rowEditDirtyRows,i)}},processErrorPromise:function(e,i){return function(){delete i.isSaving;delete i.rowEditSaveTimer;i.isError=true;if(!e.rowEditErrorRows){e.rowEditErrorRows=[]}e.rowEditErrorRows.push(i)}},removeRow:function(e,i){angular.forEach(e,function(r,t){if(r.uid===i.uid){e.splice(t,1)}})},flushDirtyRows:function(e){var i=[];angular.forEach(e.rowEditDirtyRows,function(r){l.saveRow(e,r)();i.push(r.rowEditSavePromise)});return r.all(i)},endEditCell:function(e,r,t,n){var o=this.grid;var a=o.getRow(e);if(!a){i.log("Unable to find rowEntity in grid data, dirty flag cannot be set");return}if(t!==n||a.isDirty){if(!o.rowEditDirtyRows){o.rowEditDirtyRows=[]}if(!a.isDirty){a.isDirty=true;o.rowEditDirtyRows.push(a)}delete a.isError;l.considerSetTimer(o,a)}},beginEditCell:function(e,r){var t=this.grid;var n=t.getRow(e);if(!n){i.log("Unable to find rowEntity in grid data, timer cannot be cancelled");return}l.cancelTimer(t,n)},cancelEditCell:function(e,r){var t=this.grid;var n=t.getRow(e);if(!n){i.log("Unable to find rowEntity in grid data, timer cannot be set");return}l.considerSetTimer(t,n)},navigate:function(e,i){var r=this.grid;if(e.row.rowEditSaveTimer){l.cancelTimer(r,e.row)}if(i&&i.row&&i.row!==e.row){l.considerSetTimer(r,i.row)}},considerSetTimer:function(i,r){l.cancelTimer(i,r);if(r.isDirty&&!r.isSaving){var t=i.options.rowEditWaitInterval?i.options.rowEditWaitInterval:2e3;r.rowEditSaveTimer=e(l.saveRow(i,r),t,1)}},cancelTimer:function(i,r){if(r.rowEditSaveTimer&&!r.isSaving){e.cancel(r.rowEditSaveTimer);delete r.rowEditSaveTimer}}};return l}]);e.directive("uiGridRowEdit",["$log","uiGridRowEditService","uiGridEditConstants",function(e,i,r){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,r,t,n){i.initializeGrid(e,n.grid)},post:function(e,i,r,t){}}}}}]);e.directive("uiGridViewport",["$compile","uiGridConstants","$log","$parse",function(e,i,r,t){return{priority:-200,scope:false,compile:function(e,i){var r=angular.element(e.children().children()[0]);r.attr("ng-class","{'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}");return{pre:function(e,i,r,t){},post:function(e,i,r,t){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection"});e.service("uiGridSelectionService",["$log","$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,i,r,t,n){var o={initializeGrid:function(e){e.selection={};e.selection.lastSelectedRow=null;o.defaultGridOptions(e.options);var i={events:{selection:{rowSelectionChanged:function(e,i){}}},methods:{selection:{toggleRowSelection:function(i){var r=e.getRow(i);if(r!==null){o.toggleRowSelection(e,r,e.options.multiSelect)}},selectRow:function(i){var r=e.getRow(i);if(r!==null&&!r.isSelected){o.toggleRowSelection(e,r,e.options.multiSelect)}},unSelectRow:function(i){var r=e.getRow(i);if(r!==null&&r.isSelected){o.toggleRowSelection(e,r,e.options.multiSelect)}},selectAllRows:function(){if(e.options.multiSelect===false){return}e.rows.forEach(function(e){e.isSelected=true})},selectAllVisibleRows:function(){if(e.options.multiSelect===false){return}e.rows.forEach(function(e){if(e.visible){e.isSelected=true}else{e.isSelected=false}})},clearSelectedRows:function(){o.clearSelectedRows(e)},getSelectedRows:function(){return o.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return o.getSelectedRows(e)},setMultiSelect:function(i){e.options.multiSelect=i}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==false;e.multiSelect=e.multiSelect!==false;e.enableRowHeaderSelection=e.enableRowHeaderSelection!==false},toggleRowSelection:function(e,i,r){var t=i.isSelected;if(!r&&!t){o.clearSelectedRows(e)}i.isSelected=!t;if(i.isSelected===true){e.selection.lastSelectedRow=i}e.api.selection.raise.rowSelectionChanged(i)},shiftSelect:function(e,i,r){if(!r){return}var t=o.getSelectedRows(e);var n=t.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0;var l=e.renderContainers.body.visibleRowCache.indexOf(i);if(n>l){var a=n;n=l;l=a}for(var s=n;s<=l;s++){var d=e.renderContainers.body.visibleRowCache[s];if(d){d.isSelected=true;e.selection.lastSelectedRow=d;e.api.selection.raise.rowSelectionChanged(d)}}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e){o.getSelectedRows(e).forEach(function(i){i.isSelected=false;e.api.selection.raise.rowSelectionChanged(i)})}};return o}]);e.directive("uiGridSelection",["$log","uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,i,r,t){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,i,t,n){r.initializeGrid(n.grid);if(n.grid.options.enableRowHeaderSelection){var o="ui-grid/selectionRowHeader";var l={name:"selectionRowHeaderCol",displayName:"",width:30,cellTemplate:o};n.grid.addRowHeaderColumn(l)}},post:function(e,i,r,t){}}}}}]);e.directive("uiGridSelectionRowHeaderButtons",["$log","$templateCache","uiGridSelectionService",function(e,i,r){return{replace:true,restrict:"E",template:i.get("ui-grid/selectionRowHeaderButtons"),scope:true,require:"^uiGrid",link:function(e,i,t,n){var o=n.grid;e.selectButtonClick=function(e,i){if(i.shiftKey){r.shiftSelect(o,e,o.options.multiSelect)}else{r.toggleRowSelection(o,e,o.options.multiSelect)}}}}}]);e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(e,i,r,t,n,o){return{priority:-200,scope:false,compile:function(e,i){var r=angular.element(e.children().children()[0]);r.attr("ng-class","{'ui-grid-row-selected': row.isSelected}");return{pre:function(e,i,r,t){},post:function(e,i,r,t){}}}}}]);e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(e,i,r,t,n,o){return{priority:-200,restrict:"A",scope:false,link:function(e,i,r){if(e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection){i.addClass("ui-grid-disable-selection");t()}function t(){i.on("click",function(i){if(i.shiftKey){o.shiftSelect(e.grid,e.row,e.grid.options.multiSelect)}else{o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect)}e.$apply()})}}}}])})();angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>');e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>');e.put("ui-grid/ui-grid-header",'<div class="ui-grid-top-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-header ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div>');e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>');e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>');e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n'+"      /* Styles for the grid */\n"+"    }\n"+"\n"+"    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n"+"      height: {{ grid.options.rowHeight }}px;\n"+"    }\n"+"\n"+"    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n"+"      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && '1') || '0' }}px;\n"+"    }\n"+"\n"+"    {{ grid.verticalScrollbarStyles }}\n"+"    {{ grid.horizontalScrollbarStyles }}\n"+"\n"+"    .ui-grid[dir=rtl] .ui-grid-viewport {\n"+"      padding-left: {{ grid.verticalScrollbarWidth }}px;\n"+"    }\n"+"\n"+'    {{ grid.customStyles }}</style><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-scrollbars="grid.options.enableScrollbars"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenu"></div><div ng-transclude></div></div>');
e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>');e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>');e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n'+'    <div class="inner" ng-show="menuShown">\n'+"      <ul>\n"+'        <div ng-show="grid.options.enableSorting">\n'+'          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n'+'          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n'+'          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n'+"        </div>\n"+"      </ul>\n"+"    </div>\n"+"  </div> --></div></div>");e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationValue() }}</div></div>');e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex">{{ col.displayName CUSTOM_FILTERS }} <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div ng-if="grid.options.enableColumnMenu && !col.isRowHeader" class="ui-grid-column-menu-button" ng-click="toggleMenu($event)"><i class="ui-grid-icon-angle-down">&nbsp;<i></i></i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-click="$event.stopPropagation()" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel right" ng-show="!!colFilter.term">&nbsp;</i> <!-- use !! because angular interprets \'f\' as false --></div></div></div>');e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu"><div class="ui-grid-menu-inner" ng-show="shown"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" title="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div>');e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ title }}</li>');e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showFooter"></div><!-- native scrolling --><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="vertical"></div><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="horizontal"></div></div>');e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by row.uid" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>');e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="{{inputType}}" ng-class="\'colt\' + col.index" ui-grid-editor ng-model="COL_FIELD"></form></div>');e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.index" ui-grid-edit-dropdown ng-model="COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>');e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left;margin-top: 1px;margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth() - grid.verticalScrollbarWidth)\n'+'     ,height: grid.options.expandable.expandableRowHeight}"></div>');e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell uiGridExpandableButtonsCell"><div class="ui-grid-cell-contents"><i ng-class="{\'ui-grid-icon-plus-squared\':!row.isExpanded, \'ui-grid-icon-minus-squared\':row.isExpanded}" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>');e.put("ui-grid/expandableScrollFiller",'<div ng-if="expandableRow.shouldRenderFiller()" style="float:left;margin-top: 2px;margin-bottom: 2px" ng-style="{width: (grid.getViewportWidth())\n'+"     ,height: grid.options.expandable.expandableRowHeight, 'margin-left': grid.options.rowHeader.rowHeaderWidth}\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( grid.options.expandable.expandableRowHeight/2 - 5),\n"+"            'margin-left':((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5)}\"></i></div>");e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT">LINK_LABEL</a></span>');e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>');e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-row-header-cell ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>');e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>')}]);