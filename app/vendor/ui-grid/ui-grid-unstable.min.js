(function(){"use strict";angular.module("ui.grid.i18n",[]);angular.module("ui.grid",["ui.grid.i18n"])})();(function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:true,LOG_WARN_MESSAGES:true,LOG_ERROR_MESSAGES:true,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column"}})})();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,i,t,r){var n={priority:0,scope:false,require:"?^uiGrid",compile:function(){return{pre:function(i,n,o,a){function l(){var e=i.col.compiledElementFn;e(i,function(e,i){n.append(e)})}if(a&&i.col.compiledElementFn){l()}else{if(a&&!i.col.compiledElementFn){i.col.getCompiledElementFn().then(function(e){e(i,function(e,i){n.append(e)})})}else{var s=i.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+t.preEval(i.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)");var d=e(s)(i);n.append(d)}}},post:function(e,i,t,n){i.addClass(e.col.getColClass(false));var o;var a=function(t){var r=i;if(o){r.removeClass(o);o=null}if(angular.isFunction(e.col.cellClass)){o=e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex)}else{o=e.col.cellClass}r.addClass(o)};if(e.col.cellClass){a()}var l=e.grid.registerDataChangeCallback(a,[r.dataChange.COLUMN,r.dataChange.EDIT]);var s=function(){e.grid.deregisterDataChangeCallback(l)};e.$on("$destroy",s)}}}};return n}]);(function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,i,t){var r={initialize:function(e,i){e.grid=i.grid;i.columnMenuScope=e;e.menuShown=false},setColMenuItemWatch:function(e){var i=e.$watch("col.menuItems",function(i,t){if(typeof i!=="undefined"&&i&&angular.isArray(i)){i.forEach(function(i){if(typeof i.context==="undefined"||!i.context){i.context={}}i.context.col=e.col});e.menuItems=e.defaultMenuItems.concat(i)}else{e.menuItems=e.defaultMenuItems}});e.$on("$destroy",i)},sortable:function(e){if(e.grid.options.enableSorting&&typeof e.col!=="undefined"&&e.col&&e.col.enableSorting){return true}else{return false}},isActiveSort:function(e,i){return typeof e.col!=="undefined"&&typeof e.col.sort!=="undefined"&&typeof e.col.sort.direction!=="undefined"&&e.col.sort.direction===i},suppressRemoveSort:function(e){if(e.col&&e.col.colDef&&e.col.colDef.suppressRemoveSort){return true}else{return false}},hideable:function(e){if(typeof e.col!=="undefined"&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===false){return false}else{return true}},getDefaultMenuItems:function(t){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation();t.sortColumn(e,i.ASC)},shown:function(){return r.sortable(t)},active:function(){return r.isActiveSort(t,i.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation();t.sortColumn(e,i.DESC)},shown:function(){return r.sortable(t)},active:function(){return r.isActiveSort(t,i.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation();t.unsortColumn()},shown:function(){return r.sortable(t)&&typeof t.col!=="undefined"&&(typeof t.col.sort!=="undefined"&&typeof t.col.sort.direction!=="undefined")&&t.col.sort.direction!==null&&!r.suppressRemoveSort(t)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(t)},action:function(e){e.stopPropagation();t.hideColumn()}}]},getColumnElementPosition:function(e,i,r){var n={};n.left=r[0].offsetLeft;n.top=r[0].offsetTop;n.offset=0;if(i.grid.options.offsetLeft){n.offset=i.grid.options.offsetLeft}n.height=t.elementHeight(r,true);n.width=t.elementWidth(r,true);return n},repositionMenu:function(e,i,r,n,o){var a=n[0].querySelectorAll(".ui-grid-menu");var l=i.renderContainer?i.renderContainer:"body";var s=i.grid.renderContainers[l];var d=t.closestElm(o,".ui-grid-render-container");var u=d.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left;var c=d.querySelectorAll(".ui-grid-viewport")[0].scrollLeft;var f=i.lastMenuWidth?i.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170;var p=i.lastMenuPaddingRight?i.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(a.length!==0){var g=a[0].querySelectorAll(".ui-grid-menu-mid");if(g.length!==0&&!angular.element(g).hasClass("ng-hide")){f=t.elementWidth(a,true);e.lastMenuWidth=f;i.lastMenuWidth=f;p=parseInt(t.getStyles(angular.element(a)[0])["paddingRight"],10);e.lastMenuPaddingRight=p;i.lastMenuPaddingRight=p}}var h=r.left+u-c+r.width-f+p;if(h<r.offset){h=r.offset}n.css("left",h+"px");n.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,i,t,r){var n={priority:0,scope:true,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:true,link:function(e,i,t,n){var o=this;r.initialize(e,n);e.defaultMenuItems=r.getDefaultMenuItems(e);e.menuItems=e.defaultMenuItems;r.setColMenuItemWatch(e);e.showMenu=function(t,n,a){e.col=t;var l=r.getColumnElementPosition(e,t,n);if(e.menuShown){e.colElement=n;e.colElementPosition=l;e.hideThenShow=true;e.$broadcast("hide-menu",{originalEvent:a})}else{o.shown=e.menuShown=true;r.repositionMenu(e,t,l,i,n);e.colElement=n;e.colElementPosition=l;e.$broadcast("show-menu",{originalEvent:a})}};e.hideMenu=function(i){delete e.col;e.menuShown=false;if(!i){e.$broadcast("hide-menu")}};e.$on("menu-hidden",function(){if(e.hideThenShow){delete e.hideThenShow;r.repositionMenu(e,e.col,e.colElementPosition,i,e.colElement);e.$broadcast("show-menu");e.menuShown=true}else{e.hideMenu(true)}});e.$on("menu-shown",function(){r.repositionMenu(e,e.col,e.colElementPosition,i,e.colElement);delete e.colElementPosition;delete e.columnElement});e.sortColumn=function(i,t){i.stopPropagation();e.grid.sortColumn(e.col,t,true).then(function(){e.grid.refresh();e.hideMenu()})};e.unsortColumn=function(){e.col.unsort();e.grid.refresh();e.hideMenu()};e.hideColumn=function(){e.col.colDef.visible=false;e.grid.refresh();e.hideMenu()}},controller:["$scope",function(e){var i=this;e.$watch("menuItems",function(e,t){i.menuItems=e})}]};return n}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","$compile",function(e,i,t){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:true,require:"^uiGrid",compile:function n(e,r,o){return{pre:function(e,r,n,o){function a(n){i.getTemplate(n).then(function(i){var n=t(i);var o=n(e);r.append(o)})}if(e.col.footerCellTemplate){a(e.col.footerCellTemplate)}else{a("ui-grid/uiGridFooterCell")}},post:function(e,i,t,r){e.grid=r.grid;i.addClass(e.col.getColClass(false))}}}};return r}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,r,n){var o="ui-grid/ui-grid-footer";return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(e,t){return{pre:function(e,t,n,a){var l=a[0];var s=a[1];e.grid=l.grid;e.colContainer=s.colContainer;s.footer=t;var d=e.grid.options.footerTemplate?e.grid.options.footerTemplate:o;r.getTemplate(d).then(function(r){var n=angular.element(r);var o=i(n)(e);t.append(o);if(s){var a=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(a){s.footerViewport=a}}})},post:function(e,i,t,n){var o=n[0];var a=n[1];var l=o.grid;r.disableAnimations(i);a.footer=i;var s=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(s){a.footerViewport=s}}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,i,t){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:true,require:"?^uiGrid",scope:false,compile:function(i,n){return{pre:function(i,n,o,a){var l=i.grid.options.groupPanelTemplate||r;t.getTemplate(l).then(function(t){var r=angular.element(t);var o=e(r)(i);n.append(o)})},post:function(e,i,t,r){i.bind("$destroy",function(){})}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,i,t,r,n,o){var a=500;var l={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:true,compile:function(){return{pre:function(i,t,r){var n=e(i.col.headerCellTemplate)(i);t.append(n)},post:function(e,t,r,n){var l=n[0];var s=n[1];e.grid=l.grid;e.renderContainer=l.grid.renderContainers[s.containerId];t.addClass(e.col.getColClass(false));e.menuShown=false;e.asc=o.ASC;e.desc=o.DESC;var d=angular.element(t[0].querySelectorAll(".ui-grid-header-cell-menu"));var u=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents"));var c;var f=function(i){var r=t;if(c){r.removeClass(c);c=null}if(angular.isFunction(e.col.headerCellClass)){c=e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex)}else{c=e.col.headerCellClass}r.addClass(c)};if(e.col.headerCellClass){f()}var p=e.grid.registerDataChangeCallback(f,[o.dataChange.COLUMN]);var g=function(){e.grid.deregisterDataChangeCallback(p)};e.$on("$destroy",g);if(l.grid.options.enableSorting&&e.col.enableSorting){e.sortable=true}else{e.sortable=false}if(l.grid.options.enableFiltering&&e.col.enableFiltering){e.filterable=true}else{e.filterable=false}function h(i){var t=false;if(i.shiftKey){t=true}l.grid.sortColumn(e.col,t).then(function(){if(l.columnMenuScope){l.columnMenuScope.hideMenu()}l.grid.refresh()})}var v;var m=0;u.on("mousedown touchstart",function(r){if(typeof r.originalEvent!=="undefined"&&r.originalEvent!==undefined){r=r.originalEvent}if(r.button&&r.button!==0){return}m=(new Date).getTime();v=i(function(){},a);v.then(function(){if(e.col.grid.options&&e.col.grid.options.enableColumnMenus!==false&&e.col.colDef&&e.col.colDef.enableColumnMenu!==false){l.columnMenuScope.showMenu(e.col,t,r)}})});u.on("mouseup touchend",function(){i.cancel(v)});e.$on("$destroy",function(){u.off("mousedown touchstart")});e.toggleMenu=function(i){i.stopPropagation();if(l.columnMenuScope.menuShown){if(l.columnMenuScope.col===e.col){l.columnMenuScope.hideMenu()}else{l.columnMenuScope.showMenu(e.col,t)}}else{l.columnMenuScope.showMenu(e.col,t)}};if(e.sortable){u.on("click touchend",function(e){e.stopPropagation();i.cancel(v);var t=(new Date).getTime();var r=t-m;if(r>a){}else{h(e)}});e.$on("$destroy",function(){i.cancel(v)})}if(e.filterable){var C=[];angular.forEach(e.col.filters,function(i,t){C.push(e.$watch("col.filters["+t+"].term",function(e,i){l.grid.api.core.raise.filterChanged();l.grid.refresh().then(function(){if(l.prevScrollArgs&&l.prevScrollArgs.y&&l.prevScrollArgs.y.percentage){l.fireScrollingEvent({y:{percentage:l.prevScrollArgs.y.percentage}})}})}))});e.$on("$destroy",function(){angular.forEach(C,function(e){e()})})}}}}};return l}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,r,n){var o="ui-grid/ui-grid-header";var a="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(e,t){return{pre:function(e,t,n,l){var s=l[0];var d=l[1];e.grid=s.grid;e.colContainer=d.colContainer;d.header=t;d.colContainer.header=t;var u;if(e.grid.options.hideHeader){u=a}else{u=e.grid.options.headerTemplate?e.grid.options.headerTemplate:o}r.getTemplate(u).then(function(r){var n=angular.element(r);var o=i(n)(e);t.replaceWith(o);d.header=o;d.colContainer.header=o;t=o;if(d){var a=t[0].getElementsByClassName("ui-grid-header-viewport")[0];if(a){d.headerViewport=a}}})},post:function(e,i,t,n){var o=n[0];var a=n[1];var l=o.grid;r.disableAnimations(i);function s(){var e=a.colContainer.getViewportWidth();if(typeof o.grid.verticalScrollbarWidth!=="undefined"&&o.grid.verticalScrollbarWidth!==undefined&&o.grid.verticalScrollbarWidth>0){e=e+o.grid.verticalScrollbarWidth}var i=a.colContainer.visibleColumnCache,t=0,n=0,s=false;var d=function(i){if(i.widthType==="manual"){return+i.width}else if(i.widthType==="percent"){return parseInt(i.width.replace(/%/g,""),10)*e/100}else if(i.widthType==="auto"){var t=parseInt(e/n,10);return i.width.length*t}};i.forEach(function(e){e.widthType=null;if(isFinite(+e.width)){e.widthType="manual"}else if(r.endsWith(e.width,"%")){e.widthType="percent";s=true}else if(angular.isString(e.width)&&e.width.indexOf("*")!==-1){e.widthType="auto";n+=e.width.length;s=true}});var u=["manual","percent","auto"];i.filter(function(e){return e.visible&&e.widthType}).sort(function(e,i){return u.indexOf(e.widthType)-u.indexOf(i.widthType)}).forEach(function(e){var i=d(e);if(e.minWidth){i=Math.max(i,e.minWidth)}if(e.maxWidth){i=Math.min(i,e.maxWidth)}e.drawnWidth=Math.floor(i);t+=e.drawnWidth});var c=e-t;if(s&&c>0&&t>0&&t<e){var f=c;var p=function(e){if(c>0&&e.widthType==="auto"||e.widthType==="percent"){e.drawnWidth=e.drawnWidth+1;t=t+1;c--}};while(c>0&&c!==f){f=c;i.forEach(p)}}t=Math.max(t,e);var g="";i.forEach(function(e){g=g+e.getColClassDefinition()});if(l.verticalScrollbarWidth){t=t+l.verticalScrollbarWidth}if(i.length>0){i[i.length-1].headerWidth=i[i.length-1].drawnWidth-30}a.colContainer.canvasWidth=parseInt(t,10);return g}a.header=i;var d=i[0].getElementsByClassName("ui-grid-header-viewport")[0];if(d){a.headerViewport=d}if(o){o.grid.registerStyleComputation({priority:5,func:s})}}}}}}])})();(function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService",function(e,i){var t={initialize:function(e,i){i.gridMenuScope=e;e.grid=i;e.registeredMenuItems=[];e.$on("$destroy",function(){if(e.grid&&e.grid.gridMenuScope){e.grid.gridMenuScope=null}if(e.grid){e.grid=null}if(e.registeredMenuItems){e.registeredMenuItems=null}});e.registeredMenuItems=[];i.api.registerMethod("core","addToGridMenu",t.addToGridMenu);i.api.registerMethod("core","removeFromGridMenu",t.removeFromGridMenu)},addToGridMenu:function(i,t){if(!angular.isArray(t)){e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")}else{if(i.gridMenuScope){i.gridMenuScope.registeredMenuItems=i.gridMenuScope.registeredMenuItems?i.gridMenuScope.registeredMenuItems:[];i.gridMenuScope.registeredMenuItems=i.gridMenuScope.registeredMenuItems.concat(t)}else{e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid")}}},removeFromGridMenu:function(i,t){var r=-1;if(i&&i.gridMenuScope){i.gridMenuScope.registeredMenuItems.forEach(function(i,n){if(i.id===t){if(r>-1){e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last")}else{r=n}}})}if(r>-1){i.gridMenuScope.registeredMenuItems.splice(r,1)}},getMenuItems:function(i){var r=[];if(i.grid.options.gridMenuCustomItems){if(!angular.isArray(i.grid.options.gridMenuCustomItems)){e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")}else{r=r.concat(i.grid.options.gridMenuCustomItems)}}r=r.concat(i.registeredMenuItems);if(i.grid.options.gridMenuShowHideColumns!==false){r=r.concat(t.showHideColumns(i))}return r},showHideColumns:function(e){var r=[];if(!e.grid.options.columnDefs||e.grid.options.columnDefs.length===0||e.grid.columns.length===0){return r}r.push({title:i.getSafeText("gridMenu.columns")});e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e};e.grid.options.columnDefs.forEach(function(i,n){if(i.enableHiding!==false){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation();t.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===true||this.context.gridCol.colDef.visible===undefined},context:{gridCol:e.grid.getColumn(i.name||i.field)}};t.setMenuItemTitle(o,i,e.grid);r.push(o);o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation();t.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===true||this.context.gridCol.colDef.visible===undefined)},context:{gridCol:e.grid.getColumn(i.name||i.field)}};t.setMenuItemTitle(o,i,e.grid);r.push(o)}});return r},setMenuItemTitle:function(i,t,r){var n=r.options.gridMenuTitleFilter(t.displayName||t.name||t.field);if(typeof n==="string"){i.title=n}else if(n.then){i.title="";n.then(function(e){i.title=e},function(e){i.title=e})}else{e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config");i.title="badconfig"}},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===true||e.colDef.visible===undefined);e.grid.refresh()}};return t}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,i,t){return{priority:0,scope:true,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:true,link:function(e,i,r,n){var o=n[0];t.initialize(e,o.grid);e.shown=false;e.toggleMenu=function(){if(e.shown){e.$broadcast("hide-menu");e.shown=false}else{e.menuItems=t.getMenuItems(e);e.$broadcast("show-menu");e.shown=true}};e.$on("menu-hidden",function(){e.shown=false})}}}])})();(function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,i,t,r,n,o){var a={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:false,link:function(e,r,a,l){var s=this;var d;var u;s.showMenu=e.showMenu=function(t,o){if(!e.shown){e.shown=true;i(function(){d=r[0].querySelectorAll(".ui-grid-menu-mid");u=n.enableAnimations(d);if(u){e.shownMid=true;u.removeClass(d,"ng-hide",function(){e.$emit("menu-shown")})}else{e.shownMid=true;e.$emit("menu-shown")}})}else if(!e.shownMid){d=r[0].querySelectorAll(".ui-grid-menu-mid");u=n.enableAnimations(d);if(u){e.shownMid=true;u.removeClass(d,"ng-hide",function(){e.$emit("menu-shown")})}else{e.shownMid=true;e.$emit("menu-shown")}}var a="click";if(o&&o.originalEvent&&o.originalEvent.type&&o.originalEvent.type==="touchstart"){a=o.originalEvent.type}angular.element(document).off("click touchstart",c);i(function(){angular.element(document).on(a,c)})};s.hideMenu=e.hideMenu=function(i,t){if(e.shown){d=r[0].querySelectorAll(".ui-grid-menu-mid");u=n.enableAnimations(d);if(u){e.shownMid=false;u.addClass(d,"ng-hide",function(){if(!e.shownMid){e.shown=false;e.$emit("menu-hidden")}})}else{e.shownMid=false;e.shown=false}}angular.element(document).off("click touchstart",c)};e.$on("hide-menu",function(i,t){e.hideMenu(i,t)});e.$on("show-menu",function(i,t){e.showMenu(i,t)});var c=function(){e.$apply(function(){e.hideMenu()})};if(typeof e.autoHide==="undefined"||e.autoHide===undefined){e.autoHide=true}if(e.autoHide){angular.element(t).on("resize",c)}e.$on("$destroy",function(){angular.element(document).off("click touchstart",c)});e.$on("$destroy",function(){angular.element(t).off("resize",c)});e.$on("$destroy",e.$on(o.events.GRID_SCROLL,c));e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,c))},controller:["$scope","$element","$attrs",function(e,i,t){var r=this}]};return a}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,i,t){var r={priority:0,scope:{title:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:true,compile:function(r,n){return{pre:function(t,r,n,o){var a=o[0],l=o[1];if(t.templateUrl){e.getTemplate(t.templateUrl).then(function(e){var n=angular.element(e);var o=i(n)(t);r.replaceWith(o)})}},post:function(e,i,r,n){var o=n[0],a=n[1];if(typeof e.shown==="undefined"||e.shown===null){e.shown=function(){return true}}e.itemShown=function(){var i={};if(e.context){i.context=e.context}if(typeof o!=="undefined"&&o){i.grid=o.grid}return e.shown.call(i)};e.itemAction=function(i,t){i.stopPropagation();if(typeof e.action==="function"){var r={};if(e.context){r.context=e.context}if(typeof o!=="undefined"&&o){r.grid=o.grid}e.action.call(r,i,t);e.$emit("hide-menu")}};e.i18n=t.get()}}}};return r}])})();(function(){angular.module("ui.grid").directive("uiGridNativeScrollbar",["$timeout","$document","uiGridConstants","gridUtil",function(e,i,t,r){var n=r.getScrollbarWidth();if(!angular.isNumber(n)){n=0}var o=r.detectBrowser();if(o==="ie"){n=n+1}return{scope:{type:"@"},require:["^uiGrid","^uiGridRenderContainer"],link:function(e,i,o,a){var l=a[0];var s=a[1];var d=s.rowContainer;var u=s.colContainer;var c=l.grid;var f=angular.element('<div class="contents">&nbsp;</div>');i.addClass("ui-grid-native-scrollbar");var p;var g=0;if(e.type==="vertical"){i.css("width",n+"px");i.addClass("vertical");c.verticalScrollbarWidth=n;u.verticalScrollbarWidth=n;p=i[0].scrollTop}else if(e.type==="horizontal"){i.css("height",n+"px");i.addClass("horizontal");c.horizontalScrollbarHeight=n;d.horizontalScrollbarHeight=n;p=r.normalizeScrollLeft(i)}i.append(f);if(e.type==="vertical"){g=r.elementHeight(i)}else if(e.type==="horizontal"){g=r.elementWidth(i)}function h(){var e=d.getViewportHeight();var i=d.getCanvasHeight();var t=u.headerHeight?u.headerHeight:c.headerHeight;var r=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.vertical .contents { height: "+i+"px; }";r+="\n .grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.vertical { height: "+e+"px; top: "+t+"px}";g=i;return r}var v=r.closestElm(i,".ui-grid");var m=r.getBorderSize(v,"bottom");function C(){var e=u.getCanvasWidth();var i=n*-1+m;if(c.options.showFooter){i-=1}var t=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.horizontal { bottom: "+i+"px; }";t+=".grid"+c.id+" .ui-grid-render-container-"+s.containerId+" .ui-grid-native-scrollbar.horizontal .contents { width: "+e+"px; }";g=e;return t}if(e.type==="vertical"){c.registerStyleComputation({priority:6,func:h})}else if(e.type==="horizontal"){c.registerStyleComputation({priority:6,func:C})}e.scrollSource=null;function w(t){if(e.type==="vertical"){c.flagScrollingVertically();var n=i[0].scrollTop;var o=p-n;var a=d.getCanvasHeight()-d.getViewportHeight();if(c.horizontalScrollbarHeight&&c.horizontalScrollbarHeight>0){a=a-l.grid.horizontalScrollbarHeight}var s=n/a;if(s>1){s=1}if(s<0){s=0}var f={target:i,y:{percentage:s}};if(!e.scrollSource){l.fireScrollingEvent(f)}else{e.scrollSource=null}p=n}else if(e.type==="horizontal"){c.flagScrollingHorizontally();var g=r.normalizeScrollLeft(i);var h=p-g;var v=u.getCanvasWidth()-u.getViewportWidth();var m=g/v;var C={target:i,x:{percentage:m}};if(!e.scrollSource){l.fireScrollingEvent(C)}else{e.scrollSource=null}p=g}}i.on("scroll",w);i.on("$destroy",function(){i.off("scroll")});function b(t,n){if(n.target&&(n.target===i||angular.element(n.target).hasClass("ui-grid-native-scrollbar"))){return}e.scrollSource=n.target;if(e.type==="vertical"){if(n.y&&typeof n.y.percentage!=="undefined"&&n.y.percentage!==undefined){c.flagScrollingVertically();var o=d.getCanvasHeight()-d.getViewportHeight();var a=Math.max(0,n.y.percentage*o);i[0].scrollTop=a}}else if(e.type==="horizontal"){if(n.x&&typeof n.x.percentage!=="undefined"&&n.x.percentage!==undefined){c.flagScrollingHorizontally();var l=u.getCanvasWidth()-u.getViewportWidth();var s=Math.max(0,n.x.percentage*l);i[0].scrollLeft=r.denormalizeScrollLeft(i,s)}}}var y=e.$on(t.events.GRID_SCROLL,b);e.$on("$destroy",y)}}}])})();(function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil",function(e,i,t,r){return{replace:true,transclude:true,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableScrollbars:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function n(e,i,t,r){var n=r[0];var o=r[1];var a=e.grid=n.grid;if(!e.rowContainerName){throw"No row render container name specified"}if(!e.colContainerName){throw"No column render container name specified"}if(!a.renderContainers[e.rowContainerName]){throw"Row render container '"+e.rowContainerName+"' is not registered."}if(!a.renderContainers[e.colContainerName]){throw"Column render container '"+e.colContainerName+"' is not registered."}var l=e.rowContainer=a.renderContainers[e.rowContainerName];var s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId;o.rowContainer=l;o.colContainer=s},post:function o(n,a,l,s){var d=s[0];var u=s[1];var c=d.grid;var f=u.rowContainer;var p=u.colContainer;var g=c.renderContainers[n.containerId];a.addClass("ui-grid-render-container-"+n.containerId);var h;if(n.bindScrollHorizontal||n.bindScrollVertical){h=n.$on(t.events.GRID_SCROLL,v)}function v(e,i){if(i.y&&n.bindScrollVertical){u.prevScrollArgs=i;var t=f.getCanvasHeight()-f.getViewportHeight();if(c.horizontalScrollbarHeight&&c.horizontalScrollbarHeight>0){t=t+c.horizontalScrollbarHeight}var o=u.viewport[0].scrollTop;var a;if(typeof i.y.percentage!=="undefined"&&i.y.percentage!==undefined){a=i.y.percentage}else if(typeof i.y.pixels!=="undefined"&&i.y.pixels!==undefined){a=i.y.percentage=(o+i.y.pixels)/t}else{throw new Error("No percentage or pixel value provided for scroll event Y axis")}var l=Math.max(0,a*t);u.viewport[0].scrollTop=l;u.prevScrollArgs.y.pixels=l-o}if(i.x&&n.bindScrollHorizontal){u.prevScrollArgs=i;var s=p.getCanvasWidth()-p.getViewportWidth();var d=r.normalizeScrollLeft(u.viewport);var g;if(typeof i.x.percentage!=="undefined"&&i.x.percentage!==undefined){g=i.x.percentage}else if(typeof i.x.pixels!=="undefined"&&i.x.pixels!==undefined){g=i.x.percentage=(d+i.x.pixels)/s}else{throw new Error("No percentage or pixel value provided for scroll event X axis")}var h=Math.max(0,g*s);u.viewport[0].scrollLeft=r.denormalizeScrollLeft(u.viewport,h);u.prevScrollLeft=h;if(u.headerViewport){u.headerViewport.scrollLeft=r.denormalizeScrollLeft(u.headerViewport,h)}if(u.footerViewport){u.footerViewport.scrollLeft=r.denormalizeScrollLeft(u.footerViewport,h)}u.prevScrollArgs.x.pixels=h-d}}a.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var i=r.normalizeWheelEvent(e);var t={target:a};if(i.deltaY!==0){var n=i.deltaY*-120;var o=(u.viewport[0].scrollTop+n)/(f.getCanvasHeight()-f.getViewportHeight());if(o<0){o=0}else if(o>1){o=1}t.y={percentage:o,pixels:n}}if(i.deltaX!==0){var l=i.deltaX*-120;var s=r.normalizeScrollLeft(u.viewport);var c=(s+l)/(p.getCanvasWidth()-p.getViewportWidth());if(c<0){c=0}else if(c>1){c=1}t.x={percentage:c,pixels:l}}d.fireScrollingEvent(t)});var m=0,C=0,w=0,b=0,y=1,S=1,E;function x(e){if(e.originalEvent){e=e.originalEvent}e.preventDefault();var i,t,r,n;r=e.targetTouches[0].screenX;n=e.targetTouches[0].screenY;i=-(r-C);t=-(n-m);y=t<1?-1:1;S=i<1?-1:1;t*=2;i*=2;var o={target:e.target};if(t!==0){var a=(w+t)/(f.getCanvasHeight()-f.getViewportHeight());if(a>1){a=1}else if(a<0){a=0}o.y={percentage:a,pixels:t}}if(i!==0){var l=(b+i)/(p.getCanvasWidth()-p.getViewportWidth());if(l>1){l=1}else if(l<0){l=0}o.x={percentage:l,pixels:i}}d.fireScrollingEvent(o)}function R(t){if(t.originalEvent){t=t.originalEvent}t.preventDefault();i.unbind("touchmove",x);i.unbind("touchend",R);i.unbind("touchcancel",R);var r=u.viewport[0].scrollTop;var n=u.viewport[0].scrollTop;var o=Math.abs(r-w);var a=Math.abs(n-b);var l=new Date-E;var s=o/l;var c=a/l;var g=63;var h=8;var v=120*y*s;var m=120*S*c;function C(){e(function(){var e={target:t.target};if(v!==0){var i=(u.viewport[0].scrollTop+v)/(f.getCanvasHeight()-f.getViewportHeight());e.y={percentage:i,pixels:v}}if(m!==0){var r=(u.viewport[0].scrollLeft+m)/(p.getCanvasWidth()-p.getViewportWidth());e.x={percentage:r,pixels:m}}d.fireScrollingEvent(e);h=h-1;v=v/2;m=m/2;if(h>0){C()}else{d.scrollbars.forEach(function(e){e.removeClass("ui-grid-scrollbar-visible");e.removeClass("ui-grid-scrolling")})}},g)}C()}if(r.isTouchEnabled()){a.bind("touchstart",function(e){if(e.originalEvent){e=e.originalEvent}e.preventDefault();d.scrollbars.forEach(function(e){e.addClass("ui-grid-scrollbar-visible");e.addClass("ui-grid-scrolling")});E=new Date;m=e.targetTouches[0].screenY;C=e.targetTouches[0].screenX;w=u.viewport[0].scrollTop;b=u.viewport[0].scrollLeft;i.on("touchmove",x);i.on("touchend touchcancel",R)})}a.bind("$destroy",function(){h();a.unbind("keydown");["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){a.unbind(e)})});function T(){var e="";var i=p.getCanvasWidth();var t=p.getViewportWidth();var r=f.getCanvasHeight();var o=f.getViewportHeight();var a=p.getHeaderViewportWidth();var l=p.getHeaderViewportWidth();e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+r+"px; }";e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { width: "+i+"px; }";e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-viewport { width: "+t+"px; height: "+o+"px; }";e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-viewport { width: "+a+"px; }";e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-canvas { width: "+i+"px; }";e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }";if(g.explicitHeaderHeight!==undefined&&g.explicitHeaderHeight!==null&&g.explicitHeaderHeight>0){e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-cell { height: "+g.explicitHeaderHeight+"px; }"}else if(g.innerHeaderHeight!==undefined&&g.innerHeaderHeight!==null&&g.innerHeaderHeight>0){e+="\n .grid"+d.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-cell { height: "+g.innerHeaderHeight+"px; }"}return e}d.grid.registerStyleComputation({priority:6,func:T})}}}}}]);e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,i){var t=this;t.rowStyle=function(i){var r=e.grid.renderContainers[e.containerId];var n={};if(!r.disableRowOffset){if(i===0&&t.currentTopRow!==0){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;n["margin-top"]=o+"px"}}if(!r.disableColumnOffset&&e.colContainer.currentFirstColumn!==0){if(e.grid.isRTL()){n["margin-right"]=e.colContainer.columnOffset+"px"}else{n["margin-left"]=e.colContainer.columnOffset+"px"}}return n};t.columnStyle=function(i){var t=e.grid.renderContainers[e.containerId];var r=this;if(!t.disableColumnOffset){if(i===0&&e.colContainer.currentFirstColumn!==0){var n=e.colContainer.columnOffset;if(e.grid.isRTL()){return{"margin-right":n+"px"}}else{return{"margin-left":n+"px"}
}}}return null}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,i,t,r){var n=r[0];var o=r[1];var a=n.grid;e.grid=n.grid;e.colContainer=o.colContainer;a.getRowTemplateFn.then(function(t){t(e,function(e,t){i.replaceWith(e)})})},post:function(e,i,t,r){var n=r[0];var o=r[1];e.getExternalScopes=n.getExternalScopes}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,i){return{link:function(e,t,r,n){var o=i(t.text(),true);if(o){e.$watch(o,function(e){t.text(e)})}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil",function(e){return{replace:true,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,t,r,n){var o=n[0];var a=n[1];i.containerCtrl=a;var l=a.rowContainer;var s=a.colContainer;var d=o.grid;i.grid=o.grid;i.rowContainer=a.rowContainer;i.colContainer=a.colContainer;a.viewport=t;t.on("scroll",function(r){var n=t[0].scrollTop;var a=e.normalizeScrollLeft(t);var d=-1;var u=-1;if(a!==s.prevScrollLeft){var c=a-s.prevScrollLeft;var f=s.getCanvasWidth()-s.getViewportWidth();d=a/f;s.adjustScrollHorizontal(a,d)}if(n!==l.prevScrollTop){var p=n-l.prevScrollTop;var g=l.getCanvasHeight()-l.getViewportHeight();u=n/g;if(u>1){u=1}if(u<0){u=0}l.adjustScrollVertical(n,u)}if(!i.grid.isScrollingVertically&&!i.grid.isScrollingHorizontally){var h={};if(d>-1){h.x={percentage:d}}if(u>-1){h.y={percentage:u}}o.fireScrollingEvent(h)}})}}}])})();(function(){angular.module("ui.grid").directive("uiGridVisible",function e(){return function(e,i,t){e.$watch(t.uiGridVisible,function(e){i[e?"removeClass":"addClass"]("ui-grid-invisible")})}})})();(function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,i,t,r,n,o,a,l,s,d,u){var c=this;c.grid=l.createGrid(e.uiGrid);i.addClass("grid"+c.grid.id);c.grid.rtl=r.getStyles(i[0])["direction"]==="rtl";c.getExternalScopes=e.getExternalScopes;e.grid=c.grid;if(t.uiGridColumns){t.$observe("uiGridColumns",function(e){c.grid.options.columnDefs=e;c.grid.buildColumns().then(function(){c.grid.preCompileCellTemplates();c.grid.refreshCanvas(true)})})}var f;if(angular.isString(e.uiGrid.data)){f=e.$parent.$watchCollection(e.uiGrid.data,h)}else{f=e.$parent.$watchCollection(function(){return e.uiGrid.data},h)}var p=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},g);function g(e,i){if(e&&e!==i){c.grid.options.columnDefs=e;c.grid.buildColumns().then(function(){c.grid.preCompileCellTemplates();c.grid.callDataChangeCallbacks(o.dataChange.COLUMN);c.grid.refresh()})}}function h(i){var r=[];if(i){if(c.grid.columns.length===(c.grid.rowHeaderColumns?c.grid.rowHeaderColumns.length:0)){if(!t.uiGridColumns&&c.grid.options.columnDefs.length===0){c.grid.buildColumnDefsFromData(i)}r.push(c.grid.buildColumns().then(function(){c.grid.preCompileCellTemplates()}))}n.all(r).then(function(){c.grid.modifyRows(i).then(function(){c.grid.redrawInPlace();e.$evalAsync(function(){c.grid.refreshCanvas(true);c.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}e.$on("$destroy",function(){f();p()});e.$watch(function(){return c.grid.styleComputations},function(){c.grid.refreshCanvas(true)});c.fireScrollingEvent=r.throttle(function(i){e.$broadcast(o.events.GRID_SCROLL,i)},c.grid.options.scrollThrottle,{trailing:true});c.fireEvent=function(i,t){if(typeof t==="undefined"||t===undefined){t={}}if(typeof t.grid==="undefined"||t.grid===undefined){t.grid=c.grid}e.$broadcast(i,t)};c.innerCompile=function v(i){u(i)(e)}}]);angular.module("ui.grid").directive("uiGrid",["$compile","$templateCache","gridUtil","$window",function(e,i,t,r){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"=",getExternalScopes:"&?externalScopes"},replace:true,transclude:true,controller:"uiGridController",compile:function(){return{post:function(e,i,n,o){var a=o.grid;o.scrollbars=[];a.renderingComplete();a.element=i;a.gridWidth=e.gridWidth=t.elementWidth(i);a.canvasWidth=o.grid.gridWidth;a.gridHeight=e.gridHeight=t.elementHeight(i);if(a.gridHeight<a.options.rowHeight){var l=a.options.minRowsToShow*a.options.rowHeight;i.css("height",l+"px");a.gridHeight=e.gridHeight=t.elementHeight(i)}a.refreshCanvas();var s=angular.element('<div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div>');i.prepend(s);o.innerCompile(s);var d=angular.element('<div  ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div>');i.append(d);o.innerCompile(d);e.$watch(function(){return a.hasLeftContainer()},function(e,i){if(e===i){return}a.refreshCanvas(true)});e.$watch(function(){return a.hasRightContainer()},function(e,i){if(e===i){return}a.refreshCanvas(true)});function u(r){a.gridWidth=e.gridWidth=t.elementWidth(i);a.gridHeight=e.gridHeight=t.elementHeight(i);a.queueRefresh()}angular.element(r).on("resize",u);i.on("$destroy",function(){angular.element(r).off("resize",u)})}}}}}])})();(function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:true,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function i(){return{post:function(e,i,t,r){var n=r.grid;var o=0;i.addClass("ui-grid-pinned-container-"+e.side);function a(){if(e.side==="left"||e.side==="right"){var i=n.renderContainers[e.side].visibleColumnCache;var t=0;for(var r=0;r<i.length;r++){var a=i[r];t+=a.drawnWidth}o=t}}function l(){var t="";if(e.side==="left"||e.side==="right"){a();i.attr("style",null);var r=n.renderContainers.body.getViewportHeight();t+=".grid"+n.id+" .ui-grid-pinned-container-"+e.side+", .grid"+n.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+o+"px; height: "+r+"px; } "}return t}n.renderContainers.body.registerViewportAdjuster(function(e){if(o===0){a()}e.width-=o;return e});n.registerStyleComputation({priority:15,func:l})}}}}}])})();(function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,i,t,r,n,o,a,l,s,d,u,c,f){var p=function h(e){var i=this;if(e!==undefined&&typeof e.id!=="undefined"&&e.id){if(!/^[_a-zA-Z0-9-]+$/.test(e.id)){throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.')}}else{throw new Error("No ID provided. An ID must be given when creating a grid.")}i.id=e.id;delete e.id;i.options=new o;angular.extend(i.options,e);i.headerHeight=i.options.headerRowHeight;i.footerHeight=i.options.showFooter===true?i.options.footerRowHeight:0;i.rtl=false;i.gridHeight=0;i.gridWidth=0;i.columnBuilders=[];i.rowBuilders=[];i.rowsProcessors=[];i.columnsProcessors=[];i.styleComputations=[];i.viewportAdjusters=[];i.rowHeaderColumns=[];i.dataChangeCallbacks={};i.renderContainers={};i.renderContainers.body=new c("body",i);i.cellValueGetterCache={};i.getRowTemplateFn=null;i.rows=[];i.columns=[];i.isScrollingVertically=false;i.isScrollingHorizontally=false;var t=r.debounce(function(){i.isScrollingVertically=false},300);var n=r.debounce(function(){i.isScrollingHorizontally=false},300);i.flagScrollingVertically=function(){i.isScrollingVertically=true;t()};i.flagScrollingHorizontally=function(){i.isScrollingHorizontally=true;n()};i.api=new s(i);i.api.registerMethod("core","refresh",this.refresh);i.api.registerMethod("core","refreshRows",this.refreshRows);i.api.registerMethod("core","handleWindowResize",this.handleWindowResize);i.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn);i.api.registerMethod("core","sortHandleNulls",d.handleNulls);i.api.registerEvent("core","sortChanged");i.api.registerMethod("core","notifyDataChange",this.notifyDataChange)};p.prototype.isRTL=function(){return this.rtl};p.prototype.registerColumnBuilder=function v(e){this.columnBuilders.push(e)};p.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)};p.prototype.registerRowBuilder=function m(e){this.rowBuilders.push(e)};p.prototype.registerDataChangeCallback=function C(e,i){var t=r.nextUid();if(!i){i=[n.dataChange.ALL]}if(!Array.isArray(i)){r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+i)}this.dataChangeCallbacks[t]={callback:e,types:i};return t};p.prototype.deregisterDataChangeCallback=function w(e){delete this.dataChangeCallbacks[e]};p.prototype.callDataChangeCallbacks=function b(e){angular.forEach(this.dataChangeCallbacks,function(i,t){if(i.types.indexOf(n.dataChange.ALL)!==-1||i.types.indexOf(e)!==-1||e===n.dataChange.ALL){i.callback(this)}})};p.prototype.notifyDataChange=function y(e,i){var t=n.dataChange;if(i===t.ALL||i===t.COLUMN||i===t.EDIT||i===t.ROW){e.callDataChangeCallbacks(i)}else{r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+i)}};p.prototype.getColumn=function S(e){var i=this.columns.filter(function(i){return i.colDef.name===e});return i.length>0?i[0]:null};p.prototype.getColDef=function E(e){var i=this.options.columnDefs.filter(function(i){return i.name===e});return i.length>0?i[0]:null};p.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(i,t){if(!i.type){var n=new a(i,t,e);var o=e.rows.length>0?e.rows[0]:null;if(o){i.type=r.guessType(e.getCellValue(o,n))}else{r.logWarn("Unable to assign type from data, so defaulting to string");i.type="string"}}})};p.prototype.addRowHeaderColumn=function x(e){var i=this;var t=new a(e,i.rowHeaderColumns.length,i);t.isRowHeader=true;if(i.isRTL()){i.createRightContainer();t.renderContainer="right"}else{i.createLeftContainer();t.renderContainer="left"}i.columnBuilders[0](e,t,i.options).then(function(){t.enableFiltering=false;t.enableSorting=false;t.enableHiding=false;i.rowHeaderColumns.push(t);i.buildColumns().then(function(){i.preCompileCellTemplates();i.handleWindowResize()})})};p.prototype.buildColumns=function R(){var i=this;var t=[];var n=i.rowHeaderColumns.length;var o;for(o=0;o<i.columns.length;o++){if(!i.getColDef(i.columns[o].name)){i.columns.splice(o,1);o--}}i.rowHeaderColumns.forEach(function(e){i.columns.unshift(e)});i.options.columnDefs.forEach(function(e,o){i.preprocessColDef(e);var l=i.getColumn(e.name);if(!l){l=new a(e,r.nextUid(),i);i.columns.splice(o+n,0,l)}else{l.updateColumnDef(e)}i.columnBuilders.forEach(function(r){t.push(r.call(i,e,l,i.options))})});return e.all(t)};p.prototype.preCompileCellTemplates=function(){var e=this;this.columns.forEach(function(t){var r=t.cellTemplate.replace(n.MODEL_COL_FIELD,e.getQualifiedColField(t));r=r.replace(n.COL_FIELD,"grid.getCellValue(row, col)");var o=i(r);t.compiledElementFn=o;if(t.compiledElementFnDefer){t.compiledElementFnDefer.resolve(t.compiledElementFn)}})};p.prototype.getQualifiedColField=function(e){return"row.entity."+r.preEval(e.field)};p.prototype.createLeftContainer=function(){if(!this.hasLeftContainer()){this.renderContainers.left=new c("left",this,{disableColumnOffset:true})}};p.prototype.createRightContainer=function(){if(!this.hasRightContainer()){this.renderContainers.right=new c("right",this,{disableColumnOffset:true})}};p.prototype.hasLeftContainer=function(){return this.renderContainers.left!==undefined};p.prototype.hasRightContainer=function(){return this.renderContainers.right!==undefined};p.prototype.preprocessColDef=function T(e){if(!e.field&&!e.name){throw new Error("colDef.name or colDef.field property is required")}if(e.name===undefined&&e.field!==undefined){e.name=e.field}};p.prototype.newInN=function A(e,i,t,r){var n=this;var o=[];for(var a=0;a<i.length;a++){var l=r?i[a][r]:i[a];var s=false;for(var d=0;d<e.length;d++){var u=t?e[d][t]:e[d];if(n.options.rowEquality(l,u)){s=true;break}}if(!s){o.push(l)}}return o};p.prototype.getRow=function I(e){var i=this.rows.filter(function(i){return i.entity===e});return i.length>0?i[0]:null};p.prototype.modifyRows=function G(i){var t=this,r,n;if(t.rows.length===0&&i.length>0){if(t.options.enableRowHashing){if(!t.rowHashMap){t.createRowHashMap()}for(r=0;r<i.length;r++){n=i[r];t.rowHashMap.put(n,{i:r,entity:n})}}t.addRows(i);t.assignTypes()}else if(i.length>0){var o,a,l;if(t.options.enableRowHashing){o=[];l=[];var s={};a=[];if(!t.rowHashMap){t.createRowHashMap()}var d=t.rowHashMap;for(r=0;r<i.length;r++){n=i[r];var u=false;if(!t.options.getRowIdentity(n)){u=true}var c=d.get(n);if(c){if(c.row){s[t.options.rowIdentity(n)]=true}}else{d.put(n,{i:r,entity:n});if(u){l.push(n)}else{o.push(n)}}}for(r=0;r<t.rows.length;r++){var f=t.rows[r];var p=t.options.rowIdentity(f.entity);if(!s[p]){a.push(f)}}}var g=o||[];var h=l||i;g=g.concat(t.newInN(t.rows,h,"entity"));t.addRows(g);var v=t.getDeletedRows(a||t.rows,i);for(r=0;r<v.length;r++){if(t.options.enableRowHashing){t.rowHashMap.remove(v[r].entity)}t.rows.splice(t.rows.indexOf(v[r]),1)}}else{t.createRowHashMap();t.rows.length=0}var m=e.when(t.processRowsProcessors(t.rows)).then(function(e){return t.setVisibleRows(e)});var C=e.when(t.processColumnsProcessors(t.columns)).then(function(e){return t.setVisibleColumns(e)});return e.all([m,C])};p.prototype.getDeletedRows=function(e,i){var t=this;var r=e.filter(function(e){return!i.some(function(i){return t.options.rowEquality(i,e.entity)})});return r};p.prototype.addRows=function M(e){var i=this;var t=i.rows.length;for(var r=0;r<e.length;r++){var n=i.processRowBuilders(new l(e[r],r+t,i));if(i.options.enableRowHashing){var o=i.rowHashMap.get(n.entity);if(o){o.row=n}}i.rows.push(n)}};p.prototype.processRowBuilders=function D(e){var i=this;i.rowBuilders.forEach(function(t){t.call(i,e,i.gridOptions)});return e};p.prototype.registerStyleComputation=function L(e){this.styleComputations.push(e)};p.prototype.registerRowsProcessor=function $(e){if(!angular.isFunction(e)){throw"Attempt to register non-function rows processor: "+e}this.rowsProcessors.push(e)};p.prototype.removeRowsProcessor=function P(e){var i=this.rowsProcessors.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.rowsProcessors.splice(i,1)}};p.prototype.processRowsProcessors=function k(i){var t=this;var r=i.slice(0);if(t.rowsProcessors.length===0){return e.when(r)}var n=0;var o=e.defer();function a(i,r){var n=t.rowsProcessors[i];return e.when(n.call(t,r,t.columns)).then(function l(e){if(!e){throw"Processor at index "+i+" did not return a set of renderable rows"}if(!angular.isArray(e)){throw"Processor at index "+i+" did not return an array"}i++;if(i<=t.rowsProcessors.length-1){return a(i,e)}else{o.resolve(e)}})}a(0,r);return o.promise};p.prototype.setVisibleRows=function H(e){var i=this;for(var t in i.renderContainers){var r=i.renderContainers[t];r.visibleRowCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];if(o.visible){if(typeof o.renderContainer!=="undefined"&&o.renderContainer){i.renderContainers[o.renderContainer].visibleRowCache.push(o)}else{i.renderContainers.body.visibleRowCache.push(o)}}}};p.prototype.registerColumnsProcessor=function F(e){if(!angular.isFunction(e)){throw"Attempt to register non-function rows processor: "+e}this.columnsProcessors.push(e)};p.prototype.removeColumnsProcessor=function N(e){var i=this.columnsProcessors.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.columnsProcessors.splice(i,1)}};p.prototype.processColumnsProcessors=function O(i){var t=this;var r=i.slice(0);if(t.columnsProcessors.length===0){return e.when(r)}var n=0;var o=e.defer();function a(i,n){var l=t.columnsProcessors[i];return e.when(l.call(t,n,t.rows)).then(function s(e){if(!e){throw"Processor at index "+i+" did not return a set of renderable rows"}if(!angular.isArray(e)){throw"Processor at index "+i+" did not return an array"}i++;if(i<=t.columnsProcessors.length-1){return a(i,r)}else{o.resolve(r)}})}a(0,r);return o.promise};p.prototype.setVisibleColumns=function W(e){var i=this;for(var t in i.renderContainers){var r=i.renderContainers[t];r.visibleColumnCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];if(o.visible){if(typeof o.renderContainer!=="undefined"&&o.renderContainer){i.renderContainers[o.renderContainer].visibleColumnCache.push(o)}else{i.renderContainers.body.visibleColumnCache.push(o)}}}};p.prototype.handleWindowResize=function V(e){var i=this;i.gridWidth=r.elementWidth(i.element);i.gridHeight=r.elementHeight(i.element);i.queueRefresh()};p.prototype.queueRefresh=function z(){var e=this;if(e.refreshCanceller){f.cancel(e.refreshCanceller)}e.refreshCanceller=f(function(){e.refreshCanvas(true)});e.refreshCanceller.then(function(){e.refreshCanceller=null});return e.refreshCanceller};p.prototype.buildStyles=function _(){var e=this;e.customStyles="";e.styleComputations.sort(function(e,i){if(e.priority===null){return 1}if(i.priority===null){return-1}if(e.priority===null&&i.priority===null){return 0}return e.priority-i.priority}).forEach(function(i){var t=i.func.call(e);if(angular.isString(t)){e.customStyles+="\n"+t}})};p.prototype.minColumnsToRender=function j(){var e=this;var i=this.getViewportWidth();var t=0;var r=0;e.columns.forEach(function(n,o){if(r<i){r+=n.drawnWidth;t++}else{var a=0;for(var l=o;l>=o-t;l--){a+=e.columns[l].drawnWidth}if(a<i){t++}}});return t};p.prototype.getBodyHeight=function U(){var e=this.getViewportHeight();if(typeof this.horizontalScrollbarHeight!=="undefined"&&this.horizontalScrollbarHeight!==undefined&&this.horizontalScrollbarHeight>0){e=e+this.horizontalScrollbarHeight}return e};p.prototype.getViewportHeight=function B(){var e=this;var i=this.gridHeight-this.headerHeight-this.footerHeight;if(typeof this.horizontalScrollbarHeight!=="undefined"&&this.horizontalScrollbarHeight!==undefined&&this.horizontalScrollbarHeight>0){i=i-this.horizontalScrollbarHeight}var t=e.getViewportAdjustment();i=i+t.height;return i};p.prototype.getViewportWidth=function q(){var e=this;var i=this.gridWidth;if(typeof this.verticalScrollbarWidth!=="undefined"&&this.verticalScrollbarWidth!==undefined&&this.verticalScrollbarWidth>0){i=i-this.verticalScrollbarWidth}var t=e.getViewportAdjustment();i=i+t.width;return i};p.prototype.getHeaderViewportWidth=function K(){var e=this.getViewportWidth();if(typeof this.verticalScrollbarWidth!=="undefined"&&this.verticalScrollbarWidth!==undefined&&this.verticalScrollbarWidth>0){e=e+this.verticalScrollbarWidth}return e};p.prototype.registerViewportAdjuster=function J(e){this.viewportAdjusters.push(e)};p.prototype.removeViewportAdjuster=function X(e){var i=this.viewportAdjusters.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.viewportAdjusters.splice(i,1)}};p.prototype.getViewportAdjustment=function Y(){var e=this;var i={height:0,width:0};e.viewportAdjusters.forEach(function(e){i=e.call(this,i)});return i};p.prototype.getVisibleRowCount=function Q(){return this.renderContainers.body.visibleRowCache.length};p.prototype.getVisibleRows=function Z(){return this.renderContainers.body.visibleRowCache};p.prototype.getVisibleColumnCount=function ei(){return this.renderContainers.body.visibleColumnCache.length};p.prototype.searchRows=function ii(e){return u.search(this,e,this.columns)};p.prototype.sortByColumn=function ti(e){return d.sort(this,e,this.columns)};p.prototype.getCellValue=function ri(e,i){var r=this;if(!r.cellValueGetterCache[i.colDef.name]){r.cellValueGetterCache[i.colDef.name]=t(e.getEntityQualifiedColField(i))}return r.cellValueGetterCache[i.colDef.name](e)};p.prototype.getNextColumnSortPriority=function ni(){var e=this,i=0;e.columns.forEach(function(e){if(e.sort&&e.sort.priority&&e.sort.priority>i){i=e.sort.priority}});return i+1};p.prototype.resetColumnSorting=function oi(e){var i=this;i.columns.forEach(function(i){if(i!==e){i.sort={}}})};p.prototype.getColumnSorting=function ai(){var e=this;var i=[],t;t=e.columns.slice(0);t.sort(d.prioritySort).forEach(function(e){if(e.sort&&typeof e.sort.direction!=="undefined"&&e.sort.direction&&(e.sort.direction===n.ASC||e.sort.direction===n.DESC)){i.push(e)}});return i};p.prototype.sortColumn=function li(i,t,r){var o=this,a=null;if(typeof i==="undefined"||!i){throw new Error("No column parameter provided")}if(typeof t==="boolean"){r=t}else{a=t}if(!r){o.resetColumnSorting(i);i.sort.priority=0}else{i.sort.priority=o.getNextColumnSortPriority()}if(!a){if(i.sort.direction&&i.sort.direction===n.ASC){i.sort.direction=n.DESC}else if(i.sort.direction&&i.sort.direction===n.DESC){if(i.colDef&&i.colDef.suppressRemoveSort){i.sort.direction=n.ASC}else{i.sort.direction=null}}else{i.sort.direction=n.ASC}}else{i.sort.direction=a}o.api.core.raise.sortChanged(o,o.getColumnSorting());return e.when(i)};p.prototype.renderingComplete=function(){if(angular.isFunction(this.options.onRegisterApi)){this.options.onRegisterApi(this.api)}this.api.core.raise.renderingComplete(this.api)};p.prototype.createRowHashMap=function si(){var e=this;var i=new g;i.grid=e;e.rowHashMap=i};p.prototype.refresh=function di(){var i=this;var t=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)});var r=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)});return e.all([t,r]).then(function(){i.redrawInPlace();i.refreshCanvas(true)})};p.prototype.refreshRows=function ui(){var e=this;return e.processRowsProcessors(e.rows).then(function(i){e.setVisibleRows(i);e.redrawRows();e.refreshCanvas()})};p.prototype.refreshCanvas=function(i){var t=this;if(i){t.buildStyles()}var n=e.defer();var o=[];for(var a in t.renderContainers){if(t.renderContainers.hasOwnProperty(a)){var l=t.renderContainers[a];if(l.header){o.push(l)}}}if(o.length>0){f(function(){var e=false;var a=0;var l,s;for(l=0;l<o.length;l++){s=o[l];if(s.header){var d=s.headerHeight;var u=r.outerElementHeight(s.header);s.headerHeight=parseInt(u,10);if(d!==u){e=true}var c=r.getBorderSize(s.header,"top");var f=r.getBorderSize(s.header,"bottom");var p=parseInt(u-c-f,10);p=p<0?0:p;s.innerHeaderHeight=p;if(p>a){a=p}}}for(l=0;l<o.length;l++){s=o[l];if(s.headerHeight<a){s.explicitHeaderHeight=a}}if(i&&e){t.buildStyles()}n.resolve()})}else{f(function(){n.resolve()})}return n.promise};p.prototype.redrawInPlace=function ci(){var e=this;for(var i in e.renderContainers){var t=e.renderContainers[i];t.adjustRows(t.prevScrollTop,null);t.adjustColumns(t.prevScrollLeft,null)}};function g(){}g.prototype={put:function(e,i){this[this.grid.options.rowIdentity(e)]=i},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var i=this[e=this.grid.options.rowIdentity(e)];delete this[e];return i}};return p}])})();(function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,i,t,r,n,o){var a=function s(e){this.grid=e;this.listeners=[];this.registerEvent("core","renderingComplete");this.registerEvent("core","filterChanged");this.registerMethod("core","setRowInvisible",n.prototype.setRowInvisible);this.registerMethod("core","clearRowInvisible",n.prototype.clearRowInvisible);this.registerMethod("core","getVisibleRows",n.prototype.getVisibleRows);this.registerEvent("core","rowsVisibleChanged")};a.prototype.suppressEvents=function(e,i){var t=this;var r=angular.isArray(e)?e:[e];var n=[];r.forEach(function(e){n=t.listeners.filter(function(i){return e===i.handler})});n.forEach(function(e){e.dereg()});i();n.forEach(function(e){e.dereg=l(e.scope,e.eventId,e.handler,t.grid)})};a.prototype.registerEvent=function(e,t){var r=this;if(!r[e]){r[e]={}}var n=r[e];if(!n.on){n.on={};n.raise={}}var o=r.grid.id+e+t;n.raise[t]=function(){i.$broadcast.apply(i,[o].concat(Array.prototype.slice.call(arguments)))};n.on[t]=function(e,i){var t=l(e,o,i,r.grid);var n={handler:i,dereg:t,eventId:o,scope:e};r.listeners.push(n);e.$on("$destroy",function(){n.dereg=null;n.handler=null;n.eventId=null;n.scope=null})}};function l(e,i,t,r){return e.$on(i,function(e){var i=Array.prototype.slice.call(arguments);i.splice(0,1);t.apply(r.api,i)})}a.prototype.registerEventsFromObject=function(e){var i=this;var t=[];angular.forEach(e,function(e,i){var r={name:i,events:[]};angular.forEach(e,function(e,i){r.events.push(i)});t.push(r)});t.forEach(function(e){e.events.forEach(function(t){i.registerEvent(e.name,t)})})};a.prototype.registerMethod=function(e,i,r,n){if(!this[e]){this[e]={}}var o=this[e];o[i]=t.createBoundedWrapper(n||this.grid,r)};a.prototype.registerMethodsFromObject=function(e,i){var t=this;var r=[];angular.forEach(e,function(e,i){var t={name:i,methods:[]};angular.forEach(e,function(e,i){t.methods.push({name:i,fn:e})});r.push(t)});r.forEach(function(e){e.methods.forEach(function(r){t.registerMethod(e.name,r.name,r.fn,i)})})};return a}])})();(function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,i,t){function r(e,i,t){var r=this;r.grid=t;r.uid=i;r.updateColumnDef(e)}r.prototype.setPropertyOrDefault=function(e,i,t){var r=this;if(typeof e[i]!=="undefined"&&e[i]){r[i]=e[i]}else if(typeof r[i]!=="undefined"){r[i]=r[i]}else{r[i]=t?t:{}}};r.prototype.updateColumnDef=function(i){var t=this;t.colDef=i;if(i.name===undefined){throw new Error("colDef.name is required for column at index "+t.grid.options.columnDefs.indexOf(i))}var n="Cannot parse column width '"+i.width+"' for column named '"+i.name+"'";if(e.isNullOrUndefined(t.width)||!angular.isNumber(t.width)){if(e.isNullOrUndefined(i.width)){t.width="*"}else{if(!angular.isNumber(i.width)){if(e.endsWith(i.width,"%")){var o=i.width.replace(/%/g,"");var a=parseInt(o,10);if(isNaN(a)){throw new Error(n)}t.width=i.width}else if(i.width.match(/^(\d+)$/)){t.width=parseInt(i.width.match(/^(\d+)$/)[1],10)}else if(!i.width.match(/^\*+$/)){throw new Error(n)}}else{t.width=i.width}}}r.prototype.unsort=function(){this.sort={};t.grid.api.core.raise.sortChanged(t,t.grid.getColumnSorting())};t.minWidth=!i.minWidth?30:i.minWidth;t.maxWidth=!i.maxWidth?9e3:i.maxWidth;t.field=i.field===undefined?i.name:i.field;if(typeof t.field!=="string"){e.logError("Field is not a string, this is likely to break the code, Field is: "+t.field)}t.name=i.name;t.displayName=i.displayName===undefined?e.readableColumnName(i.name):i.displayName;t.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null;t.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null;t.cellClass=i.cellClass;t.headerCellClass=i.headerCellClass;t.cellFilter=i.cellFilter?i.cellFilter:"";t.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"";t.visible=e.isNullOrUndefined(i.visible)||i.visible;t.headerClass=i.headerClass;t.visible=true;t.enableSorting=typeof i.enableSorting!=="undefined"?i.enableSorting:true;t.sortingAlgorithm=i.sortingAlgorithm;t.enableFiltering=typeof i.enableFiltering!=="undefined"?i.enableFiltering:true;t.setPropertyOrDefault(i,"menuItems",[]);t.setPropertyOrDefault(i,"sort");var l=[];if(i.filter){l.push(i.filter)}else if(t.enableFiltering&&t.grid.options.enableFiltering){l.push({})}t.setPropertyOrDefault(i,"filter");t.setPropertyOrDefault(i,"filters",l)};r.prototype.getColClass=function(e){var t=i.COL_CLASS_PREFIX+this.uid;return e?"."+t:t};r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(true)+" { width: "+this.drawnWidth+"px; }"};r.prototype.getRenderContainer=function n(){var e=this;var i=e.renderContainer;if(i===null||i===""||i===undefined){i="body"}return e.grid.renderContainers[i]};r.prototype.showColumn=function(){this.colDef.visible=true};r.prototype.hideColumn=function(){this.colDef.visible=false};r.prototype.getAggregationValue=function(){var e=this;var t=0;var r=e.grid.getVisibleRows();var n=[];angular.forEach(r,function(i){var t=e.grid.getCellValue(i,e);if(angular.isNumber(t)){n.push(t)}});if(angular.isFunction(e.aggregationType)){return e.aggregationType(r,e)}else if(e.aggregationType===i.aggregationTypes.count){return e.getAggregationText("aggregation.count",e.grid.getVisibleRowCount())}else if(e.aggregationType===i.aggregationTypes.sum){angular.forEach(n,function(e){t+=e});return e.getAggregationText("aggregation.sum",t)}else if(e.aggregationType===i.aggregationTypes.avg){angular.forEach(n,function(e){t+=e});t=t/n.length;return e.getAggregationText("aggregation.avg",t)}else if(e.aggregationType===i.aggregationTypes.min){return e.getAggregationText("aggregation.min",Math.min.apply(null,n))}else if(e.aggregationType===i.aggregationTypes.max){return e.getAggregationText("aggregation.max",Math.max.apply(null,n))}else{return null}};r.prototype.getAggregationText=function(e,i){var r=this;if(r.colDef.aggregationHideLabel){return i}else{return t.getSafeText(e)+i}};r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise};r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise};return r}])})();(function(){angular.module("ui.grid").factory("GridOptions",["gridUtil",function(e){function i(){this.onRegisterApi=angular.noop();this.data=[];this.columnDefs=[];this.excludeProperties=["$$hashKey"];this.enableRowHashing=true;this.rowIdentity=function i(t){return e.hashKey(t)};this.getRowIdentity=function t(e){return e.$$hashKey};this.headerRowHeight=30;this.rowHeight=30;this.maxVisibleRowCount=200;this.minRowsToShow=10;this.showFooter=false;this.footerRowHeight=30;this.columnWidth=50;this.maxVisibleColumnCount=200;this.virtualizationThreshold=20;this.columnVirtualizationThreshold=10;this.excessRows=4;this.scrollThreshold=4;this.excessColumns=4;this.horizontalScrollThreshold=2;this.scrollThrottle=70;this.enableSorting=true;this.enableFiltering=false;this.enableColumnMenus=true;this.enableScrollbars=true;this.minimumColumnSize=10;this.rowEquality=function(e,i){return e===i};this.headerTemplate=null;this.footerTemplate=null;this.rowTemplate="ui-grid/ui-grid-row"}return i}])})();(function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil",function(e){function i(e,i,t){var r=this;r.name=e;r.grid=i;r.visibleRowCache=[];r.visibleColumnCache=[];r.renderedRows=[];r.renderedColumns=[];r.prevScrollTop=0;r.prevScrolltopPercentage=0;r.prevRowScrollIndex=0;r.prevScrollLeft=0;r.prevScrollleftPercentage=0;r.prevColumnScrollIndex=0;r.columnStyles="";r.viewportAdjusters=[];if(t&&angular.isObject(t)){angular.extend(r,t)}i.registerStyleComputation({priority:5,func:function(){return r.columnStyles}})}i.prototype.reset=function t(){this.visibleColumnCache.length=0;this.visibleRowCache.length=0;this.renderedRows.length=0;this.renderedColumns.length=0};i.prototype.minRowsToRender=function r(){var e=this;var i=0;var t=0;var r=e.getViewportHeight();for(var n=e.visibleRowCache.length-1;t<r&&n>=0;n--){t+=e.visibleRowCache[n].height;i++}return i};i.prototype.minColumnsToRender=function n(){var e=this;var i=this.getViewportWidth();var t=0;var r=0;for(var n=0;n<e.visibleColumnCache.length;n++){var o=e.visibleColumnCache[n];if(r<i){r+=o.drawnWidth?o.drawnWidth:0;t++}else{var a=0;for(var l=n;l>=n-t;l--){a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0}if(a<i){t++}}}return t};i.prototype.getVisibleRowCount=function o(){return this.visibleRowCache.length};i.prototype.registerViewportAdjuster=function a(e){this.viewportAdjusters.push(e)};i.prototype.removeViewportAdjuster=function l(e){var i=this.viewportAdjusters.indexOf(e);if(typeof i!=="undefined"&&i!==undefined){this.viewportAdjusters.splice(i,1)}};i.prototype.getViewportAdjustment=function s(){var e=this;var i={height:0,width:0};e.viewportAdjusters.forEach(function(e){i=e.call(this,i)
});return i};i.prototype.getViewportHeight=function d(){var e=this;var i=e.headerHeight?e.headerHeight:e.grid.headerHeight;var t=e.grid.gridHeight-i-e.grid.footerHeight;if(typeof e.horizontalScrollbarHeight!=="undefined"&&e.horizontalScrollbarHeight!==undefined&&e.horizontalScrollbarHeight>0){t=t-e.horizontalScrollbarHeight}var r=e.getViewportAdjustment();t=t+r.height;return t};i.prototype.getViewportWidth=function u(){var e=this;var i=e.grid.gridWidth;if(typeof e.grid.verticalScrollbarWidth!=="undefined"&&e.grid.verticalScrollbarWidth!==undefined&&e.grid.verticalScrollbarWidth>0){i=i-e.grid.verticalScrollbarWidth}var t=e.getViewportAdjustment();i=i+t.width;return i};i.prototype.getHeaderViewportWidth=function c(){var e=this;var i=this.getViewportWidth();if(typeof e.grid.verticalScrollbarWidth!=="undefined"&&e.grid.verticalScrollbarWidth!==undefined&&e.grid.verticalScrollbarWidth>0){i=i+e.grid.verticalScrollbarWidth}return i};i.prototype.getCanvasHeight=function f(){var e=this;var i=0;e.visibleRowCache.forEach(function(e){i+=e.height});if(typeof e.grid.horizontalScrollbarHeight!=="undefined"&&e.grid.horizontalScrollbarHeight!==undefined&&e.grid.horizontalScrollbarHeight>0){i=i-e.grid.horizontalScrollbarHeight}return i};i.prototype.getCanvasWidth=function p(){var e=this;var i=e.canvasWidth;if(typeof e.verticalScrollbarWidth!=="undefined"&&e.verticalScrollbarWidth!==undefined&&e.verticalScrollbarWidth>0){i=i-e.verticalScrollbarWidth}return i};i.prototype.setRenderedRows=function g(e){this.renderedRows.length=e.length;for(var i=0;i<e.length;i++){this.renderedRows[i]=e[i]}};i.prototype.setRenderedColumns=function h(e){var i=this;this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++){this.renderedColumns[t]=e[t]}this.updateColumnOffset()};i.prototype.updateColumnOffset=function v(){var e=0;for(var i=0;i<this.currentFirstColumn;i++){e+=this.visibleColumnCache[i].drawnWidth}this.columnOffset=e};i.prototype.adjustScrollVertical=function m(e,i,t){if(this.prevScrollTop===e&&!t){return}e=this.getCanvasHeight()*i;this.adjustRows(e,i);this.prevScrollTop=e;this.prevScrolltopPercentage=i;this.grid.queueRefresh()};i.prototype.adjustScrollHorizontal=function C(e,i,t){if(this.prevScrollLeft===e&&!t){return}e=this.getCanvasWidth()*i;this.adjustColumns(e,i);this.prevScrollLeft=e;this.prevScrollleftPercentage=i;this.grid.queueRefresh()};i.prototype.adjustRows=function w(e,i){var t=this;var r=t.minRowsToRender();var n=t.visibleRowCache;var o=n.length-r;t.maxRowIndex=o;var a=t.prevRowScrollIndex;if((typeof i==="undefined"||i===null)&&e){i=e/t.getCanvasHeight()}var l=Math.ceil(Math.min(o,o*i));if(l>o){l=o}var s=[];if(n.length>t.grid.options.virtualizationThreshold){if(t.prevScrollTop<e&&l<t.prevRowScrollIndex+t.grid.options.scrollThreshold&&l<o){return}if(t.prevScrollTop>e&&l>t.prevRowScrollIndex-t.grid.options.scrollThreshold&&l<o){return}var d=Math.max(0,l-t.grid.options.excessRows);var u=Math.min(n.length,l+r+t.grid.options.excessRows);s=[d,u]}else{var c=t.visibleRowCache.length;s=[0,Math.max(c,r+t.grid.options.excessRows)]}t.updateViewableRowRange(s);t.prevRowScrollIndex=l};i.prototype.adjustColumns=function b(e,i){var t=this;var r=t.minColumnsToRender();var n=t.visibleColumnCache;var o=n.length-r;if((typeof i==="undefined"||i===null)&&e){i=e/t.getCanvasWidth()}var a=Math.ceil(Math.min(o,o*i));if(a>o){a=o}var l=[];if(n.length>t.grid.options.columnVirtualizationThreshold&&t.getCanvasWidth()>t.getViewportWidth()){if(t.prevScrollLeft<e&&a<t.prevColumnScrollIndex+t.grid.options.horizontalScrollThreshold&&a<o){return}if(t.prevScrollLeft>e&&a>t.prevColumnScrollIndex-t.grid.options.horizontalScrollThreshold&&a<o){return}var s=Math.max(0,a-t.grid.options.excessColumns);var d=Math.min(n.length,a+r+t.grid.options.excessColumns);l=[s,d]}else{var u=t.visibleColumnCache.length;l=[0,Math.max(u,r+t.grid.options.excessColumns)]}t.updateViewableColumnRange(l);t.prevColumnScrollIndex=a};i.prototype.updateViewableRowRange=function y(e){var i=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0];this.setRenderedRows(i)};i.prototype.updateViewableColumnRange=function S(e){var i=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0];this.setRenderedColumns(i)};i.prototype.rowStyle=function(e){var i=this;var t={};if(e===0&&i.currentTopRow!==0){var r=i.currentTopRow*i.grid.options.rowHeight;t["margin-top"]=r+"px"}if(i.currentFirstColumn!==0){if(i.grid.isRTL()){t["margin-right"]=i.columnOffset+"px"}else{t["margin-left"]=i.columnOffset+"px"}}return t};i.prototype.columnStyle=function(e){var i=this;if(e===0&&i.currentFirstColumn!==0){var t=i.columnOffset;if(i.grid.isRTL()){return{"margin-right":t+"px"}}else{return{"margin-left":t+"px"}}}return null};i.prototype.updateColumnWidths=function(){var i=this;var t=[],r=[],n=[],o=0,a=0;var l=i.getViewportWidth();if(typeof i.grid.verticalScrollbarWidth!=="undefined"&&i.grid.verticalScrollbarWidth!==undefined&&i.grid.verticalScrollbarWidth>0){l=l+i.grid.verticalScrollbarWidth}var s;var d=0;var u=0;var c="";var f=i.visibleColumnCache;f.forEach(function(i,n){if(!i.visible){return}var a,l=false;if(!angular.isNumber(i.width)){l=isNaN(i.width)&&e.endsWith(i.width,"%")}if(angular.isString(i.width)&&i.width.indexOf("*")!==-1){o=parseInt(o+i.width.length,10);t.push(i)}else if(l){r.push(i)}else if(angular.isNumber(i.width)){d=parseInt(d+i.width,10);u=parseInt(u,10)+parseInt(i.width,10);i.drawnWidth=i.width}});var p=l-d;var g,h,v;if(r.length>0){for(g=0;g<r.length;g++){h=r[g];var m=parseInt(h.width.replace(/%/g,""),10)/100;v=parseInt(m*p,10);if(h.colDef.minWidth&&v<h.colDef.minWidth){v=h.colDef.minWidth;p=p-v;u+=v;h.drawnWidth=v;r.splice(g,1)}else if(h.colDef.maxWidth&&v>h.colDef.maxWidth){v=h.colDef.maxWidth;p=p-v;u+=v;h.drawnWidth=v;r.splice(g,1)}}r.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100;var t=parseInt(i*p,10);u+=t;e.drawnWidth=t})}if(t.length>0){var C=parseInt(p/o,10);for(g=0;g<t.length;g++){h=t[g];v=parseInt(C*h.width.length,10);if(h.colDef.minWidth&&v<h.colDef.minWidth){v=h.colDef.minWidth;p=p-v;o--;u+=v;h.drawnWidth=v;s=h;t.splice(g,1)}else if(h.colDef.maxWidth&&v>h.colDef.maxWidth){v=h.colDef.maxWidth;p=p-v;o--;u+=v;h.drawnWidth=v;t.splice(g,1)}}C=parseInt(p/o,10);t.forEach(function(e){var i=parseInt(C*e.width.length,10);u+=i;e.drawnWidth=i})}var w=l-parseInt(u,10);if(w>0&&u>0&&u<l){var b=false;f.forEach(function(e){if(e.width&&!angular.isNumber(e.width)){b=true}});if(b){var y=function(e){if(w>0){e.drawnWidth=e.drawnWidth+1;u=u+1;w--}};while(w>0){f.forEach(y)}}}if(u<l){u=l}f.forEach(function(e){c=c+e.getColClassDefinition()});if(i.grid.verticalScrollbarWidth){u=u+i.grid.verticalScrollbarWidth}i.canvasWidth=parseInt(u,10);this.columnStyles=c};return i}])})();(function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function i(i,t,r){this.grid=r;this.entity=i;this.uid=e.nextUid();this.visible=true;this.height=r.options.rowHeight}i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)};i.prototype.getEntityQualifiedColField=function(i){return e.preEval("entity."+i.field)};i.prototype.setRowInvisible=function(e){if(e!==null){e.forceInvisible=true;if(e.visible){e.visible=false;e.grid.refresh();e.grid.api.core.raise.rowsVisibleChanged()}}};i.prototype.clearRowInvisible=function(e){if(e!==null){e.forceInvisible=false;if(!e.visible){e.visible=true;e.grid.refresh();e.grid.api.core.raise.rowsVisibleChanged()}}};i.prototype.getVisibleRows=function(e){return e.rows.filter(function(e){return e.visible})};return i}])})();(function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,i,t,r,n,o,a,l){var s={createGrid:function(r){r=typeof r!=="undefined"?r:{};r.id=e.newId();var n=new o(r);if(n.options.rowTemplate){var a=i.defer();n.getRowTemplateFn=a.promise;e.getTemplate(n.options.rowTemplate).then(function(e){var i=t(e);a.resolve(i)},function(e){throw new Error("Couldn't fetch/use row template '"+n.options.rowTemplate+"'")})}n.registerColumnBuilder(s.defaultColumnBuilder);n.registerRowsProcessor(function l(e){e.forEach(function(e){e.visible=!e.forceInvisible});return e});n.registerColumnsProcessor(function d(e){e.forEach(function(e){e.visible=true});return e});n.registerColumnsProcessor(function(e){e.forEach(function(e){if(e.colDef.visible===false){e.visible=false}});return e});if(n.options.enableFiltering){n.registerRowsProcessor(n.searchRows)}if(n.options.externalSort&&angular.isFunction(n.options.externalSort)){n.registerRowsProcessor(n.options.externalSort)}else{n.registerRowsProcessor(n.sortByColumn)}return n},defaultColumnBuilder:function(t,r,o){var a=[];if(!t.headerCellTemplate){t.headerCellTemplate="ui-grid/uiGridHeaderCell"}if(!t.cellTemplate){t.cellTemplate="ui-grid/uiGridCell";r.cellTemplatePromise=e.getTemplate(t.cellTemplate)}r.cellTemplatePromise=e.getTemplate(t.cellTemplate);a.push(r.cellTemplatePromise.then(function(e){r.cellTemplate=e.replace(n.CUSTOM_FILTERS,r.cellFilter?"|"+r.cellFilter:"")},function(e){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+t.cellTemplate+"'")}));a.push(e.getTemplate(t.headerCellTemplate).then(function(e){r.headerCellTemplate=e.replace(n.CUSTOM_FILTERS,r.headerCellFilter?"|"+r.headerCellFilter:"")},function(e){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+t.headerCellTemplate+"'")}));r.compiledElementFnDefer=i.defer();return i.all(a)}};return s}])})();(function(){var e=angular.module("ui.grid");function i(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){var e=function(i,t){if(i&&e.cache[i]){return e.cache[i]}else if(i&&t){e.cache[i]=t;return e.cache[i]}else{return undefined}};e.cache={};e.clear=function(){e.cache={}};return e}e.service("rowSearcher",["gridUtil","uiGridConstants",function(e,r){var n=r.filter.STARTS_WITH;var o={};o.getTerm=function a(e){if(typeof e.term==="undefined"){return e.term}var i=e.term;if(typeof i==="string"){i=i.trim()}return i};o.stripTerm=function l(e){var t=o.getTerm(e);if(typeof t==="string"){return i(t.replace(/(^\*|\*$)/g,""))}else{return t}};o.guessCondition=function s(e){if(typeof e.term==="undefined"||!e.term){return n}var i=o.getTerm(e);if(/\*/.test(i)){var t="";if(!e.flags||!e.flags.caseSensitive){t+="i"}var r=i.replace(/(\\)?\*/g,function(e,i){return i?e:"[\\s\\S]*?"});return new RegExp("^"+r+"$",t)}else{return n}};o.runColumnFilter=function d(e,i,t,n,a,l){var s=typeof l.condition;if(s==="undefined"||!l.condition){l.condition=r.filter.CONTAINS}var d=o.stripTerm(l);if(d===null||d===undefined||d===""){return true}var u=e.getCellValue(i,t);var c="";if(!l.flags||!l.flags.caseSensitive){c+="i"}var f=t.field+a;if(l.condition instanceof RegExp){if(!l.condition.test(u)){return false}}else if(s==="function"){return l.condition(d,u,i,t)}else if(l.condition===r.filter.STARTS_WITH){var p=n(f)?n(f):n(f,new RegExp("^"+d,c));if(!p.test(u)){return false}}else if(l.condition===r.filter.ENDS_WITH){var g=n(f)?n(f):n(f,new RegExp(d+"$",c));if(!g.test(u)){return false}}else if(l.condition===r.filter.CONTAINS){var h=n(f)?n(f):n(f,new RegExp(d,c));if(!h.test(u)){return false}}else if(l.condition===r.filter.EXACT){var v=n(f)?n(f):n(f,new RegExp("^"+d+"$",c));if(!v.test(u)){return false}}else if(l.condition===r.filter.GREATER_THAN){if(u<=d){return false}}else if(l.condition===r.filter.GREATER_THAN_OR_EQUAL){if(u<d){return false}}else if(l.condition===r.filter.LESS_THAN){if(u>=d){return false}}else if(l.condition===r.filter.LESS_THAN_OR_EQUAL){if(u>d){return false}}else if(l.condition===r.filter.NOT_EQUAL){if(!angular.equals(u,d)){return false}}return true};o.searchColumn=function u(e,i,t,r){var n=[];if(e.options.useExternalFiltering){return true}if(typeof t.filters!=="undefined"&&t.filters&&t.filters.length>0){n=t.filters}else{return true}for(var a in n){var l=n[a];if(!l.condition){var s="cond-"+t.field+"-"+l.term;var d=r(s)?r(s):r(s,o.guessCondition(l));l={term:l.term,condition:d,flags:angular.extend({caseSensitive:false},l.flags)}}var u=o.runColumnFilter(e,i,t,r,a,l);if(!u){return false}}return true};o.search=function c(e,i,r){if(!i){return}var n=new t;var a=[];r.forEach(function(e){if(typeof e.filters!=="undefined"&&e.filters.length>0){a.push(e)}else if(typeof e.filter!=="undefined"&&e.filter&&typeof e.filter.term!=="undefined"&&e.filter.term){a.push(e)}});if(a.length>0){a.forEach(function l(t){i.forEach(function r(i){if(i.forceInvisible||!o.searchColumn(e,i,t,n)){i.visible=false}})});if(e.api.core.raise.rowsVisibleChanged){e.api.core.raise.rowsVisibleChanged()}}n.clear();return i};return o}])})();(function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,i){var t="("+i.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?";var r=new RegExp("^[-+]?"+t+"[\\d,.]+"+t+"%?$");var n={colSortFnCache:[]};n.guessSortFn=function o(e){switch(e){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}};n.handleNulls=function a(e,i){if(!e&&e!==0&&e!==false||!i&&i!==0&&i!==false){if(!e&&e!==0&&e!==false&&(!i&&i!==0&&i!==false)){return 0}else if(!e&&e!==0&&e!==false){return 1}else if(!i&&i!==0&&i!==false){return-1}}return null};n.basicSort=function l(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{if(e===i){return 0}if(e<i){return-1}return 1}};n.sortNumber=function s(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{return e-i}};n.sortNumberStr=function d(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{var r,o,a=false,l=false;r=parseFloat(e.replace(/[^0-9.-]/g,""));if(isNaN(r)){a=true}o=parseFloat(i.replace(/[^0-9.-]/g,""));if(isNaN(o)){l=true}if(a&&l){return 0}if(a){return 1}if(l){return-1}return r-o}};n.sortAlpha=function u(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{var r=e.toLowerCase(),o=i.toLowerCase();return r===o?0:r<o?-1:1}};n.sortDate=function c(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{var r=e.getTime(),o=i.getTime();return r===o?0:r<o?-1:1}};n.sortBool=function f(e,i){var t=n.handleNulls(e,i);if(t!==null){return t}else{if(e&&i){return 0}if(!e&&!i){return 0}else{return e?1:-1}}};n.getSortFn=function p(e,i,t){var r,o;if(n.colSortFnCache[i.colDef.name]){r=n.colSortFnCache[i.colDef.name]}else if(i.sortingAlgorithm!==undefined){r=i.sortingAlgorithm;n.colSortFnCache[i.colDef.name]=i.sortingAlgorithm}else{r=n.guessSortFn(i.colDef.type);if(r){n.colSortFnCache[i.colDef.name]=r}else{r=n.sortAlpha}}return r};n.prioritySort=function(e,i){if(e.sort.priority!==undefined&&i.sort.priority!==undefined){if(e.sort.priority<i.sort.priority){return-1}else if(e.sort.priority===i.sort.priority){return 0}else{return 1}}else if(e.sort.priority){return-1}else if(i.sort.priority){return 1}else{return 0}};n.sort=function g(e,t,r){if(!t){return}if(e.options.useExternalSorting){return t}var o=[];r.forEach(function(e){if(e.sort&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)){o.push(e)}});o=o.sort(n.prioritySort);if(o.length===0){return t}var a,l;var s=t.slice(0);return t.sort(function d(t,r){var d=0,u=0,c;while(d===0&&u<o.length){a=o[u];l=o[u].sort.direction;c=n.getSortFn(e,a,s);var f=e.getCellValue(t,a);var p=e.getCellValue(r,a);d=c(f,p);u++}if(l===i.ASC){return d}else{return 0-d}})};return n}])})();(function(){var e=angular.module("ui.grid");function i(e){var i=e;if(typeof i.length!=="undefined"&&i.length){i=e[0]}return i.ownerDocument.defaultView.getComputedStyle(i,null)}var t=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),r=/^(block|none|table(?!-c[ea]).+)/,n={position:"absolute",visibility:"hidden",display:"block"};function o(e,i,t,r,n){var o=t===(r?"border":"content")?4:i==="width"?1:0,a=0;var l=["Top","Right","Bottom","Left"];for(;o<4;o+=2){var s=l[o];if(t==="margin"){var d=parseFloat(n[t+s]);if(!isNaN(d)){a+=d}}if(r){if(t==="content"){var u=parseFloat(n["padding"+s]);if(!isNaN(u)){a-=u}}if(t!=="margin"){var c=parseFloat(n["border"+s+"Width"]);if(!isNaN(c)){a-=c}}}else{var f=parseFloat(n["padding"+s]);if(!isNaN(f)){a+=f}if(t!=="padding"){var p=parseFloat(n["border"+s+"Width"]);if(!isNaN(p)){a+=p}}}}return a}function a(e,r,n){var a=true,l,s=i(e),d=s["boxSizing"]==="border-box";if(l<=0||l==null){l=s[r];if(l<0||l==null){l=e.style[r]}if(t.test(l)){return l}a=d&&(true||l===e.style[r]);l=parseFloat(l)||0}var u=l+o(e,r,n||(d?"border":"content"),a,s);return u}var l=["0","0","0"];var s="uiGrid-";e.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","uiGridConstants",function(e,t,o,d,u,c,f,p,g){var h={getStyles:i,createBoundedWrapper:function(e,i){return function(){return i.apply(e,arguments)}},readableColumnName:function(e){if(typeof e==="undefined"||e===undefined||e===null){return e}if(typeof e!=="string"){e=String(e)}return e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 ")},getColumnsFromData:function(e,i){var t=[];if(!e||typeof e[0]==="undefined"||e[0]===undefined){return[]}if(angular.isUndefined(i)){i=[]}var r=e[0];angular.forEach(r,function(e,r){if(i.indexOf(r)===-1){t.push({name:r})}});return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(i){if(u.get(i)){return p.when(u.get(i))}if(i.hasOwnProperty("then")){return i}try{if(angular.element(i).length>0){return p.when(i)}}catch(t){}e.debug("Fetching url",i);return d({method:"GET",url:i}).then(function(e){var t=e.data.trim();u.put(i,t);return t},function(e){throw new Error("Could not get template "+i+": "+e)})},guessType:function(e){var i=typeof e;switch(i){case"number":case"boolean":case"string":return i;default:if(angular.isDate(e)){return"date"}return"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden";e.style.width="100px";e.style.msOverflowStyle="scrollbar";document.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var t=document.createElement("div");t.style.width="100%";e.appendChild(t);var r=t.offsetWidth;e.parentNode.removeChild(e);return i-r},swap:function(e,i,t,r){var n,o,a={};for(o in i){a[o]=e.style[o];e.style[o]=i[o]}n=t.apply(e,r||[]);for(o in i){e.style[o]=a[o]}return n},fakeElement:function(e,i,t,r){var n,o,a=angular.element(e).clone()[0];for(o in i){a.style[o]=i[o]}angular.element(document.body).append(a);n=t.call(a,a);angular.element(a).remove();return n},normalizeWheelEvent:function(e){var i,t;var r=e||window.event,n=[].slice.call(arguments,1),o=0,a=0,l=0,s=0,d=0,u;if(r.originalEvent){r=r.originalEvent}if(r.wheelDelta){o=r.wheelDelta}if(r.detail){o=r.detail*-1}l=o;if(r.axis!==undefined&&r.axis===r.HORIZONTAL_AXIS){l=0;a=o*-1}if(r.deltaY){l=r.deltaY*-1;o=l}if(r.deltaX){a=r.deltaX;o=a*-1}if(r.wheelDeltaY!==undefined){l=r.wheelDeltaY}if(r.wheelDeltaX!==undefined){a=r.wheelDeltaX}s=Math.abs(o);if(!i||s<i){i=s}d=Math.max(Math.abs(l),Math.abs(a));if(!t||d<t){t=d}u=o>0?"floor":"ceil";o=Math[u](o/i);a=Math[u](a/t);l=Math[u](l/t);return{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;if("ontouchstart"in t||t.DocumentTouch&&o instanceof DocumentTouch){e=true}return e},isNullOrUndefined:function(e){if(e===undefined||e===null){return true}return false},endsWith:function(e,i){if(!e||!i||typeof e!=="string"){return false}return e.indexOf(i,e.length-i.length)!==-1},requestAnimationFrame:t.requestAnimationFrame&&t.requestAnimationFrame.bind(t)||t.webkitRequestAnimationFrame&&t.webkitRequestAnimationFrame.bind(t)||function(e){return c(e,10,false)},numericAndNullSort:function(e,i){if(e===null){return 1}if(i===null){return-1}if(e===null&&i===null){return 0}return e-i},disableAnimations:function(e){var i;try{i=f.get("$animate");i.enabled(false,e)}catch(t){}},enableAnimations:function(e){var i;try{i=f.get("$animate");i.enabled(true,e);return i}catch(t){}},nextUid:function v(){var e=l.length;var i;while(e){e--;i=l[e].charCodeAt(0);if(i===57){l[e]="A";return s+l.join("")}if(i===90){l[e]="0"}else{l[e]=String.fromCharCode(i+1);return s+l.join("")}}l.unshift("0");return s+l.join("")},hashKey:function m(e){var i=typeof e,t;if(i==="object"&&e!==null){if(typeof(t=e.$$hashKey)==="function"){t=e.$$hashKey()}else if(typeof e.$$hashKey!=="undefined"&&e.$$hashKey){t=e.$$hashKey}else if(t===undefined){t=e.$$hashKey=h.nextUid()}}else{t=e}return i+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(i){if(g.LOG_ERROR_MESSAGES){e.error(i)}},logWarn:function(i){if(g.LOG_WARN_MESSAGES){e.warn(i)}},logDebug:function(i){if(g.LOG_DEBUG_MESSAGES){e.debug(i)}}};["width","height"].forEach(function(e){var t=angular.uppercase(e.charAt(0))+e.substr(1);h["element"+t]=function(t,o){var l=t;if(l&&typeof l.length!=="undefined"&&l.length){l=t[0]}if(l){var s=i(l);return l.offsetWidth===0&&r.test(s.display)?h.fakeElement(l,n,function(i){return a(i,e,o)}):a(l,e,o)}else{return null}};h["outerElement"+t]=function(e,i){return e?h["element"+t].call(this,e,i?"margin":"border"):null}});h.closestElm=function C(e,i){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var t;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){if(typeof document.body[e]==="function"){t=e;return true}return false});var r;while(e!==null){r=e.parentElement;if(r!==null&&r[t](i)){return r}e=r}return null};h.type=function(e){var i=Function.prototype.toString.call(e.constructor);return i.match(/function (.*?)\(/)[1]};h.getBorderSize=function w(e,t){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var r=i(e);if(t){t="border"+t.charAt(0).toUpperCase()+t.slice(1)}else{t="border"}t+="Width";var n=parseInt(r[t],10);if(isNaN(n)){return 0}else{return n}};h.detectBrowser=function b(){var e=t.navigator.userAgent;var i={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var r in i){if(i[r].test(e)){return r}}return"unknown"};h.normalizeScrollLeft=function y(e){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var i=h.detectBrowser();var t=e.scrollLeft;var r=h.getStyles(e)["direction"];if(i==="ie"){return t}else if(i==="chrome"){if(r==="rtl"){var n=e.scrollWidth-e.clientWidth;return n-t}else{return t}}else if(i==="firefox"){return Math.abs(t)}else{return t}};h.denormalizeScrollLeft=function S(e,i){if(typeof e.length!=="undefined"&&e.length){e=e[0]}var t=h.detectBrowser();var r=h.getStyles(e)["direction"];if(t==="ie"){return i}else if(t==="chrome"){if(r==="rtl"){var n=e.scrollWidth-e.clientWidth;return n-i}else{return i}}else if(t==="firefox"){if(r==="rtl"){return i*-1}else{return i}}else{return i}};h.preEval=function(e){var i=g.BRACKET_REGEXP.exec(e);if(i){return(i[1]?h.preEval(i[1]):i[1])+i[2]+(i[3]?h.preEval(i[3]):i[3])}else{e=e.replace(g.APOS_REGEXP,"\\'");var t=e.split(g.DOT_REGEXP);var r=[t.shift()];angular.forEach(t,function(e){r.push(e.replace(g.FUNC_REGEXP,"']$1"))});return r.join("['")}};h.debounce=function(e,i,t){var r,n,o,a;function l(){o=this;n=arguments;var l=function(){r=null;if(!t){a=e.apply(o,n)}};var s=t&&!r;if(r){c.cancel(r)}r=c(l,i);if(s){a=e.apply(o,n)}return a}l.cancel=function(){c.cancel(r);r=null};return l};h.throttle=function(e,i,t){t=t||{};var r=0,n=null,o,a;function l(i){r=+new Date;e.apply(o,a);c(function(){n=null},0)}return function(){o=this;a=arguments;if(n===null){var e=+new Date-r;if(e>i){l()}else if(t.trailing){n=c(l,i-e)}}}};return h}]);e.filter("px",function(){return function(e){if(e.match(/^[\d\.]+$/)){return e+"px"}else{return e}}})})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},column:{hide:"Spalte ausblenden"},aggregation:{count:"gesamt reihen: ",sum:"gesamt: ",avg:"durchschnitt: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrando:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},column:{hide:"Ocultar la columna"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}});
return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},column:{hide:"Colonne de peau"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("sv",{aggregate:{label:"artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."}});return e}])}])})();(function(){var e=["uiT","uiTranslate"];var i=["t","uiTranslate"];var t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"});t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,i,t){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,i){var t=e.toLowerCase();if(!this._langs[t]){this._langs[t]={}}angular.extend(this._langs[t],i)},getAllLangs:function(){var e=[];if(!this._langs){return e}for(var i in this._langs){e.push(i)}return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}};var n={add:function(e,i){if(typeof e==="object"){angular.forEach(e,function(e){if(e){r.add(e,i)}})}else{r.add(e,i)}},getAllLangs:function(){return r.getAllLangs()},get:function(e){var i=e?e:n.getCurrentLang();return r.get(i)},getSafeText:function(e,t){var o=t?t:n.getCurrentLang();var a=r.get(o);if(!a){return i.MISSING}var l=e.split(".");var s=a;for(var d=0;d<l.length;++d){if(s[l[d]]===undefined||s[l[d]]===null){return i.MISSING}else{s=s[l[d]]}}return s},setCurrentLang:function(e){if(e){r.setCurrent(e);t.$broadcast(i.UPDATE_EVENT)}},getCurrentLang:function(){var e=r.getCurrentLang();if(!e){e=i.DEFAULT_LANG;r.setCurrent(e)}return e}};return n}]);var r=function(e,i){return{compile:function(){return{pre:function(t,r,n){var o=i.LOCALE_DIRECTIVE_ALIAS;var a=t.$eval(n[o]);if(a){t.$watch(n[o],function(){e.setCurrentLang(a)})}else if(n.$$observers){n.$observe(o,function(){e.setCurrentLang(n[o]||i.DEFAULT_LANG)})}}}}}};t.directive("uiI18n",["i18nService","i18nConstants",r]);var n=function(i,t,r){return{restrict:"EA",compile:function(){return{pre:function(n,o,a){var l=e[0],s=e[1];var d=a[l]||a[s]||o.html();var u=r.MISSING+d;var c;if(a.$$observers){var f=a[l]?l:s;c=a.$observe(f,function(e){if(e){o.html(i(e)(t.getCurrentLang())||u)}})}var p=i(d);var g=n.$on(r.UPDATE_EVENT,function(e){if(c){c(a[l]||a[s])}else{o.html(p(t.get())||u)}});n.$on("$destroy",g);o.html(p(t.get())||u)}}}}};e.forEach(function(e){t.directive(e,["$parse","i18nService","i18nConstants",n])});var o=function(e,i,t){return function(r){var n=e(r);return n(i.get())||t.MISSING+r}};i.forEach(function(e){t.filter(e,["$parse","i18nService","i18nConstants",o])})})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("zh-cn",{aggregate:{label:"条目"},groupPanel:{description:"拖曳表头到此处以进行分组"},search:{placeholder:"搜索...",showingItems:"当前显示条目：",selectedItems:"选中条目：",totalItems:"条目总数：",size:"每页显示数：",first:"回到首页",next:"下一页",previous:"上一页",last:"前往尾页"},menu:{text:"数据分组与选择列："},column:{hide:"隐藏列"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){e.add("zh-tw",{aggregate:{label:"筆"},groupPanel:{description:"拖拉表頭到此處以進行分組"},search:{placeholder:"搜尋...",showingItems:"目前顯示筆數：",selectedItems:"選取筆數：",totalItems:"總筆數：",size:"每頁顯示：",first:"第一頁",next:"下一頁",previous:"上一頁",last:"最後頁"},menu:{text:"選擇欄位："},column:{hide:"隐藏列"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return e}])}])})();(function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,i){return{require:"uiGrid",scope:false,link:function(t,r,n,o){var a,l;function s(){l=i.elementHeight(r);a=i.elementWidth(r)}s();var d;function u(){e.cancel(d);d=e(function(){var e=i.elementHeight(r);var t=i.elementWidth(r);if(e!==l||t!==a){o.grid.gridHeight=e;o.grid.gridWidth=t;o.grid.refresh().then(function(){s();u()})}else{u()}},250)}u();t.$on("$destroy",function(){e.cancel(d)})}}}])})();(function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);function i(e,i){this.row=e;this.col=i}e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3}});e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(e,t,r,n){var o=function a(e,i,t,r){this.rows=e.visibleRowCache;this.columns=i.visibleColumnCache;this.leftColumns=t?t.visibleColumnCache:[];this.rightColumns=r?r.visibleColumnCache:[]};o.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})};o.prototype.getNextRowCol=function(e,i,t){switch(e){case r.direction.LEFT:return this.getRowColLeft(i,t);case r.direction.RIGHT:return this.getRowColRight(i,t);case r.direction.UP:return this.getRowColUp(i,t);case r.direction.DOWN:return this.getRowColDown(i,t)}};o.prototype.getRowColLeft=function(e,t){var r=this.getFocusableCols();var n=r.indexOf(t);var o=this.rows.indexOf(e);if(n===-1){n=1}var a=n===0?r.length-1:n-1;if(a>n){if(o===0){return new i(e,r[a])}else{return new i(this.rows[o-1],r[a])}}else{return new i(e,r[a])}};o.prototype.getRowColRight=function(e,t){var r=this.getFocusableCols();var n=r.indexOf(t);var o=this.rows.indexOf(e);if(n===-1){n=0}var a=n===r.length-1?0:n+1;if(a<n){if(o===this.rows.length-1){return new i(e,r[a])}else{return new i(this.rows[o+1],r[a])}}else{return new i(e,r[a])}};o.prototype.getRowColDown=function(e,t){var r=this.getFocusableCols();var n=r.indexOf(t);var o=this.rows.indexOf(e);if(n===-1){n=0}if(o===this.rows.length-1){return new i(e,r[n])}else{return new i(this.rows[o+1],r[n])}};o.prototype.getRowColUp=function(e,t){var r=this.getFocusableCols();var n=r.indexOf(t);var o=this.rows.indexOf(e);if(n===-1){n=0}if(o===0){return new i(e,r[n])}else{return new i(this.rows[o-1],r[n])}};return o}]);e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory",function(e,i,t,r,n){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder);e.cellNav={};e.cellNav.lastRowCol=null;var i={events:{cellNav:{navigate:function(e,i){}}},methods:{cellNav:{scrollTo:function(e,i,t,r){o.scrollTo(e,i,t,r)},getFocusedCell:function(){return e.cellNav.lastRowCol}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},decorateRenderContainers:function(e){var i=e.hasRightContainer()?e.renderContainers.right:null;var t=e.hasLeftContainer()?e.renderContainers.left:null;if(t!==null){e.renderContainers.left.cellNav=new n(e.renderContainers.body,t,i,e.renderContainers.body)}if(i!==null){e.renderContainers.right.cellNav=new n(e.renderContainers.body,i,e.renderContainers.body,t)}e.renderContainers.body.cellNav=new n(e.renderContainers.body,e.renderContainers.body,t,i)},getDirection:function(e){if(e.keyCode===i.keymap.LEFT||e.keyCode===i.keymap.TAB&&e.shiftKey){return t.direction.LEFT}if(e.keyCode===i.keymap.RIGHT||e.keyCode===i.keymap.TAB){return t.direction.RIGHT}if(e.keyCode===i.keymap.UP||e.keyCode===i.keymap.ENTER&&e.shiftKey){return t.direction.UP}if(e.keyCode===i.keymap.DOWN||e.keyCode===i.keymap.ENTER){return t.direction.DOWN}return null},cellNavColumnBuilder:function(e,i,t){var n=[];e.allowCellFocus=e.allowCellFocus===undefined?true:e.allowCellFocus;return r.all(n)},scrollTo:function(e,i,t,r){var n=null,o=null;if(t!==null){n=e.getRow(t)}if(r!==null){o=e.getColumn(r.name?r.name:r.field)}this.scrollToInternal(e,i,n,o)},scrollToInternal:function(e,t,r,n){var o={};if(r!==null){o.y={percentage:e.renderContainers.body.visibleRowCache.indexOf(r)/e.renderContainers.body.visibleRowCache.length}}if(n!==null){o.x={percentage:this.getLeftWidth(e,n)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache[e.renderContainers.body.visibleColumnCache.length-1])}}if(o.y||o.x){t.$broadcast(i.events.GRID_SCROLL,o)}},getLeftWidth:function(e,i){var t=0;if(!i){return t}var r=e.renderContainers.body.visibleColumnCache.indexOf(i);e.renderContainers.body.visibleColumnCache.forEach(function(e,i){if(i<r){t+=e.drawnWidth}});var n=r===0?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;t+=i.drawnWidth*n;return t}};return o}]);e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants",function(e,t,r){return{replace:true,priority:-150,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,n,o,a){var l=a.grid;t.initializeGrid(l);a.cellNav={};a.cellNav.broadcastCellNav=function(i){e.$broadcast(r.CELL_NAV_EVENT,i);a.cellNav.broadcastFocus(i.row,i.col)};a.cellNav.broadcastFocus=function(e,t){if(l.cellNav.lastRowCol===null||(l.cellNav.lastRowCol.row!==e||l.cellNav.lastRowCol.col!==t)){var r=new i(e,t);l.api.cellNav.raise.navigate(r,l.cellNav.lastRowCol);l.cellNav.lastRowCol=r}}},post:function(e,i,t,r){}}}}}]);e.directive("uiGridRenderContainer",["gridUtil","uiGridCellNavService","uiGridCellNavConstants",function(e,i,t){return{replace:true,priority:-99999,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,i,t,r){},post:function(e,t,r,n){var o=n.grid;i.decorateRenderContainers(o)}}}}}]);e.directive("uiGridCell",["uiGridCellNavService","gridUtil","uiGridCellNavConstants",function(e,i,t){return{priority:-150,restrict:"A",require:"^uiGrid",scope:false,link:function(i,r,n,o){if(!i.col.colDef.allowCellFocus){return}a();r.on("keydown",function(t){var r=e.getDirection(t);if(r===null){return true}var n=i.colContainer.cellNav.getNextRowCol(r,i.row,i.col);o.cellNav.broadcastCellNav(n);a();t.stopPropagation();t.preventDefault();return false});r.find("div").on("focus",function(e){o.cellNav.broadcastFocus(i.row,i.col)});i.$on(t.CELL_NAV_EVENT,function(e,t){if(t.row===i.row&&t.col===i.col){l()}});function a(){r.find("div").attr("tabindex",-1)}function l(){var e=r.find("div");e[0].focus();e.attr("tabindex",0);i.grid.queueRefresh()}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}});e.service("uiGridEditService",["$q","$templateCache","uiGridConstants","gridUtil",function(e,i,t,r){var n={initializeGrid:function(e){n.defaultGridOptions(e.options);e.registerColumnBuilder(n.editColumnBuilder);var i={events:{edit:{afterCellEdit:function(e,i,t,r){},beginCellEdit:function(e,i){},cancelCellEdit:function(e,i){}}},methods:{edit:{}}};e.api.registerEventsFromObject(i.events)},defaultGridOptions:function(e){e.cellEditableCondition=e.cellEditableCondition===undefined?true:e.cellEditableCondition;e.enableCellEditOnFocus=e.enableCellEditOnFocus===undefined?false:e.enableCellEditOnFocus},editColumnBuilder:function(i,t,n){var o=[];i.enableCellEdit=i.enableCellEdit===undefined?n.enableCellEdit===undefined?i.type!=="object":n.enableCellEdit:i.enableCellEdit;i.cellEditableCondition=i.cellEditableCondition===undefined?n.cellEditableCondition:i.cellEditableCondition;if(i.enableCellEdit){i.editableCellTemplate=i.editableCellTemplate||n.editableCellTemplate||"ui-grid/cellEditor";o.push(r.getTemplate(i.editableCellTemplate).then(function(e){t.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+i.editableCellTemplate+"'")}))}i.enableCellEditOnFocus=i.enableCellEditOnFocus===undefined?n.enableCellEditOnFocus:i.enableCellEditOnFocus;return e.all(o)},isStartEditKey:function(e){if(e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER){return false}return true}};return n}]);e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,i){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(n.grid)},post:function(e,i,t,r){}}}}}]);e.directive("uiGridCell",["$compile","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService",function(e,i,t,r,n,o){return{priority:-100,restrict:"A",scope:false,link:function(r,a,l){if(!r.col.colDef.enableCellEdit){return}var s;var d;var u=false;var c=false;var f;p();function p(){a.on("dblclick",C);a.on("keydown",v);if(r.col.colDef.enableCellEditOnFocus){a.find("div").on("focus",h)}}function g(){a.off("dblclick",C);a.off("keydown",v);if(r.col.colDef.enableCellEditOnFocus){a.find("div").off("focus",h)}}function h(e){e.stopPropagation();C()}function v(e){if(o.isStartEditKey(e)){C()}}function m(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(r):e.colDef.cellEditableCondition)}function C(){if(!m(r.col,r.row)){return}f=n(r.row.getQualifiedColField(r.col));d=f(r);s=r.col.editableCellTemplate;s=s.replace(i.MODEL_COL_FIELD,r.row.getQualifiedColField(r.col));var o=r.col.colDef.editDropdownFilter?"|"+r.col.colDef.editDropdownFilter:"";s=s.replace(i.CUSTOM_FILTERS,o);r.inputType="text";switch(r.col.colDef.type){case"boolean":r.inputType="checkbox";break;case"number":r.inputType="number";break;case"date":r.inputType="date";break}r.editDropdownOptionsArray=r.col.colDef.editDropdownOptionsArray;r.editDropdownIdLabel=r.col.colDef.editDropdownIdLabel?r.col.colDef.editDropdownIdLabel:"id";r.editDropdownValueLabel=r.col.colDef.editDropdownValueLabel?r.col.colDef.editDropdownValueLabel:"value";var l;r.$apply(function(){u=true;g();l=e(s)(r.$new());var i=angular.element(a.children()[0]);c=i.hasClass(":focus");i.addClass("ui-grid-cell-contents-hidden");a.append(l)});var p=r.$on(i.events.GRID_SCROLL,function(){w(true);r.grid.api.edit.raise.afterCellEdit(r.row.entity,r.col.colDef,f(r),d);p()});var h=r.$on(t.events.END_CELL_EDIT,function(e,i){w(i);r.grid.api.edit.raise.afterCellEdit(r.row.entity,r.col.colDef,f(r),d);h()});var v=r.$on(t.events.CANCEL_CELL_EDIT,function(){b();v()});r.$broadcast(t.events.BEGIN_CELL_EDIT);r.grid.api.edit.raise.beginCellEdit(r.row.entity,r.col.colDef)}function w(e){if(!u){return}var t=angular.element(a.children()[0]);angular.element(a.children()[1]).remove();t.removeClass("ui-grid-cell-contents-hidden");if(e&&c){t.focus()}c=false;u=false;p();r.grid.api.core.notifyDataChange(r.grid,i.dataChange.EDIT)}function b(){if(!u){return}f.assign(r,d);r.$apply();r.grid.api.edit.raise.cancelCellEdit(r.row.entity,r.col.colDef);w(true)}}}}]);e.directive("uiGridEditor",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:true,compile:function(){return{pre:function(e,i,t){},post:function(t,r,n){t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus();r[0].select();r.on("blur",function(e){t.stopEdit(e)})});t.deepEdit=false;t.stopEdit=function(e){if(t.inputForm&&!t.inputForm.$valid){e.stopPropagation();t.$emit(i.events.CANCEL_CELL_EDIT)}else{t.$emit(i.events.END_CELL_EDIT)}t.deepEdit=false};r.on("click",function(e){t.deepEdit=true});r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation();t.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:t.stopEdit(r);break;case e.keymap.TAB:t.stopEdit(r);break}if(t.deepEdit){switch(r.keyCode){case e.keymap.LEFT:r.stopPropagation();break;case e.keymap.RIGHT:r.stopPropagation();break;case e.keymap.UP:r.stopPropagation();break;case e.keymap.DOWN:r.stopPropagation();break}}return true})}}}}}]);e.directive("input",["$filter",function(e){function i(e){if(typeof e==="undefined"||e===""){return null}var i=e.split("-");if(i.length!==3){return null}var t=parseInt(i[0],10);var r=parseInt(i[1],10);var n=parseInt(i[2],10);if(r<1||t<1||n<1){return null}return new Date(t,r-1,n)}return{restrict:"E",require:"?ngModel",link:function(t,r,n,o){if(angular.version.minor===2&&n.type&&n.type==="date"&&o){o.$formatters.push(function(i){o.$setValidity(null,!i||!isNaN(i.getTime()));return e("date")(i,"yyyy-MM-dd")});o.$parsers.push(function(e){if(e&&e.length>0){var t=i(e);o.$setValidity(null,t&&!isNaN(t.getTime()));return t}else{o.$setValidity(null,true);return null}})}}}}]);e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:true,compile:function(){return{pre:function(e,i,t){},post:function(t,r,n){t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus();r[0].style.width=r[0].parentElement.offsetWidth-1+"px";r.on("blur",function(e){t.stopEdit(e)})});t.stopEdit=function(e){t.$emit(i.events.END_CELL_EDIT)};r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation();t.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:t.stopEdit(r);break;case e.keymap.LEFT:t.stopEdit(r);break;case e.keymap.RIGHT:t.stopEdit(r);break;case e.keymap.UP:r.stopPropagation();break;case e.keymap.DOWN:r.stopPropagation();break;case e.keymap.TAB:t.stopEdit(r);break}return true})}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,i){var t={initializeGrid:function(i){i.options.enableExpandable=i.options.enableExpandable!==false;i.options.expandableRowHeight=i.options.expandableRowHeight||150;if(i.options.enableExpandable&&!i.options.expandableRowTemplate){e.logError("You have not set the expandableRowTemplate, disabling expandable module");i.options.enableExpandable=false}var r={events:{expandable:{rowExpandedStateChanged:function(e,i){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=i.getRow(e);if(r!==null){t.toggleRowExpansion(i,r)}},expandAllRows:function(){t.expandAllRows(i)},collapseAllRows:function(){t.collapseAllRows(i)}}}};i.api.registerEventsFromObject(r.events);i.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,i){i.isExpanded=!i.isExpanded;if(i.isExpanded){i.height=i.grid.options.rowHeight+e.options.expandableRowHeight}else{i.height=i.grid.options.rowHeight}e.api.expandable.raise.rowExpandedStateChanged(i)},expandAllRows:function(e,i){angular.forEach(e.renderContainers.body.visibleRowCache,function(i){if(!i.isExpanded){t.toggleRowExpansion(e,i)}});e.refresh()},collapseAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(i){if(i.isExpanded){t.toggleRowExpansion(e,i)}});e.refresh()}};return t}]);e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,i){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(t,r,n,o){if(o.grid.options.enableExpandableRowHeader!==false){var a={name:"expandableButtons",width:40};a.cellTemplate=i.get("ui-grid/expandableRowHeader");o.grid.addRowHeaderColumn(a)}e.initializeGrid(o.grid)},post:function(e,i,t,r){}}}}}]);e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval",function(e,i,t,r,n,o){return{replace:false,priority:0,scope:false,compile:function(){return{pre:function(e,i,r,o){n.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){var n=t(r)(e);i.append(n);e.row.expandedRendered=true})},post:function(e,i,t,r){e.$on("$destroy",function(){e.row.expandedRendered=false})}}}}}]);e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,i,t){return{priority:-200,scope:false,compile:function(e,i){return{pre:function(e,i,t,r){e.expandableRow={};e.expandableRow.shouldRenderExpand=function(){var i=e.colContainer.name==="body"&&e.grid.options.enableExpandable!==false&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return i};e.expandableRow.shouldRenderFiller=function(){var i=e.row.isExpanded&&(e.colContainer.name!=="body"||e.grid.isScrollingVertically&&!e.row.expandedRendered);return i};function n(){var i=e.grid;var t=i.getColumn("expandableButtons").width;return".grid"+i.id+" .ui-grid-pinned-container-"+e.colContainer.name+", .grid"+i.id+" .ui-grid-pinned-container-"+e.colContainer.name+" .ui-grid-render-container-"+e.colContainer.name+" .ui-grid-viewport .ui-grid-canvas .ui-grid-row { width: "+t+"px; }"
}if(e.colContainer.name==="left"){e.grid.registerStyleComputation({priority:15,func:n})}},post:function(e,i,t,r){}}}}}]);e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,i,t){return{priority:-200,scope:false,compile:function(e,i){var r=angular.element(e.children().children()[0]);var n=t.get("ui-grid/expandableScrollFiller");var o=t.get("ui-grid/expandableRow");r.append(o);r.append(n);return{pre:function(e,i,t,r){},post:function(e,i,t,r){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",LINK_LABEL:"LINK_LABEL",BUTTON_LABEL:"BUTTON_LABEL"});e.service("uiGridExporterService",["$q","uiGridExporterConstants","uiGridSelectionConstants","gridUtil","$compile","$interval","i18nService",function(e,i,t,r,n,o,a){var l={initializeGrid:function(e){e.exporter={};this.defaultGridOptions(e.options);var i={events:{exporter:{}},methods:{exporter:{csvExport:function(i,t,r){l.csvExport(e,i,t,r)},pdfExport:function(i,t){l.pdfExport(e,i,t)}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods);if(e.api.core.addToGridMenu){l.addToMenu(e)}else{o(function(){if(e.api.core.addToGridMenu){l.addToMenu(e)}},100,1)}},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===true;e.exporterLinkTemplate=e.exporterLinkTemplate?e.exporterLinkTemplate:"ui-grid/csvLink";e.exporterHeaderTemplate=e.exporterHeaderTemplate?e.exporterHeaderTemplate:"ui-grid/exporterHeader";e.exporterLinkLabel=e.exporterLinkLabel?e.exporterLinkLabel:"Download CSV";e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export";e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[];e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11};e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]};e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:true,fontSize:12,color:"black"};e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape";e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4";e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720;e.exporterMenuCsv=e.exporterMenuCsv!==undefined?e.exporterMenuCsv:true;e.exporterMenuPdf=e.exporterMenuPdf!==undefined?e.exporterMenuPdf:true;e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,i,t,r){return r}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.exporterAllAsCsv"),action:function(e){this.grid.api.exporter.csvExport(i.ALL,i.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(i.VISIBLE,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(i.SELECTED,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&(this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0)}},{title:a.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(i.ALL,i.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(i.VISIBLE,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(i.SELECTED,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&(this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0)}}])},csvExport:function(e,i,t,n){var o=this.getColumnHeaders(e,t);var a=this.getData(e,i,t);var l=this.formatAsCsv(o,a);if(!n&&e.options.exporterCsvLinkElement){n=e.options.exporterCsvLinkElement}if(n){this.renderCsvLink(e,l,n)}else{r.logError("Exporter asked to export as csv, but no element provided.  Perhaps you should set gridOptions.exporterCsvLinkElement?")}},getColumnHeaders:function(e,r){var n=[];angular.forEach(e.columns,function(o,a){if((o.visible||r===i.ALL)&&o.name!==t.selectionRowHeaderColName&&e.options.exporterSuppressColumns.indexOf(o.name)===-1){n.push({name:o.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilter(o.displayName):o.displayName,width:o.drawnWidth?o.drawnWidth:o.width,align:o.colDef.type==="number"?"right":"left"})}});return n},getData:function(e,n,o){var a=[];var l;switch(n){case i.ALL:l=e.rows;break;case i.VISIBLE:l=e.getVisibleRows();break;case i.SELECTED:if(e.api.selection){l=e.api.selection.getSelectedGridRows()}else{r.logError("selection feature must be enabled to allow selected rows to be exported")}break}if(i.ALL){angular.forEach(l,function(r,n){var l=[];angular.forEach(e.columns,function(n,a){if((n.visible||o===i.ALL)&&n.name!==t.selectionRowHeaderColName&&e.options.exporterSuppressColumns.indexOf(n.name)===-1){l.push(e.options.exporterFieldCallback(e,r,n,e.getCellValue(r,n)))}});a.push(l)});return a}},formatAsCsv:function(e,i){var t=this;var r=e.map(function(e){return e.displayName});var n=t.formatRowAsCsv(this)(r)+"\n";n+=i.map(this.formatRowAsCsv(this)).join("\n");return n},formatRowAsCsv:function(e){return function(i){return i.map(e.formatFieldAsCsv).join(",")}},formatFieldAsCsv:function(e){if(e==null){return""}if(typeof e==="number"){return e}if(typeof e==="boolean"){return e?"TRUE":"FALSE"}if(typeof e==="string"){return'"'+e.replace(/"/g,'""')+'"'}return JSON.stringify(e)},renderCsvLink:function(e,t,o){var a=o?o:angular.element(e.exporter.gridElm[0].querySelectorAll(".ui-grid-exporter-csv-link"));if(angular.element(a[0].querySelectorAll(".ui-grid-exporter-csv-link-span"))){angular.element(a[0].querySelectorAll(".ui-grid-exporter-csv-link-span")).remove()}var l=r.getTemplate(e.options.exporterLinkTemplate).then(function(r){r=r.replace(i.LINK_LABEL,e.options.exporterLinkLabel);r=r.replace(i.CSV_CONTENT,encodeURIComponent(t));var o=angular.element(r);var l=n(o)(e.exporter.$scope);a.append(l)})},pdfExport:function(e,i,t){var r=this.getColumnHeaders(e,t);var n=this.getData(e,i,t);var o=this.prepareAsPdf(e,r,n);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,i,t){var r=this.calculatePdfHeaderWidths(e,i);var n=i.map(function(e){return{text:e.displayName,style:"tableHeader"}});var o=t.map(this.formatRowAsPdf(this));var a=[n].concat(o);var l={pageOrientation:e.options.exporterPdfOrientation,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};if(e.options.exporterPdfLayout){l.layout=e.options.exporterPdfLayout}return l},calculatePdfHeaderWidths:function(e,i){var t=0;angular.forEach(i,function(e){if(typeof e.width==="number"){t+=e.width}});var r=0;angular.forEach(i,function(e){if(e.width==="*"){r+=100}if(typeof e.width==="string"&&e.width.match(/(\d)*%/)){var i=parseInt(e.width.match(/(\d)*%/)[0]);e.width=t*i/100;r+=e.width}});var n=t+r;return i.map(function(i){return i.width==="*"?i.width:i.width*e.options.exporterPdfMaxGridWidth/n})},formatRowAsPdf:function(e){return function(i){return i.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){if(e==null){return""}if(typeof e==="number"){return e.toString()}if(typeof e==="boolean"){return e?"TRUE":"FALSE"}if(typeof e==="string"){return e.replace(/"/g,'""')}return JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")}};return l}]);e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,i,t,r){return{replace:true,priority:0,require:"^uiGrid",scope:false,link:function(e,t,r,n){i.initializeGrid(n.grid);n.grid.exporter.$scope=e}}}])})();(function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"});e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,i,t,r,n,o,a,l){var s={initializeGrid:function(e,i){i.importer={$scope:e};this.defaultGridOptions(i.options);var t={events:{importer:{}},methods:{importer:{importFile:function(e,i){s.importFile(e,i)}}}};i.api.registerEventsFromObject(t.events);i.api.registerMethodsFromObject(t.methods);if(i.options.enableImporter&&i.options.importerShowMenu){if(i.api.core.addToGridMenu){s.addToMenu(i)}else{o(function(){if(i.api.core.addToGridMenu){s.addToMenu(i)}},100,1)}}},defaultGridOptions:function(e){if(e.enableImporter||e.enableImporter===undefined){if(!(l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob"))){r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used.");e.enableImporter=false}else{e.enableImporter=true}}else{e.enableImporter=false}e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders;e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e};if(!e.importerErrorCallback||typeof e.importerErrorCallback!=="function"){delete e.importerErrorCallback}if(e.enableImporter===true&&!e.importerDataAddCallback){r.logError("You have not set an importerDataAddCallback, importer is disabled");e.enableImporter=false}e.importerShowMenu=e.importerShowMenu!==false;e.importerObjectCallback=e.importerObjectCallback||function(e,i){return i}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle")},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(i){this.grid.api.importer.importAFile(e)}}])},importThisFile:function(e,i){if(!i){r.logError("No file object provided to importThisFile, should be impossible, aborting");return}var t=new FileReader;switch(i.type){case"application/json":t.onload=s.importJsonClosure(e);break;default:t.onload=s.importCsvClosure(e);break}t.readAsText(i)},importJsonClosure:function(e){return function(i){var t=[];var r;angular.forEach(s.parseJson(e,i),function(i,n){r=s.newObject(e);angular.extend(r,i);r=e.options.importerObjectCallback(e,r);t.push(r)});s.addObjects(e,t)}},parseJson:function(e,i){var t;try{t=JSON.parse(i.target.result)}catch(r){s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",i.target.result);return}if(!Array.isArray(t)){s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",i.target.result);return[]}else{return t}},importCsvClosure:function(e){return function(i){var t=s.parseCsv(i);if(!t||t.length<1){s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",i.target.result);return}var r=s.createCsvObjects(e,t);if(!r||r.length===0){s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",i.target.result);return}s.addObjects(e,r)}},parseCsv:function(e){var i=e.target.result;return CSV.parse(i)},createCsvObjects:function(e,i){var t=e.options.importerProcessHeaders(e,i.shift());if(!t||t.length===0){s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",i);return[]}var r=[];var n;angular.forEach(i,function(i,o){n=s.newObject(e);angular.forEach(i,function(e,i){if(t[i]!==null){n[t[i]]=e}});n=e.options.importerObjectCallback(e,n);r.push(n)});return r},processHeaders:function(e,i){var t=[];if(!e.options.columnDefs||e.options.columnDefs.length===0){angular.forEach(i,function(e,i){t.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))});return t}else{var r=s.flattenColumnDefs(e,e.options.columnDefs);angular.forEach(i,function(e,i){if(r[e]){t.push(r[e])}else if(r[e.toLowerCase()]){t.push(r[e.toLowerCase()])}else{t.push(null)}});return t}},flattenColumnDefs:function(e,i){var t={};angular.forEach(i,function(i,r){if(i.name){t[i.name]=i.field||i.name;t[i.name.toLowerCase()]=i.field||i.name}if(i.field){t[i.field]=i.field||i.name;t[i.field.toLowerCase()]=i.field||i.name}if(i.displayName){t[i.displayName]=i.field||i.name;t[i.displayName.toLowerCase()]=i.field||i.name}if(i.displayName&&e.options.importerHeaderFilter){t[e.options.importerHeaderFilter(i.displayName)]=i.field||i.name;t[e.options.importerHeaderFilter(i.displayName).toLowerCase()]=i.field||i.name}});return t},addObjects:function(e,t,r){if(e.api.rowEdit){var n=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(e,t);e.deregisterDataChangeCallback(n)},[i.dataChange.ROW]);var o=function(){e.deregisterDataChangeCallback(n)};e.importer.$scope.$on("$destroy",o)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,t))},newObject:function(e){if(typeof e.options!=="undefined"&&typeof e.options.importerNewObject!=="undefined"){return new e.options.importerNewObject}else{return{}}},alertError:function(e,i,t,n){if(e.options.importerErrorCallback){e.options.importerErrorCallback(e,i,t,n)}else{l.alert(a.getSafeText(i));r.logError(t+n)}}};return s}]);e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,i,t,r){return{replace:true,priority:0,require:"^uiGrid",scope:false,link:function(e,t,r,n){i.initializeGrid(e,n.grid)}}}]);e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,i,t,r){return{replace:true,priority:0,require:"^uiGrid",scope:false,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,n,o){var a=function(e){if(e.srcElement.files.length===1){var t=e.srcElement.files[0];i.importThisFile(s,t);e.srcElement.form.reset()}};var l=r[0].querySelectorAll(".ui-grid-importer-file-chooser");var s=o.grid;if(l.length!==1){t.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue")}else{l[0].addEventListener("change",a,false)}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout",function(e,i,t){var r={initializeGrid:function(e){r.defaultGridOptions(e.options);var i={events:{infiniteScroll:{needLoadMoreData:function(e,i){}}},methods:{infiniteScroll:{dataLoaded:function(){e.options.loadTimout=false}}}};e.options.loadTimout=false;e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==false},loadData:function(e){e.api.infiniteScroll.raise.needLoadMoreData();e.options.loadTimout=true},checkScroll:function(e,i){var t=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;if(!e.options.loadTimout&&i<=t){this.loadData(e);return true}return false}};return r}]);e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:false,require:"^uiGrid",compile:function(i,t,r){return{pre:function(i,t,r,n){e.initializeGrid(n.grid)},post:function(e,i,t){}}}}}]);e.directive("uiGridViewport",["$compile","gridUtil","uiGridInfiniteScrollService","uiGridConstants",function(e,i,t,r){return{priority:-200,scope:false,link:function(e,i,n){if(e.grid.options.enableInfiniteScroll){e.$on(r.events.GRID_SCROLL,function(i,r){if(r.y){var n=100-r.y.percentage*100;t.checkScroll(e.grid,n)}})}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout",function(e,i){var t={initializeGrid:function(e){var i=this;this.registerPublicApi(e);this.defaultGridOptions(e.options);e.registerColumnBuilder(i.movableColumnBuilder)},registerPublicApi:function(e){var i=this;var t={events:{colMovable:{columnPositionChanged:function(e,i,t){}}},methods:{colMovable:{moveColumn:function(t,r){i.redrawColumnAtPosition(e,t,r)}}}};e.api.registerEventsFromObject(t.events);e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==false},movableColumnBuilder:function(i,t,r){var n=[];i.enableColumnMoving=i.enableColumnMoving===undefined?r.enableColumnMoving:i.enableColumnMoving;return e.all(n)},redrawColumnAtPosition:function(e,t,r){var n=e.columns;var o=function(e){var i=e;for(var t=0;t<=i;t++){if(angular.isDefined(n[t].colDef.visible)&&n[t].colDef.visible===false||n[t].isRowHeader===true){i++}}return i};t=o(t);r=o(r);var a=n[t];if(a.colDef.enableColumnMoving){if(t>r){for(var l=t;l>r;l--){n[l]=n[l-1]}}else if(r>t){for(var s=t;s<r;s++){n[s]=n[s+1]}}n[r]=a;i(function(){e.refresh();e.api.colMovable.raise.columnPositionChanged(a.colDef,t,r)})}}};return t}]);e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(i,t,r,n){e.initializeGrid(n.grid)},post:function(e,i,t,r){}}}}}]);e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","uiGridConstants",function(e,i,t,r){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(r,n,o,a){if(r.col.colDef.enableColumnMoving){var l=function(l){if(l.toElement.className!=="ui-grid-icon-angle-down"){var s=n.clone();n.append(s);s.addClass("movingColumn");var d={};var u=r.grid.element[0].getBoundingClientRect().left;var c=n[0].getBoundingClientRect().left;d.left=c-u+"px";var f=r.grid.element[0].getBoundingClientRect().right;var p=n[0].getBoundingClientRect().right;var g;if(p>f){g=r.col.drawnWidth+(f-p);d.width=g+"px"}s.css(d);var h=l.pageX;var v=0;var m=u+r.grid.getViewportWidth()-r.grid.verticalScrollbarWidth;var C=function(e){a.fireEvent("hide-menu");var i=s[0].getBoundingClientRect().left-1;var t=s[0].getBoundingClientRect().right;var n=e.pageX-h;var o=i-u+n;o=o<m?o:m;if((i>=u||n>0)&&(t<=m||n<0)){s.css({visibility:"visible",left:o+"px"})}else{n*=5;a.fireScrollingEvent({x:{pixels:n*2.5}})}v+=n;h=e.pageX;if(g<r.col.drawnWidth){g+=Math.abs(n);s.css({width:g+"px"})}};var w=angular.element(i.closestElm(n,"body"));w.on("mousemove",C);r.$on("$destroy",function(){w.off("mousemove",C);w.off("mouseup",b)});var b=function(i){var n=e.defer();var l;o.$observe("renderIndex",function(e,i){l=r.$eval(e);n.resolve()});n.promise.then(function(){if(s){s.remove()}var e=r.grid.renderContainers["body"].visibleColumnCache;if(v<0){var n=0;for(var o=l-1;o>=0;o--){n+=e[o].drawnWidth;if(n>Math.abs(v)){t.redrawColumnAtPosition(r.grid,l,o+1);break}}if(n<Math.abs(v)){t.redrawColumnAtPosition(r.grid,l,0)}}else if(v>0){var d=0;for(var u=l+1;u<e.length;u++){d+=e[u].drawnWidth;if(d>v){t.redrawColumnAtPosition(r.grid,l,u-1);break}}if(d<v){t.redrawColumnAtPosition(r.grid,l,e.length-1)}}else if(v===0){var c=false;if(i.shiftKey){c=true}a.grid.sortColumn(r.col,c).then(function(){if(a.columnMenuScope){a.columnMenuScope.hideMenu()}a.grid.refresh()})}w.off("mousemove",C);w.off("mouseup",b)})};w.on("mouseup",b)}};n.on("mousedown",l)}}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService",function(e,i,t){var r={initializeGrid:function(e){r.defaultGridOptions(e.options);e.registerColumnBuilder(r.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==false},pinningColumnBuilder:function(e,i,r){e.enablePinning=e.enablePinning===undefined?r.enablePinning:e.enablePinning;if(e.pinnedLeft){i.renderContainer="left";i.grid.createLeftContainer()}else if(e.pinnedRight){i.renderContainer="right";i.grid.createRightContainer()}if(!e.enablePinning){return}var n={title:t.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof this.context.col.renderContainer==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){this.context.col.renderContainer="left";this.context.col.width=this.context.col.drawnWidth;this.context.col.grid.createLeftContainer();i.grid.refresh().then(function(){i.grid.refresh()})}};var o={title:t.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof this.context.col.renderContainer==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){this.context.col.renderContainer="right";this.context.col.width=this.context.col.drawnWidth;this.context.col.grid.createRightContainer();i.grid.refresh().then(function(){i.grid.refresh()})}};var a={title:t.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof this.context.col.renderContainer!=="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){this.context.col.renderContainer=null;i.grid.refresh().then(function(){i.grid.refresh()})}};i.menuItems.push(n);i.menuItems.push(o);i.menuItems.push(a)}};return r}]);e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,i){return{require:"uiGrid",scope:false,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(n.grid)},post:function(e,i,t,r){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.constant("columnBounds",{minWidth:35});e.service("uiGridResizeColumnsService",["gridUtil","$q",function(e,i){var t={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==false;if(e.enableColumnResize===false){e.enableColumnResizing=false}},colResizerColumnBuilder:function(e,t,r){var n=[];e.enableColumnResizing=e.enableColumnResizing===undefined?r.enableColumnResizing:e.enableColumnResizing;if(e.enableColumnResize===false){e.enableColumnResizing=false}return i.all(n)}};return t}]);e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,i){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,t,r,n){i.defaultGridOptions(n.grid.options);n.grid.registerColumnBuilder(i.colResizerColumnBuilder)},post:function(e,i,t,r){}}}}}]);e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q",function(e,i,t,r){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,o,a){if(a.grid.options.enableColumnResizing){var l=r.defer();o.$observe("renderIndex",function(i,t){e.renderIndex=e.$eval(i);l.resolve()});l.promise.then(function(){var r=i.get("ui-grid/columnResizer");var o=angular.element(r).clone();var a=angular.element(r).clone();o.attr("position","left");a.attr("position","right");var l=e.col;var s=l.getRenderContainer();var d=s.renderedColumns[e.renderIndex-1];if(d&&s.visibleColumnCache.indexOf(e.col)!==0&&d.colDef.enableColumnResizing!==false){n.prepend(o);t(o)(e)}if(e.col.colDef.enableColumnResizing!==false){n.append(a);t(a)(e)}})}}}}}}]);e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","columnBounds",function(e,i,t,r){var n=angular.element('<div class="ui-grid-resize-overlay"></div>');var o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,l,s){var d=0,u=0,c=0;if(o.position==="left"){a.addClass("left")}else if(o.position==="right"){a.addClass("right")}function f(e){var i=e.getRenderContainer();i.visibleColumnCache.forEach(function(i){if(i===e){return}var t=i.colDef;if(!t.width||angular.isString(t.width)&&(t.width.indexOf("*")!==-1||t.width.indexOf("%")!==-1)){i.width=i.drawnWidth}})}function p(e){s.grid.buildColumns().then(function(){s.grid.refreshCanvas(true)})}function g(e,i){if(e.originalEvent){e=e.originalEvent}e.preventDefault();u=e.clientX-c;if(u<0){u=0}else if(u>s.grid.gridWidth){u=s.grid.gridWidth}var a=o.col;var l=a.getRenderContainer();var f;if(o.position==="left"){a=l.renderedColumns[o.renderIndex-1];f=o.col}else if(o.position==="right"){f=l.renderedColumns[o.renderIndex+1]}if(a.colDef.enableColumnResizing===false){return}if(!s.grid.element.hasClass("column-resizing")){s.grid.element.addClass("column-resizing")}var p=u-d;var g=a.drawnWidth+p;if(a.colDef.minWidth&&g<a.colDef.minWidth){u=u+(a.colDef.minWidth-g)}else if(!a.colDef.minWidth&&r.minWidth&&g<r.minWidth){u=u+(a.colDef.minWidth-g)}else if(a.colDef.maxWidth&&g>a.colDef.maxWidth){u=u+(a.colDef.maxWidth-g)}n.css({left:u+"px"});s.fireEvent(t.events.ITEM_DRAGGING)}function h(i,t){if(i.originalEvent){i=i.originalEvent}i.preventDefault();s.grid.element.removeClass("column-resizing");n.remove();u=i.clientX-c;var a=u-d;if(a===0){e.off("mouseup",h);e.off("mousemove",g);return}var l=o.col;var v=l.getRenderContainer();var m;if(o.position==="left"){l=v.renderedColumns[o.renderIndex-1];m=o.col}else if(o.position==="right"){m=v.renderedColumns[o.renderIndex+1]}if(l.colDef.enableColumnResizing===false){return}var C=parseInt(l.drawnWidth+a,10);if(l.colDef.minWidth&&C<l.colDef.minWidth){C=l.colDef.minWidth}else if(!l.colDef.minWidth&&r.minWidth&&C<r.minWidth){C=r.minWidth}if(l.colDef.maxWidth&&C>l.colDef.maxWidth){C=l.colDef.maxWidth}l.width=C;f(l);p(a);e.off("mouseup",h);e.off("mousemove",g)}a.on("mousedown",function(i,t){if(i.originalEvent){i=i.originalEvent}i.stopPropagation();c=s.grid.element[0].getBoundingClientRect().left;d=i.clientX-c;s.grid.element.append(n);n.css({left:d});e.on("mouseup",h);e.on("mousemove",g)});a.on("dblclick",function(e,n){e.stopPropagation();var l=o.col;var s=l.getRenderContainer();var d,u;if(o.position==="left"){l=s.renderedColumns[o.renderIndex-1];d=o.col;u=1}else if(o.position==="right"){d=s.renderedColumns[o.renderIndex+1];d=s.renderedColumns[o.renderIndex+1];u=-1}var c=0;var g=0;var h=i.closestElm(a,".ui-grid-render-container");var v=h.querySelectorAll("."+t.COL_CLASS_PREFIX+l.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(v,function(e){var t;if(angular.element(e).parent().hasClass("ui-grid-header-cell")){t=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")}i.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var n=i.elementWidth(r);if(t){var o=i.elementWidth(t);n=n+o}if(n>c){c=n;g=c-n}})});if(l.colDef.minWidth&&c<l.colDef.minWidth){c=l.colDef.minWidth}else if(!l.colDef.minWidth&&r.minWidth&&c<r.minWidth){c=r.minWidth}if(l.colDef.maxWidth&&c>l.colDef.maxWidth){c=l.colDef.maxWidth}l.width=parseInt(c,10);f(l);p(g)});a.on("$destroy",function(){a.off("mousedown");a.off("dblclick");e.off("mousemove",g);e.off("mouseup",h)})}};return o}])})();(function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{});e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,i,t,r,n){var o={initializeGrid:function(e,i){i.rowEdit={};var t={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,i,t){o.setSavePromise(e,i,t)},getDirtyRows:function(e){return e.rowEdit.dirtyRows?e.rowEdit.dirtyRows:[]},getErrorRows:function(e){return e.rowEdit.errorRows?e.rowEdit.errorRows:[]},flushDirtyRows:function(e){return o.flushDirtyRows(e)},setRowsDirty:function(e,i){o.setRowsDirty(e,i)}}}};i.api.registerEventsFromObject(t.events);i.api.registerMethodsFromObject(t.methods);i.api.core.on.renderingComplete(e,function(t){i.api.edit.on.afterCellEdit(e,o.endEditCell);i.api.edit.on.beginCellEdit(e,o.beginEditCell);i.api.edit.on.cancelCellEdit(e,o.cancelEditCell);if(i.api.cellNav){i.api.cellNav.on.navigate(e,o.navigate)}})},defaultGridOptions:function(e){},saveRow:function(e,i){var t=this;return function(){i.isSaving=true;var r=e.api.rowEdit.raise.saveRow(i.entity);if(i.rowEditSavePromise){i.rowEditSavePromise.then(t.processSuccessPromise(e,i),t.processErrorPromise(e,i))}else{n.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise")}return r}},setSavePromise:function(e,i,t){var r=e.getRow(i);r.rowEditSavePromise=t},processSuccessPromise:function(e,i){var t=this;return function(){delete i.isSaving;delete i.isDirty;delete i.isError;delete i.rowEditSaveTimer;t.removeRow(e.rowEdit.errorRows,i);t.removeRow(e.rowEdit.dirtyRows,i)}},processErrorPromise:function(e,i){return function(){delete i.isSaving;delete i.rowEditSaveTimer;i.isError=true;if(!e.rowEdit.errorRows){e.rowEdit.errorRows=[]}if(!o.isRowPresent(e.rowEdit.errorRows,i)){e.rowEdit.errorRows.push(i)}}},removeRow:function(e,i){angular.forEach(e,function(t,r){if(t.uid===i.uid){e.splice(r,1)}})},isRowPresent:function(e,i){var t=false;angular.forEach(e,function(e,r){if(e.uid===i.uid){t=true}});return t},flushDirtyRows:function(e){var t=[];angular.forEach(e.rowEdit.dirtyRows,function(i){o.saveRow(e,i)();t.push(i.rowEditSavePromise)});return i.all(t)},endEditCell:function(e,i,t,r){var a=this.grid;var l=a.getRow(e);if(!l){n.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");return}if(t!==r||l.isDirty){if(!a.rowEdit.dirtyRows){a.rowEdit.dirtyRows=[]}if(!l.isDirty){l.isDirty=true;a.rowEdit.dirtyRows.push(l)}delete l.isError;o.considerSetTimer(a,l)}},beginEditCell:function(e,i){var t=this.grid;var r=t.getRow(e);if(!r){n.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");return}o.cancelTimer(t,r)},cancelEditCell:function(e,i){var t=this.grid;var r=t.getRow(e);if(!r){n.logError("Unable to find rowEntity in grid data, timer cannot be set");return}o.considerSetTimer(t,r)},navigate:function(e,i){var t=this.grid;if(e.row.rowEditSaveTimer){o.cancelTimer(t,e.row)}if(i&&i.row&&i.row!==e.row){o.considerSetTimer(t,i.row)}},considerSetTimer:function(i,t){o.cancelTimer(i,t);if(t.isDirty&&!t.isSaving){if(i.options.rowEditWaitInterval!==-1){var r=i.options.rowEditWaitInterval?i.options.rowEditWaitInterval:2e3;t.rowEditSaveTimer=e(o.saveRow(i,t),r,1)}}},cancelTimer:function(i,t){if(t.rowEditSaveTimer&&!t.isSaving){e.cancel(t.rowEditSaveTimer);delete t.rowEditSaveTimer}},setRowsDirty:function(e,i){var t;i.forEach(function(i,r){t=e.getRow(i);if(t){if(!e.rowEdit.dirtyRows){e.rowEdit.dirtyRows=[]}if(!t.isDirty){t.isDirty=true;e.rowEdit.dirtyRows.push(t)}delete t.isError;o.considerSetTimer(e,t)}else{n.logError("requested row not found in rowEdit.setRowsDirty, row was: "+i)}})}};return o}]);e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,i,t){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,t,r,n){i.initializeGrid(e,n.grid)},post:function(e,i,t,r){}}}}}]);e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,i,t,r){return{priority:-200,scope:false,compile:function(e,i){var t=angular.element(e.children().children()[0]);var r=t.attr("ng-class");var n="";if(r){n=r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}"}else{n="{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}"}t.attr("ng-class",n);return{pre:function(e,i,t,r){},post:function(e,i,t,r){}}}}}])})();(function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"});e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,i,t,r){var n={initializeGrid:function(e){e.selection={};e.selection.lastSelectedRow=null;e.selection.selectAll=false;n.defaultGridOptions(e.options);var i={events:{selection:{rowSelectionChanged:function(e,i){},rowSelectionChangedBatch:function(e,i){}}},methods:{selection:{toggleRowSelection:function(i){var t=e.getRow(i);if(t!==null){n.toggleRowSelection(e,t,e.options.multiSelect,e.options.noUnselect)}},selectRow:function(i){var t=e.getRow(i);if(t!==null&&!t.isSelected){n.toggleRowSelection(e,t,e.options.multiSelect,e.options.noUnselect)
}},selectRowByVisibleIndex:function(i){var t=e.renderContainers.body.visibleRowCache[i];if(t!==null&&!t.isSelected){n.toggleRowSelection(e,t,e.options.multiSelect,e.options.noUnselect)}},unSelectRow:function(i){var t=e.getRow(i);if(t!==null&&t.isSelected){n.toggleRowSelection(e,t,e.options.multiSelect,e.options.noUnselect)}},selectAllRows:function(){if(e.options.multiSelect===false){return}var i=[];e.rows.forEach(function(t){if(!t.isSelected){t.isSelected=true;n.decideRaiseSelectionEvent(e,t,i)}});n.decideRaiseSelectionBatchEvent(e,i)},selectAllVisibleRows:function(){if(e.options.multiSelect===false){return}var i=[];e.rows.forEach(function(t){if(t.visible){if(!t.isSelected){t.isSelected=true;n.decideRaiseSelectionEvent(e,t,i)}}else{if(t.isSelected){t.isSelected=false;n.decideRaiseSelectionEvent(e,t,i)}}});n.decideRaiseSelectionBatchEvent(e,i)},clearSelectedRows:function(){n.clearSelectedRows(e)},getSelectedRows:function(){return n.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return n.getSelectedRows(e)},setMultiSelect:function(i){e.options.multiSelect=i},setModifierKeysToMultiSelect:function(i){e.options.modifierKeysToMultiSelect=i},getSelectAllState:function(e){return e.selection.selectAll}}}};e.api.registerEventsFromObject(i.events);e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==false;e.multiSelect=e.multiSelect!==false;e.noUnselect=e.noUnselect===true;e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===true;e.enableRowHeaderSelection=e.enableRowHeaderSelection!==false;e.enableSelectAll=e.enableSelectAll!==false;e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==false},toggleRowSelection:function(e,i,t,r){var o=i.isSelected;if(!t&&!o){n.clearSelectedRows(e)}else if(!t&&o){var a=n.getSelectedRows(e);if(a.length>1){o=false;n.clearSelectedRows(e)}}if(o&&r){}else{i.isSelected=!o;if(i.isSelected===true){e.selection.lastSelectedRow=i}e.api.selection.raise.rowSelectionChanged(i)}},shiftSelect:function(e,i,t){if(!t){return}var r=n.getSelectedRows(e);var o=r.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0;var a=e.renderContainers.body.visibleRowCache.indexOf(i);if(o>a){var l=o;o=a;a=l}var s=[];for(var d=o;d<=a;d++){var u=e.renderContainers.body.visibleRowCache[d];if(u){if(!u.isSelected){u.isSelected=true;e.selection.lastSelectedRow=u;n.decideRaiseSelectionEvent(e,i,s)}}}n.decideRaiseSelectionBatchEvent(e,s)},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e){var i=[];n.getSelectedRows(e).forEach(function(t){if(t.isSelected){t.isSelected=false;n.decideRaiseSelectionEvent(e,t,i)}});n.decideRaiseSelectionBatchEvent(e,i)},decideRaiseSelectionEvent:function(e,i,t){if(!e.options.enableSelectionBatchEvent){e.api.selection.raise.rowSelectionChanged(i)}else{t.push(i)}},decideRaiseSelectionBatchEvent:function(e,i){if(i.length>0){e.api.selection.raise.rowSelectionChangedBatch(i)}}};return n}]);e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,i,t){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(t,r,n,o){i.initializeGrid(o.grid);if(o.grid.options.enableRowHeaderSelection){var a={name:e.selectionRowHeaderColName,displayName:"",width:30,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:false};o.grid.addRowHeaderColumn(a)}},post:function(e,i,t,r){}}}}}]);e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function(e,i){return{replace:true,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:true,require:"^uiGrid",link:function(e,t,r,n){var o=n.grid;e.selectButtonClick=function(e,t){if(t.shiftKey){i.shiftSelect(o,e,o.options.multiSelect)}else if(t.ctrlKey||t.metaKey){i.toggleRowSelection(o,e,o.options.multiSelect,o.options.noUnselect)}else{i.toggleRowSelection(o,e,o.options.multiSelect&&!o.options.modifierKeysToMultiSelect,o.options.noUnselect)}}}}}]);e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,i){return{replace:true,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:false,link:function(e,t,r,n){var o=e.col.grid;e.headerButtonClick=function(e,t){if(o.selection.selectAll){i.clearSelectedRows(o);if(o.options.noUnselect){o.api.selection.selectRowByVisibleIndex(0)}o.selection.selectAll=false}else{if(o.options.multiSelect){o.api.selection.selectAllVisibleRows();o.selection.selectAll=true}}}}}}]);e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,i,t,r,n,o){return{priority:-200,scope:false,compile:function(e,i){var t=angular.element(e.children().children()[0]);var r=t.attr("ng-class");var n="";if(r){n=r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}"}else{n="{'ui-grid-row-selected': row.isSelected}"}t.attr("ng-class",n);return{pre:function(e,i,t,r){},post:function(e,i,t,r){}}}}}]);e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,i,t,r,n,o){return{priority:-200,restrict:"A",scope:false,link:function(e,i,t){if(e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection){i.addClass("ui-grid-disable-selection");r()}function r(){i.on("click",function(i){if(i.shiftKey){o.shiftSelect(e.grid,e.row,e.grid.options.multiSelect)}else if(i.ctrlKey||i.metaKey){o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect,e.grid.options.noUnselect)}else{o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect)}e.$apply()})}}}}])})();angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>');e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>');e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div></div>');e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>');e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>');e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>');e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n'+"      /* Styles for the grid */\n"+"    }\n"+"\n"+"    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n"+"      height: {{ grid.options.rowHeight }}px;\n"+"    }\n"+"\n"+"    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n"+"      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && '1') || '0' }}px;\n"+"    }\n"+"\n"+"    {{ grid.verticalScrollbarStyles }}\n"+"    {{ grid.horizontalScrollbarStyles }}\n"+"\n"+"    .ui-grid[dir=rtl] .ui-grid-viewport {\n"+"      padding-left: {{ grid.verticalScrollbarWidth }}px;\n"+"    }\n"+"\n"+'    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-scrollbars="grid.options.enableScrollbars"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>');e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>');e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>');e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n'+'    <div class="inner" ng-show="menuShown">\n'+"      <ul>\n"+'        <div ng-show="grid.options.enableSorting">\n'+'          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n'+'          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n'+'          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n'+"        </div>\n"+"      </ul>\n"+"    </div>\n"+"  </div> --></div></div>");e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationValue() }}</div></div>');e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex">{{ col.displayName CUSTOM_FILTERS }} <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" class="ui-grid-column-menu-button" ng-click="toggleMenu($event)"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-click="$event.stopPropagation()" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel right" ng-show="!!colFilter.term">&nbsp;</i><!-- use !! because angular interprets \'f\' as false --></div></div></div>');e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" title="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>');e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ title }}</li>');e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showFooter"></div><!-- native scrolling --><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="vertical"></div><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="horizontal"></div></div>');e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by row.uid" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>');e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="{{inputType}}" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>');e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>');e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth() - grid.verticalScrollbarWidth) + \'px\'\n'+"     , height: grid.options.expandableRowHeight + 'px'}\"></div>");e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>');e.put("ui-grid/expandableScrollFiller",'<div ng-if="expandableRow.shouldRenderFiller()" style="float:left; margin-top: 2px; margin-bottom: 2px" ng-style="{ width: (grid.getViewportWidth()) + \'px\',\n'+"              height: grid.options.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n"+"            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>");e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT">LINK_LABEL</a></span>');e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>');e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>");e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>');e.put("ui-grid/selectionHeaderCell",'<div><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>');e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-row-header-cell ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>');e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>');e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)">&nbsp;</div>')}]);