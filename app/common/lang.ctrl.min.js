(function(){"use strict";angular.module("fc.common").controller("LanguageCtrl",n);n.$inject=["$rootScope","$translate","lodash","appConfig","configSvc","langSvc"];function n(n,a,e,g,t,u){var c=this;c.activate=o;c.currentLang=null;c.setLanguage=i;c.languages=[];o();function o(){r()}function r(){u.getActiveLanguages().then(function(u){var o=t.getLocalConfig();a.use(o.languageCode);c.languages=u;c.currentLang=e(c.languages).filter(function(n){return n.code===o.languageCode}).first();n.language=c.currentLang;n.$broadcast(g.languageChanged,c.currentLang)})}function l(n){var a=t.getLocalConfig();a.languageCode=n.code;t.setLocalConfig(a)}function i(e){a.use(e.code);c.currentLang=e;l(e);n.language=e;n.$broadcast(g.languageChanged,c.currentLang)}}})();